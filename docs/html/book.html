
<!-- A html document -->
<!-- 
with standard nbconvert css layout
with standard nbconvert input/output content
standard html tag wrapping
with mathjax loaded
with jupyter wigets
 caption and label elements according to ipub meta tags  
with fuzzingbook adaptations -->
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" /><title>About this Book - Generating Software Tests</title>

<style type="text/css">
    /*!
*
* Twitter Bootstrap
*
*/
/*!
 * Bootstrap v3.3.7 (http://getbootstrap.com)
 * Copyright 2011-2016 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */
/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */
html {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
}
body {
  margin: 0;
}
article,
aside,
details,
figcaption,
figure,
footer,
header,
hgroup,
main,
menu,
nav,
section,
summary {
  display: block;
}
audio,
canvas,
progress,
video {
  display: inline-block;
  vertical-align: baseline;
}
audio:not([controls]) {
  display: none;
  height: 0;
}
[hidden],
template {
  display: none;
}
a {
  background-color: transparent;
}
a:active,
a:hover {
  outline: 0;
}
abbr[title] {
  border-bottom: 1px dotted;
}
b,
strong {
  font-weight: bold;
}
dfn {
  font-style: italic;
}
h1 {
  font-size: 2em;
  margin: 0.67em 0;
}
mark {
  background: #ff0;
  color: #000;
}
small {
  font-size: 80%;
}
sub,
sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
sup {
  top: -0.5em;
}
sub {
  bottom: -0.25em;
}
img {
  border: 0;
}
svg:not(:root) {
  overflow: hidden;
}
figure {
  margin: 1em 40px;
}
hr {
  box-sizing: content-box;
  height: 0;
}
pre {
  overflow: auto;
}
code,
kbd,
pre,
samp {
  font-family: monospace, monospace;
  font-size: 1em;
}
button,
input,
optgroup,
select,
textarea {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
}
button,
select {
  text-transform: none;
}
button,
html input[type="button"],
input[type="reset"],
input[type="submit"] {
  -webkit-appearance: button;
  cursor: pointer;
}
button[disabled],
html input[disabled] {
  cursor: default;
}
button::-moz-focus-inner,
input::-moz-focus-inner {
  border: 0;
  padding: 0;
}
input {
  line-height: normal;
}
input[type="checkbox"],
input[type="radio"] {
  box-sizing: border-box;
  padding: 0;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: textfield;
  box-sizing: content-box;
}
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
fieldset {
  border: 1px solid #c0c0c0;
  margin: 0 2px;
  padding: 0.35em 0.625em 0.75em;
}
legend {
  border: 0;
  padding: 0;
}
textarea {
  overflow: auto;
}
optgroup {
  font-weight: bold;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
td,
th {
  padding: 0;
}
/*! Source: https://github.com/h5bp/html5-boilerplate/blob/master/src/css/main.css */
@media print {
  *,
  *:before,
  *:after {
    background: transparent !important;
    color: #000 !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  a,
  a:visited {
    text-decoration: underline;
  }
  a[href]:after {
    content: " (" attr(href) ")";
  }
  abbr[title]:after {
    content: " (" attr(title) ")";
  }
  a[href^="#"]:after,
  a[href^="javascript:"]:after {
    content: "";
  }
  pre,
  blockquote {
    border: 1px solid #999;
    page-break-inside: avoid;
  }
  thead {
    display: table-header-group;
  }
  tr,
  img {
    page-break-inside: avoid;
  }
  img {
    max-width: 100% !important;
  }
  p,
  h2,
  h3 {
    orphans: 3;
    widows: 3;
  }
  h2,
  h3 {
    page-break-after: avoid;
  }
  .navbar {
    display: none;
  }
  .btn > .caret,
  .dropup > .btn > .caret {
    border-top-color: #000 !important;
  }
  .label {
    border: 1px solid #000;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
  .table-bordered th,
  .table-bordered td {
    border: 1px solid #ddd !important;
  }
}
@font-face {
  font-family: 'Glyphicons Halflings';
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot');
  src: url('../components/bootstrap/fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff2') format('woff2'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.woff') format('woff'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.ttf') format('truetype'), url('../components/bootstrap/fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');
}
.glyphicon {
  position: relative;
  top: 1px;
  display: inline-block;
  font-family: 'Glyphicons Halflings';
  font-style: normal;
  font-weight: normal;
  line-height: 1;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.glyphicon-asterisk:before {
  content: "\002a";
}
.glyphicon-plus:before {
  content: "\002b";
}
.glyphicon-euro:before,
.glyphicon-eur:before {
  content: "\20ac";
}
.glyphicon-minus:before {
  content: "\2212";
}
.glyphicon-cloud:before {
  content: "\2601";
}
.glyphicon-envelope:before {
  content: "\2709";
}
.glyphicon-pencil:before {
  content: "\270f";
}
.glyphicon-glass:before {
  content: "\e001";
}
.glyphicon-music:before {
  content: "\e002";
}
.glyphicon-search:before {
  content: "\e003";
}
.glyphicon-heart:before {
  content: "\e005";
}
.glyphicon-star:before {
  content: "\e006";
}
.glyphicon-star-empty:before {
  content: "\e007";
}
.glyphicon-user:before {
  content: "\e008";
}
.glyphicon-film:before {
  content: "\e009";
}
.glyphicon-th-large:before {
  content: "\e010";
}
.glyphicon-th:before {
  content: "\e011";
}
.glyphicon-th-list:before {
  content: "\e012";
}
.glyphicon-ok:before {
  content: "\e013";
}
.glyphicon-remove:before {
  content: "\e014";
}
.glyphicon-zoom-in:before {
  content: "\e015";
}
.glyphicon-zoom-out:before {
  content: "\e016";
}
.glyphicon-off:before {
  content: "\e017";
}
.glyphicon-signal:before {
  content: "\e018";
}
.glyphicon-cog:before {
  content: "\e019";
}
.glyphicon-trash:before {
  content: "\e020";
}
.glyphicon-home:before {
  content: "\e021";
}
.glyphicon-file:before {
  content: "\e022";
}
.glyphicon-time:before {
  content: "\e023";
}
.glyphicon-road:before {
  content: "\e024";
}
.glyphicon-download-alt:before {
  content: "\e025";
}
.glyphicon-download:before {
  content: "\e026";
}
.glyphicon-upload:before {
  content: "\e027";
}
.glyphicon-inbox:before {
  content: "\e028";
}
.glyphicon-play-circle:before {
  content: "\e029";
}
.glyphicon-repeat:before {
  content: "\e030";
}
.glyphicon-refresh:before {
  content: "\e031";
}
.glyphicon-list-alt:before {
  content: "\e032";
}
.glyphicon-lock:before {
  content: "\e033";
}
.glyphicon-flag:before {
  content: "\e034";
}
.glyphicon-headphones:before {
  content: "\e035";
}
.glyphicon-volume-off:before {
  content: "\e036";
}
.glyphicon-volume-down:before {
  content: "\e037";
}
.glyphicon-volume-up:before {
  content: "\e038";
}
.glyphicon-qrcode:before {
  content: "\e039";
}
.glyphicon-barcode:before {
  content: "\e040";
}
.glyphicon-tag:before {
  content: "\e041";
}
.glyphicon-tags:before {
  content: "\e042";
}
.glyphicon-book:before {
  content: "\e043";
}
.glyphicon-bookmark:before {
  content: "\e044";
}
.glyphicon-print:before {
  content: "\e045";
}
.glyphicon-camera:before {
  content: "\e046";
}
.glyphicon-font:before {
  content: "\e047";
}
.glyphicon-bold:before {
  content: "\e048";
}
.glyphicon-italic:before {
  content: "\e049";
}
.glyphicon-text-height:before {
  content: "\e050";
}
.glyphicon-text-width:before {
  content: "\e051";
}
.glyphicon-align-left:before {
  content: "\e052";
}
.glyphicon-align-center:before {
  content: "\e053";
}
.glyphicon-align-right:before {
  content: "\e054";
}
.glyphicon-align-justify:before {
  content: "\e055";
}
.glyphicon-list:before {
  content: "\e056";
}
.glyphicon-indent-left:before {
  content: "\e057";
}
.glyphicon-indent-right:before {
  content: "\e058";
}
.glyphicon-facetime-video:before {
  content: "\e059";
}
.glyphicon-picture:before {
  content: "\e060";
}
.glyphicon-map-marker:before {
  content: "\e062";
}
.glyphicon-adjust:before {
  content: "\e063";
}
.glyphicon-tint:before {
  content: "\e064";
}
.glyphicon-edit:before {
  content: "\e065";
}
.glyphicon-share:before {
  content: "\e066";
}
.glyphicon-check:before {
  content: "\e067";
}
.glyphicon-move:before {
  content: "\e068";
}
.glyphicon-step-backward:before {
  content: "\e069";
}
.glyphicon-fast-backward:before {
  content: "\e070";
}
.glyphicon-backward:before {
  content: "\e071";
}
.glyphicon-play:before {
  content: "\e072";
}
.glyphicon-pause:before {
  content: "\e073";
}
.glyphicon-stop:before {
  content: "\e074";
}
.glyphicon-forward:before {
  content: "\e075";
}
.glyphicon-fast-forward:before {
  content: "\e076";
}
.glyphicon-step-forward:before {
  content: "\e077";
}
.glyphicon-eject:before {
  content: "\e078";
}
.glyphicon-chevron-left:before {
  content: "\e079";
}
.glyphicon-chevron-right:before {
  content: "\e080";
}
.glyphicon-plus-sign:before {
  content: "\e081";
}
.glyphicon-minus-sign:before {
  content: "\e082";
}
.glyphicon-remove-sign:before {
  content: "\e083";
}
.glyphicon-ok-sign:before {
  content: "\e084";
}
.glyphicon-question-sign:before {
  content: "\e085";
}
.glyphicon-info-sign:before {
  content: "\e086";
}
.glyphicon-screenshot:before {
  content: "\e087";
}
.glyphicon-remove-circle:before {
  content: "\e088";
}
.glyphicon-ok-circle:before {
  content: "\e089";
}
.glyphicon-ban-circle:before {
  content: "\e090";
}
.glyphicon-arrow-left:before {
  content: "\e091";
}
.glyphicon-arrow-right:before {
  content: "\e092";
}
.glyphicon-arrow-up:before {
  content: "\e093";
}
.glyphicon-arrow-down:before {
  content: "\e094";
}
.glyphicon-share-alt:before {
  content: "\e095";
}
.glyphicon-resize-full:before {
  content: "\e096";
}
.glyphicon-resize-small:before {
  content: "\e097";
}
.glyphicon-exclamation-sign:before {
  content: "\e101";
}
.glyphicon-gift:before {
  content: "\e102";
}
.glyphicon-leaf:before {
  content: "\e103";
}
.glyphicon-fire:before {
  content: "\e104";
}
.glyphicon-eye-open:before {
  content: "\e105";
}
.glyphicon-eye-close:before {
  content: "\e106";
}
.glyphicon-warning-sign:before {
  content: "\e107";
}
.glyphicon-plane:before {
  content: "\e108";
}
.glyphicon-calendar:before {
  content: "\e109";
}
.glyphicon-random:before {
  content: "\e110";
}
.glyphicon-comment:before {
  content: "\e111";
}
.glyphicon-magnet:before {
  content: "\e112";
}
.glyphicon-chevron-up:before {
  content: "\e113";
}
.glyphicon-chevron-down:before {
  content: "\e114";
}
.glyphicon-retweet:before {
  content: "\e115";
}
.glyphicon-shopping-cart:before {
  content: "\e116";
}
.glyphicon-folder-close:before {
  content: "\e117";
}
.glyphicon-folder-open:before {
  content: "\e118";
}
.glyphicon-resize-vertical:before {
  content: "\e119";
}
.glyphicon-resize-horizontal:before {
  content: "\e120";
}
.glyphicon-hdd:before {
  content: "\e121";
}
.glyphicon-bullhorn:before {
  content: "\e122";
}
.glyphicon-bell:before {
  content: "\e123";
}
.glyphicon-certificate:before {
  content: "\e124";
}
.glyphicon-thumbs-up:before {
  content: "\e125";
}
.glyphicon-thumbs-down:before {
  content: "\e126";
}
.glyphicon-hand-right:before {
  content: "\e127";
}
.glyphicon-hand-left:before {
  content: "\e128";
}
.glyphicon-hand-up:before {
  content: "\e129";
}
.glyphicon-hand-down:before {
  content: "\e130";
}
.glyphicon-circle-arrow-right:before {
  content: "\e131";
}
.glyphicon-circle-arrow-left:before {
  content: "\e132";
}
.glyphicon-circle-arrow-up:before {
  content: "\e133";
}
.glyphicon-circle-arrow-down:before {
  content: "\e134";
}
.glyphicon-globe:before {
  content: "\e135";
}
.glyphicon-wrench:before {
  content: "\e136";
}
.glyphicon-tasks:before {
  content: "\e137";
}
.glyphicon-filter:before {
  content: "\e138";
}
.glyphicon-briefcase:before {
  content: "\e139";
}
.glyphicon-fullscreen:before {
  content: "\e140";
}
.glyphicon-dashboard:before {
  content: "\e141";
}
.glyphicon-paperclip:before {
  content: "\e142";
}
.glyphicon-heart-empty:before {
  content: "\e143";
}
.glyphicon-link:before {
  content: "\e144";
}
.glyphicon-phone:before {
  content: "\e145";
}
.glyphicon-pushpin:before {
  content: "\e146";
}
.glyphicon-usd:before {
  content: "\e148";
}
.glyphicon-gbp:before {
  content: "\e149";
}
.glyphicon-sort:before {
  content: "\e150";
}
.glyphicon-sort-by-alphabet:before {
  content: "\e151";
}
.glyphicon-sort-by-alphabet-alt:before {
  content: "\e152";
}
.glyphicon-sort-by-order:before {
  content: "\e153";
}
.glyphicon-sort-by-order-alt:before {
  content: "\e154";
}
.glyphicon-sort-by-attributes:before {
  content: "\e155";
}
.glyphicon-sort-by-attributes-alt:before {
  content: "\e156";
}
.glyphicon-unchecked:before {
  content: "\e157";
}
.glyphicon-expand:before {
  content: "\e158";
}
.glyphicon-collapse-down:before {
  content: "\e159";
}
.glyphicon-collapse-up:before {
  content: "\e160";
}
.glyphicon-log-in:before {
  content: "\e161";
}
.glyphicon-flash:before {
  content: "\e162";
}
.glyphicon-log-out:before {
  content: "\e163";
}
.glyphicon-new-window:before {
  content: "\e164";
}
.glyphicon-record:before {
  content: "\e165";
}
.glyphicon-save:before {
  content: "\e166";
}
.glyphicon-open:before {
  content: "\e167";
}
.glyphicon-saved:before {
  content: "\e168";
}
.glyphicon-import:before {
  content: "\e169";
}
.glyphicon-export:before {
  content: "\e170";
}
.glyphicon-send:before {
  content: "\e171";
}
.glyphicon-floppy-disk:before {
  content: "\e172";
}
.glyphicon-floppy-saved:before {
  content: "\e173";
}
.glyphicon-floppy-remove:before {
  content: "\e174";
}
.glyphicon-floppy-save:before {
  content: "\e175";
}
.glyphicon-floppy-open:before {
  content: "\e176";
}
.glyphicon-credit-card:before {
  content: "\e177";
}
.glyphicon-transfer:before {
  content: "\e178";
}
.glyphicon-cutlery:before {
  content: "\e179";
}
.glyphicon-header:before {
  content: "\e180";
}
.glyphicon-compressed:before {
  content: "\e181";
}
.glyphicon-earphone:before {
  content: "\e182";
}
.glyphicon-phone-alt:before {
  content: "\e183";
}
.glyphicon-tower:before {
  content: "\e184";
}
.glyphicon-stats:before {
  content: "\e185";
}
.glyphicon-sd-video:before {
  content: "\e186";
}
.glyphicon-hd-video:before {
  content: "\e187";
}
.glyphicon-subtitles:before {
  content: "\e188";
}
.glyphicon-sound-stereo:before {
  content: "\e189";
}
.glyphicon-sound-dolby:before {
  content: "\e190";
}
.glyphicon-sound-5-1:before {
  content: "\e191";
}
.glyphicon-sound-6-1:before {
  content: "\e192";
}
.glyphicon-sound-7-1:before {
  content: "\e193";
}
.glyphicon-copyright-mark:before {
  content: "\e194";
}
.glyphicon-registration-mark:before {
  content: "\e195";
}
.glyphicon-cloud-download:before {
  content: "\e197";
}
.glyphicon-cloud-upload:before {
  content: "\e198";
}
.glyphicon-tree-conifer:before {
  content: "\e199";
}
.glyphicon-tree-deciduous:before {
  content: "\e200";
}
.glyphicon-cd:before {
  content: "\e201";
}
.glyphicon-save-file:before {
  content: "\e202";
}
.glyphicon-open-file:before {
  content: "\e203";
}
.glyphicon-level-up:before {
  content: "\e204";
}
.glyphicon-copy:before {
  content: "\e205";
}
.glyphicon-paste:before {
  content: "\e206";
}
.glyphicon-alert:before {
  content: "\e209";
}
.glyphicon-equalizer:before {
  content: "\e210";
}
.glyphicon-king:before {
  content: "\e211";
}
.glyphicon-queen:before {
  content: "\e212";
}
.glyphicon-pawn:before {
  content: "\e213";
}
.glyphicon-bishop:before {
  content: "\e214";
}
.glyphicon-knight:before {
  content: "\e215";
}
.glyphicon-baby-formula:before {
  content: "\e216";
}
.glyphicon-tent:before {
  content: "\26fa";
}
.glyphicon-blackboard:before {
  content: "\e218";
}
.glyphicon-bed:before {
  content: "\e219";
}
.glyphicon-apple:before {
  content: "\f8ff";
}
.glyphicon-erase:before {
  content: "\e221";
}
.glyphicon-hourglass:before {
  content: "\231b";
}
.glyphicon-lamp:before {
  content: "\e223";
}
.glyphicon-duplicate:before {
  content: "\e224";
}
.glyphicon-piggy-bank:before {
  content: "\e225";
}
.glyphicon-scissors:before {
  content: "\e226";
}
.glyphicon-bitcoin:before {
  content: "\e227";
}
.glyphicon-btc:before {
  content: "\e227";
}
.glyphicon-xbt:before {
  content: "\e227";
}
.glyphicon-yen:before {
  content: "\00a5";
}
.glyphicon-jpy:before {
  content: "\00a5";
}
.glyphicon-ruble:before {
  content: "\20bd";
}
.glyphicon-rub:before {
  content: "\20bd";
}
.glyphicon-scale:before {
  content: "\e230";
}
.glyphicon-ice-lolly:before {
  content: "\e231";
}
.glyphicon-ice-lolly-tasted:before {
  content: "\e232";
}
.glyphicon-education:before {
  content: "\e233";
}
.glyphicon-option-horizontal:before {
  content: "\e234";
}
.glyphicon-option-vertical:before {
  content: "\e235";
}
.glyphicon-menu-hamburger:before {
  content: "\e236";
}
.glyphicon-modal-window:before {
  content: "\e237";
}
.glyphicon-oil:before {
  content: "\e238";
}
.glyphicon-grain:before {
  content: "\e239";
}
.glyphicon-sunglasses:before {
  content: "\e240";
}
.glyphicon-text-size:before {
  content: "\e241";
}
.glyphicon-text-color:before {
  content: "\e242";
}
.glyphicon-text-background:before {
  content: "\e243";
}
.glyphicon-object-align-top:before {
  content: "\e244";
}
.glyphicon-object-align-bottom:before {
  content: "\e245";
}
.glyphicon-object-align-horizontal:before {
  content: "\e246";
}
.glyphicon-object-align-left:before {
  content: "\e247";
}
.glyphicon-object-align-vertical:before {
  content: "\e248";
}
.glyphicon-object-align-right:before {
  content: "\e249";
}
.glyphicon-triangle-right:before {
  content: "\e250";
}
.glyphicon-triangle-left:before {
  content: "\e251";
}
.glyphicon-triangle-bottom:before {
  content: "\e252";
}
.glyphicon-triangle-top:before {
  content: "\e253";
}
.glyphicon-console:before {
  content: "\e254";
}
.glyphicon-superscript:before {
  content: "\e255";
}
.glyphicon-subscript:before {
  content: "\e256";
}
.glyphicon-menu-left:before {
  content: "\e257";
}
.glyphicon-menu-right:before {
  content: "\e258";
}
.glyphicon-menu-down:before {
  content: "\e259";
}
.glyphicon-menu-up:before {
  content: "\e260";
}
* {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
*:before,
*:after {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
html {
  font-size: 10px;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 13px;
  line-height: 1.42857143;
  color: #000;
  background-color: #fff;
}
input,
button,
select,
textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}
a {
  color: #337ab7;
  text-decoration: none;
}
a:hover,
a:focus {
  color: #23527c;
  text-decoration: underline;
}
a:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
figure {
  margin: 0;
}
img {
  vertical-align: middle;
}
.img-responsive,
.thumbnail > img,
.thumbnail a > img,
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  display: block;
  max-width: 100%;
  height: auto;
}
.img-rounded {
  border-radius: 3px;
}
.img-thumbnail {
  padding: 4px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: all 0.2s ease-in-out;
  -o-transition: all 0.2s ease-in-out;
  transition: all 0.2s ease-in-out;
  display: inline-block;
  max-width: 100%;
  height: auto;
}
.img-circle {
  border-radius: 50%;
}
hr {
  margin-top: 18px;
  margin-bottom: 18px;
  border: 0;
  border-top: 1px solid #eeeeee;
}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  border: 0;
}
.sr-only-focusable:active,
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
}
[role="button"] {
  cursor: pointer;
}
h1,
h2,
h3,
h4,
h5,
h6,
.h1,
.h2,
.h3,
.h4,
.h5,
.h6 {
  font-family: inherit;
  font-weight: 500;
  line-height: 1.1;
  color: inherit;
}
h1 small,
h2 small,
h3 small,
h4 small,
h5 small,
h6 small,
.h1 small,
.h2 small,
.h3 small,
.h4 small,
.h5 small,
.h6 small,
h1 .small,
h2 .small,
h3 .small,
h4 .small,
h5 .small,
h6 .small,
.h1 .small,
.h2 .small,
.h3 .small,
.h4 .small,
.h5 .small,
.h6 .small {
  font-weight: normal;
  line-height: 1;
  color: #777777;
}
h1,
.h1,
h2,
.h2,
h3,
.h3 {
  margin-top: 18px;
  margin-bottom: 9px;
}
h1 small,
.h1 small,
h2 small,
.h2 small,
h3 small,
.h3 small,
h1 .small,
.h1 .small,
h2 .small,
.h2 .small,
h3 .small,
.h3 .small {
  font-size: 65%;
}
h4,
.h4,
h5,
.h5,
h6,
.h6 {
  margin-top: 9px;
  margin-bottom: 9px;
}
h4 small,
.h4 small,
h5 small,
.h5 small,
h6 small,
.h6 small,
h4 .small,
.h4 .small,
h5 .small,
.h5 .small,
h6 .small,
.h6 .small {
  font-size: 75%;
}
h1,
.h1 {
  font-size: 33px;
}
h2,
.h2 {
  font-size: 27px;
}
h3,
.h3 {
  font-size: 23px;
}
h4,
.h4 {
  font-size: 17px;
}
h5,
.h5 {
  font-size: 13px;
}
h6,
.h6 {
  font-size: 12px;
}
p {
  margin: 0 0 9px;
}
.lead {
  margin-bottom: 18px;
  font-size: 14px;
  font-weight: 300;
  line-height: 1.4;
}
@media (min-width: 768px) {
  .lead {
    font-size: 19.5px;
  }
}
small,
.small {
  font-size: 92%;
}
mark,
.mark {
  background-color: #fcf8e3;
  padding: .2em;
}
.text-left {
  text-align: left;
}
.text-right {
  text-align: right;
}
.text-center {
  text-align: center;
}
.text-justify {
  text-align: justify;
}
.text-nowrap {
  white-space: nowrap;
}
.text-lowercase {
  text-transform: lowercase;
}
.text-uppercase {
  text-transform: uppercase;
}
.text-capitalize {
  text-transform: capitalize;
}
.text-muted {
  color: #777777;
}
.text-primary {
  color: #337ab7;
}
a.text-primary:hover,
a.text-primary:focus {
  color: #286090;
}
.text-success {
  color: #3c763d;
}
a.text-success:hover,
a.text-success:focus {
  color: #2b542c;
}
.text-info {
  color: #31708f;
}
a.text-info:hover,
a.text-info:focus {
  color: #245269;
}
.text-warning {
  color: #8a6d3b;
}
a.text-warning:hover,
a.text-warning:focus {
  color: #66512c;
}
.text-danger {
  color: #a94442;
}
a.text-danger:hover,
a.text-danger:focus {
  color: #843534;
}
.bg-primary {
  color: #fff;
  background-color: #337ab7;
}
a.bg-primary:hover,
a.bg-primary:focus {
  background-color: #286090;
}
.bg-success {
  background-color: #dff0d8;
}
a.bg-success:hover,
a.bg-success:focus {
  background-color: #c1e2b3;
}
.bg-info {
  background-color: #d9edf7;
}
a.bg-info:hover,
a.bg-info:focus {
  background-color: #afd9ee;
}
.bg-warning {
  background-color: #fcf8e3;
}
a.bg-warning:hover,
a.bg-warning:focus {
  background-color: #f7ecb5;
}
.bg-danger {
  background-color: #f2dede;
}
a.bg-danger:hover,
a.bg-danger:focus {
  background-color: #e4b9b9;
}
.page-header {
  padding-bottom: 8px;
  margin: 36px 0 18px;
  border-bottom: 1px solid #eeeeee;
}
ul,
ol {
  margin-top: 0;
  margin-bottom: 9px;
}
ul ul,
ol ul,
ul ol,
ol ol {
  margin-bottom: 0;
}
.list-unstyled {
  padding-left: 0;
  list-style: none;
}
.list-inline {
  padding-left: 0;
  list-style: none;
  margin-left: -5px;
}
.list-inline > li {
  display: inline-block;
  padding-left: 5px;
  padding-right: 5px;
}
dl {
  margin-top: 0;
  margin-bottom: 18px;
}
dt,
dd {
  line-height: 1.42857143;
}
dt {
  font-weight: bold;
}
dd {
  margin-left: 0;
}
@media (min-width: 541px) {
  .dl-horizontal dt {
    float: left;
    width: 160px;
    clear: left;
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
  .dl-horizontal dd {
    margin-left: 180px;
  }
}
abbr[title],
abbr[data-original-title] {
  cursor: help;
  border-bottom: 1px dotted #777777;
}
.initialism {
  font-size: 90%;
  text-transform: uppercase;
}
blockquote {
  padding: 9px 18px;
  margin: 0 0 18px;
  font-size: inherit;
  border-left: 5px solid #eeeeee;
}
blockquote p:last-child,
blockquote ul:last-child,
blockquote ol:last-child {
  margin-bottom: 0;
}
blockquote footer,
blockquote small,
blockquote .small {
  display: block;
  font-size: 80%;
  line-height: 1.42857143;
  color: #777777;
}
blockquote footer:before,
blockquote small:before,
blockquote .small:before {
  content: '\2014 \00A0';
}
.blockquote-reverse,
blockquote.pull-right {
  padding-right: 15px;
  padding-left: 0;
  border-right: 5px solid #eeeeee;
  border-left: 0;
  text-align: right;
}
.blockquote-reverse footer:before,
blockquote.pull-right footer:before,
.blockquote-reverse small:before,
blockquote.pull-right small:before,
.blockquote-reverse .small:before,
blockquote.pull-right .small:before {
  content: '';
}
.blockquote-reverse footer:after,
blockquote.pull-right footer:after,
.blockquote-reverse small:after,
blockquote.pull-right small:after,
.blockquote-reverse .small:after,
blockquote.pull-right .small:after {
  content: '\00A0 \2014';
}
address {
  margin-bottom: 18px;
  font-style: normal;
  line-height: 1.42857143;
}
code,
kbd,
pre,
samp {
  font-family: monospace;
}
code {
  padding: 2px 4px;
  font-size: 90%;
  color: #c7254e;
  background-color: #f9f2f4;
  border-radius: 2px;
}
kbd {
  padding: 2px 4px;
  font-size: 90%;
  color: #888;
  background-color: transparent;
  border-radius: 1px;
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.25);
}
kbd kbd {
  padding: 0;
  font-size: 100%;
  font-weight: bold;
  box-shadow: none;
}
pre {
  display: block;
  padding: 8.5px;
  margin: 0 0 9px;
  font-size: 12px;
  line-height: 1.42857143;
  word-break: break-all;
  word-wrap: break-word;
  color: #333333;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 2px;
}
pre code {
  padding: 0;
  font-size: inherit;
  color: inherit;
  white-space: pre-wrap;
  background-color: transparent;
  border-radius: 0;
}
.pre-scrollable {
  max-height: 340px;
  overflow-y: scroll;
}
.container {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
@media (min-width: 768px) {
  .container {
    width: 768px;
  }
}
@media (min-width: 992px) {
  .container {
    width: 940px;
  }
}
@media (min-width: 1200px) {
  .container {
    width: 1140px;
  }
}
.container-fluid {
  margin-right: auto;
  margin-left: auto;
  padding-left: 0px;
  padding-right: 0px;
}
.row {
  margin-left: 0px;
  margin-right: 0px;
}
.col-xs-1, .col-sm-1, .col-md-1, .col-lg-1, .col-xs-2, .col-sm-2, .col-md-2, .col-lg-2, .col-xs-3, .col-sm-3, .col-md-3, .col-lg-3, .col-xs-4, .col-sm-4, .col-md-4, .col-lg-4, .col-xs-5, .col-sm-5, .col-md-5, .col-lg-5, .col-xs-6, .col-sm-6, .col-md-6, .col-lg-6, .col-xs-7, .col-sm-7, .col-md-7, .col-lg-7, .col-xs-8, .col-sm-8, .col-md-8, .col-lg-8, .col-xs-9, .col-sm-9, .col-md-9, .col-lg-9, .col-xs-10, .col-sm-10, .col-md-10, .col-lg-10, .col-xs-11, .col-sm-11, .col-md-11, .col-lg-11, .col-xs-12, .col-sm-12, .col-md-12, .col-lg-12 {
  position: relative;
  min-height: 1px;
  padding-left: 0px;
  padding-right: 0px;
}
.col-xs-1, .col-xs-2, .col-xs-3, .col-xs-4, .col-xs-5, .col-xs-6, .col-xs-7, .col-xs-8, .col-xs-9, .col-xs-10, .col-xs-11, .col-xs-12 {
  float: left;
}
.col-xs-12 {
  width: 100%;
}
.col-xs-11 {
  width: 91.66666667%;
}
.col-xs-10 {
  width: 83.33333333%;
}
.col-xs-9 {
  width: 75%;
}
.col-xs-8 {
  width: 66.66666667%;
}
.col-xs-7 {
  width: 58.33333333%;
}
.col-xs-6 {
  width: 50%;
}
.col-xs-5 {
  width: 41.66666667%;
}
.col-xs-4 {
  width: 33.33333333%;
}
.col-xs-3 {
  width: 25%;
}
.col-xs-2 {
  width: 16.66666667%;
}
.col-xs-1 {
  width: 8.33333333%;
}
.col-xs-pull-12 {
  right: 100%;
}
.col-xs-pull-11 {
  right: 91.66666667%;
}
.col-xs-pull-10 {
  right: 83.33333333%;
}
.col-xs-pull-9 {
  right: 75%;
}
.col-xs-pull-8 {
  right: 66.66666667%;
}
.col-xs-pull-7 {
  right: 58.33333333%;
}
.col-xs-pull-6 {
  right: 50%;
}
.col-xs-pull-5 {
  right: 41.66666667%;
}
.col-xs-pull-4 {
  right: 33.33333333%;
}
.col-xs-pull-3 {
  right: 25%;
}
.col-xs-pull-2 {
  right: 16.66666667%;
}
.col-xs-pull-1 {
  right: 8.33333333%;
}
.col-xs-pull-0 {
  right: auto;
}
.col-xs-push-12 {
  left: 100%;
}
.col-xs-push-11 {
  left: 91.66666667%;
}
.col-xs-push-10 {
  left: 83.33333333%;
}
.col-xs-push-9 {
  left: 75%;
}
.col-xs-push-8 {
  left: 66.66666667%;
}
.col-xs-push-7 {
  left: 58.33333333%;
}
.col-xs-push-6 {
  left: 50%;
}
.col-xs-push-5 {
  left: 41.66666667%;
}
.col-xs-push-4 {
  left: 33.33333333%;
}
.col-xs-push-3 {
  left: 25%;
}
.col-xs-push-2 {
  left: 16.66666667%;
}
.col-xs-push-1 {
  left: 8.33333333%;
}
.col-xs-push-0 {
  left: auto;
}
.col-xs-offset-12 {
  margin-left: 100%;
}
.col-xs-offset-11 {
  margin-left: 91.66666667%;
}
.col-xs-offset-10 {
  margin-left: 83.33333333%;
}
.col-xs-offset-9 {
  margin-left: 75%;
}
.col-xs-offset-8 {
  margin-left: 66.66666667%;
}
.col-xs-offset-7 {
  margin-left: 58.33333333%;
}
.col-xs-offset-6 {
  margin-left: 50%;
}
.col-xs-offset-5 {
  margin-left: 41.66666667%;
}
.col-xs-offset-4 {
  margin-left: 33.33333333%;
}
.col-xs-offset-3 {
  margin-left: 25%;
}
.col-xs-offset-2 {
  margin-left: 16.66666667%;
}
.col-xs-offset-1 {
  margin-left: 8.33333333%;
}
.col-xs-offset-0 {
  margin-left: 0%;
}
@media (min-width: 768px) {
  .col-sm-1, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-10, .col-sm-11, .col-sm-12 {
    float: left;
  }
  .col-sm-12 {
    width: 100%;
  }
  .col-sm-11 {
    width: 91.66666667%;
  }
  .col-sm-10 {
    width: 83.33333333%;
  }
  .col-sm-9 {
    width: 75%;
  }
  .col-sm-8 {
    width: 66.66666667%;
  }
  .col-sm-7 {
    width: 58.33333333%;
  }
  .col-sm-6 {
    width: 50%;
  }
  .col-sm-5 {
    width: 41.66666667%;
  }
  .col-sm-4 {
    width: 33.33333333%;
  }
  .col-sm-3 {
    width: 25%;
  }
  .col-sm-2 {
    width: 16.66666667%;
  }
  .col-sm-1 {
    width: 8.33333333%;
  }
  .col-sm-pull-12 {
    right: 100%;
  }
  .col-sm-pull-11 {
    right: 91.66666667%;
  }
  .col-sm-pull-10 {
    right: 83.33333333%;
  }
  .col-sm-pull-9 {
    right: 75%;
  }
  .col-sm-pull-8 {
    right: 66.66666667%;
  }
  .col-sm-pull-7 {
    right: 58.33333333%;
  }
  .col-sm-pull-6 {
    right: 50%;
  }
  .col-sm-pull-5 {
    right: 41.66666667%;
  }
  .col-sm-pull-4 {
    right: 33.33333333%;
  }
  .col-sm-pull-3 {
    right: 25%;
  }
  .col-sm-pull-2 {
    right: 16.66666667%;
  }
  .col-sm-pull-1 {
    right: 8.33333333%;
  }
  .col-sm-pull-0 {
    right: auto;
  }
  .col-sm-push-12 {
    left: 100%;
  }
  .col-sm-push-11 {
    left: 91.66666667%;
  }
  .col-sm-push-10 {
    left: 83.33333333%;
  }
  .col-sm-push-9 {
    left: 75%;
  }
  .col-sm-push-8 {
    left: 66.66666667%;
  }
  .col-sm-push-7 {
    left: 58.33333333%;
  }
  .col-sm-push-6 {
    left: 50%;
  }
  .col-sm-push-5 {
    left: 41.66666667%;
  }
  .col-sm-push-4 {
    left: 33.33333333%;
  }
  .col-sm-push-3 {
    left: 25%;
  }
  .col-sm-push-2 {
    left: 16.66666667%;
  }
  .col-sm-push-1 {
    left: 8.33333333%;
  }
  .col-sm-push-0 {
    left: auto;
  }
  .col-sm-offset-12 {
    margin-left: 100%;
  }
  .col-sm-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-sm-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-sm-offset-9 {
    margin-left: 75%;
  }
  .col-sm-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-sm-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-sm-offset-6 {
    margin-left: 50%;
  }
  .col-sm-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-sm-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-sm-offset-3 {
    margin-left: 25%;
  }
  .col-sm-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-sm-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-sm-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 992px) {
  .col-md-1, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-10, .col-md-11, .col-md-12 {
    float: left;
  }
  .col-md-12 {
    width: 100%;
  }
  .col-md-11 {
    width: 91.66666667%;
  }
  .col-md-10 {
    width: 83.33333333%;
  }
  .col-md-9 {
    width: 75%;
  }
  .col-md-8 {
    width: 66.66666667%;
  }
  .col-md-7 {
    width: 58.33333333%;
  }
  .col-md-6 {
    width: 50%;
  }
  .col-md-5 {
    width: 41.66666667%;
  }
  .col-md-4 {
    width: 33.33333333%;
  }
  .col-md-3 {
    width: 25%;
  }
  .col-md-2 {
    width: 16.66666667%;
  }
  .col-md-1 {
    width: 8.33333333%;
  }
  .col-md-pull-12 {
    right: 100%;
  }
  .col-md-pull-11 {
    right: 91.66666667%;
  }
  .col-md-pull-10 {
    right: 83.33333333%;
  }
  .col-md-pull-9 {
    right: 75%;
  }
  .col-md-pull-8 {
    right: 66.66666667%;
  }
  .col-md-pull-7 {
    right: 58.33333333%;
  }
  .col-md-pull-6 {
    right: 50%;
  }
  .col-md-pull-5 {
    right: 41.66666667%;
  }
  .col-md-pull-4 {
    right: 33.33333333%;
  }
  .col-md-pull-3 {
    right: 25%;
  }
  .col-md-pull-2 {
    right: 16.66666667%;
  }
  .col-md-pull-1 {
    right: 8.33333333%;
  }
  .col-md-pull-0 {
    right: auto;
  }
  .col-md-push-12 {
    left: 100%;
  }
  .col-md-push-11 {
    left: 91.66666667%;
  }
  .col-md-push-10 {
    left: 83.33333333%;
  }
  .col-md-push-9 {
    left: 75%;
  }
  .col-md-push-8 {
    left: 66.66666667%;
  }
  .col-md-push-7 {
    left: 58.33333333%;
  }
  .col-md-push-6 {
    left: 50%;
  }
  .col-md-push-5 {
    left: 41.66666667%;
  }
  .col-md-push-4 {
    left: 33.33333333%;
  }
  .col-md-push-3 {
    left: 25%;
  }
  .col-md-push-2 {
    left: 16.66666667%;
  }
  .col-md-push-1 {
    left: 8.33333333%;
  }
  .col-md-push-0 {
    left: auto;
  }
  .col-md-offset-12 {
    margin-left: 100%;
  }
  .col-md-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-md-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-md-offset-9 {
    margin-left: 75%;
  }
  .col-md-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-md-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-md-offset-6 {
    margin-left: 50%;
  }
  .col-md-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-md-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-md-offset-3 {
    margin-left: 25%;
  }
  .col-md-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-md-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-md-offset-0 {
    margin-left: 0%;
  }
}
@media (min-width: 1200px) {
  .col-lg-1, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-10, .col-lg-11, .col-lg-12 {
    float: left;
  }
  .col-lg-12 {
    width: 100%;
  }
  .col-lg-11 {
    width: 91.66666667%;
  }
  .col-lg-10 {
    width: 83.33333333%;
  }
  .col-lg-9 {
    width: 75%;
  }
  .col-lg-8 {
    width: 66.66666667%;
  }
  .col-lg-7 {
    width: 58.33333333%;
  }
  .col-lg-6 {
    width: 50%;
  }
  .col-lg-5 {
    width: 41.66666667%;
  }
  .col-lg-4 {
    width: 33.33333333%;
  }
  .col-lg-3 {
    width: 25%;
  }
  .col-lg-2 {
    width: 16.66666667%;
  }
  .col-lg-1 {
    width: 8.33333333%;
  }
  .col-lg-pull-12 {
    right: 100%;
  }
  .col-lg-pull-11 {
    right: 91.66666667%;
  }
  .col-lg-pull-10 {
    right: 83.33333333%;
  }
  .col-lg-pull-9 {
    right: 75%;
  }
  .col-lg-pull-8 {
    right: 66.66666667%;
  }
  .col-lg-pull-7 {
    right: 58.33333333%;
  }
  .col-lg-pull-6 {
    right: 50%;
  }
  .col-lg-pull-5 {
    right: 41.66666667%;
  }
  .col-lg-pull-4 {
    right: 33.33333333%;
  }
  .col-lg-pull-3 {
    right: 25%;
  }
  .col-lg-pull-2 {
    right: 16.66666667%;
  }
  .col-lg-pull-1 {
    right: 8.33333333%;
  }
  .col-lg-pull-0 {
    right: auto;
  }
  .col-lg-push-12 {
    left: 100%;
  }
  .col-lg-push-11 {
    left: 91.66666667%;
  }
  .col-lg-push-10 {
    left: 83.33333333%;
  }
  .col-lg-push-9 {
    left: 75%;
  }
  .col-lg-push-8 {
    left: 66.66666667%;
  }
  .col-lg-push-7 {
    left: 58.33333333%;
  }
  .col-lg-push-6 {
    left: 50%;
  }
  .col-lg-push-5 {
    left: 41.66666667%;
  }
  .col-lg-push-4 {
    left: 33.33333333%;
  }
  .col-lg-push-3 {
    left: 25%;
  }
  .col-lg-push-2 {
    left: 16.66666667%;
  }
  .col-lg-push-1 {
    left: 8.33333333%;
  }
  .col-lg-push-0 {
    left: auto;
  }
  .col-lg-offset-12 {
    margin-left: 100%;
  }
  .col-lg-offset-11 {
    margin-left: 91.66666667%;
  }
  .col-lg-offset-10 {
    margin-left: 83.33333333%;
  }
  .col-lg-offset-9 {
    margin-left: 75%;
  }
  .col-lg-offset-8 {
    margin-left: 66.66666667%;
  }
  .col-lg-offset-7 {
    margin-left: 58.33333333%;
  }
  .col-lg-offset-6 {
    margin-left: 50%;
  }
  .col-lg-offset-5 {
    margin-left: 41.66666667%;
  }
  .col-lg-offset-4 {
    margin-left: 33.33333333%;
  }
  .col-lg-offset-3 {
    margin-left: 25%;
  }
  .col-lg-offset-2 {
    margin-left: 16.66666667%;
  }
  .col-lg-offset-1 {
    margin-left: 8.33333333%;
  }
  .col-lg-offset-0 {
    margin-left: 0%;
  }
}
table {
  background-color: transparent;
}
caption {
  padding-top: 8px;
  padding-bottom: 8px;
  color: #777777;
  text-align: left;
}
th {
  text-align: left;
}
.table {
  width: 100%;
  max-width: 100%;
  margin-bottom: 18px;
}
.table > thead > tr > th,
.table > tbody > tr > th,
.table > tfoot > tr > th,
.table > thead > tr > td,
.table > tbody > tr > td,
.table > tfoot > tr > td {
  padding: 8px;
  line-height: 1.42857143;
  vertical-align: top;
  border-top: 1px solid #ddd;
}
.table > thead > tr > th {
  vertical-align: bottom;
  border-bottom: 2px solid #ddd;
}
.table > caption + thead > tr:first-child > th,
.table > colgroup + thead > tr:first-child > th,
.table > thead:first-child > tr:first-child > th,
.table > caption + thead > tr:first-child > td,
.table > colgroup + thead > tr:first-child > td,
.table > thead:first-child > tr:first-child > td {
  border-top: 0;
}
.table > tbody + tbody {
  border-top: 2px solid #ddd;
}
.table .table {
  background-color: #fff;
}
.table-condensed > thead > tr > th,
.table-condensed > tbody > tr > th,
.table-condensed > tfoot > tr > th,
.table-condensed > thead > tr > td,
.table-condensed > tbody > tr > td,
.table-condensed > tfoot > tr > td {
  padding: 5px;
}
.table-bordered {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > tbody > tr > th,
.table-bordered > tfoot > tr > th,
.table-bordered > thead > tr > td,
.table-bordered > tbody > tr > td,
.table-bordered > tfoot > tr > td {
  border: 1px solid #ddd;
}
.table-bordered > thead > tr > th,
.table-bordered > thead > tr > td {
  border-bottom-width: 2px;
}
.table-striped > tbody > tr:nth-of-type(odd) {
  background-color: #f9f9f9;
}
.table-hover > tbody > tr:hover {
  background-color: #f5f5f5;
}
table col[class*="col-"] {
  position: static;
  float: none;
  display: table-column;
}
table td[class*="col-"],
table th[class*="col-"] {
  position: static;
  float: none;
  display: table-cell;
}
.table > thead > tr > td.active,
.table > tbody > tr > td.active,
.table > tfoot > tr > td.active,
.table > thead > tr > th.active,
.table > tbody > tr > th.active,
.table > tfoot > tr > th.active,
.table > thead > tr.active > td,
.table > tbody > tr.active > td,
.table > tfoot > tr.active > td,
.table > thead > tr.active > th,
.table > tbody > tr.active > th,
.table > tfoot > tr.active > th {
  background-color: #f5f5f5;
}
.table-hover > tbody > tr > td.active:hover,
.table-hover > tbody > tr > th.active:hover,
.table-hover > tbody > tr.active:hover > td,
.table-hover > tbody > tr:hover > .active,
.table-hover > tbody > tr.active:hover > th {
  background-color: #e8e8e8;
}
.table > thead > tr > td.success,
.table > tbody > tr > td.success,
.table > tfoot > tr > td.success,
.table > thead > tr > th.success,
.table > tbody > tr > th.success,
.table > tfoot > tr > th.success,
.table > thead > tr.success > td,
.table > tbody > tr.success > td,
.table > tfoot > tr.success > td,
.table > thead > tr.success > th,
.table > tbody > tr.success > th,
.table > tfoot > tr.success > th {
  background-color: #dff0d8;
}
.table-hover > tbody > tr > td.success:hover,
.table-hover > tbody > tr > th.success:hover,
.table-hover > tbody > tr.success:hover > td,
.table-hover > tbody > tr:hover > .success,
.table-hover > tbody > tr.success:hover > th {
  background-color: #d0e9c6;
}
.table > thead > tr > td.info,
.table > tbody > tr > td.info,
.table > tfoot > tr > td.info,
.table > thead > tr > th.info,
.table > tbody > tr > th.info,
.table > tfoot > tr > th.info,
.table > thead > tr.info > td,
.table > tbody > tr.info > td,
.table > tfoot > tr.info > td,
.table > thead > tr.info > th,
.table > tbody > tr.info > th,
.table > tfoot > tr.info > th {
  background-color: #d9edf7;
}
.table-hover > tbody > tr > td.info:hover,
.table-hover > tbody > tr > th.info:hover,
.table-hover > tbody > tr.info:hover > td,
.table-hover > tbody > tr:hover > .info,
.table-hover > tbody > tr.info:hover > th {
  background-color: #c4e3f3;
}
.table > thead > tr > td.warning,
.table > tbody > tr > td.warning,
.table > tfoot > tr > td.warning,
.table > thead > tr > th.warning,
.table > tbody > tr > th.warning,
.table > tfoot > tr > th.warning,
.table > thead > tr.warning > td,
.table > tbody > tr.warning > td,
.table > tfoot > tr.warning > td,
.table > thead > tr.warning > th,
.table > tbody > tr.warning > th,
.table > tfoot > tr.warning > th {
  background-color: #fcf8e3;
}
.table-hover > tbody > tr > td.warning:hover,
.table-hover > tbody > tr > th.warning:hover,
.table-hover > tbody > tr.warning:hover > td,
.table-hover > tbody > tr:hover > .warning,
.table-hover > tbody > tr.warning:hover > th {
  background-color: #faf2cc;
}
.table > thead > tr > td.danger,
.table > tbody > tr > td.danger,
.table > tfoot > tr > td.danger,
.table > thead > tr > th.danger,
.table > tbody > tr > th.danger,
.table > tfoot > tr > th.danger,
.table > thead > tr.danger > td,
.table > tbody > tr.danger > td,
.table > tfoot > tr.danger > td,
.table > thead > tr.danger > th,
.table > tbody > tr.danger > th,
.table > tfoot > tr.danger > th {
  background-color: #f2dede;
}
.table-hover > tbody > tr > td.danger:hover,
.table-hover > tbody > tr > th.danger:hover,
.table-hover > tbody > tr.danger:hover > td,
.table-hover > tbody > tr:hover > .danger,
.table-hover > tbody > tr.danger:hover > th {
  background-color: #ebcccc;
}
.table-responsive {
  overflow-x: auto;
  min-height: 0.01%;
}
@media screen and (max-width: 767px) {
  .table-responsive {
    width: 100%;
    margin-bottom: 13.5px;
    overflow-y: hidden;
    -ms-overflow-style: -ms-autohiding-scrollbar;
    border: 1px solid #ddd;
  }
  .table-responsive > .table {
    margin-bottom: 0;
  }
  .table-responsive > .table > thead > tr > th,
  .table-responsive > .table > tbody > tr > th,
  .table-responsive > .table > tfoot > tr > th,
  .table-responsive > .table > thead > tr > td,
  .table-responsive > .table > tbody > tr > td,
  .table-responsive > .table > tfoot > tr > td {
    white-space: nowrap;
  }
  .table-responsive > .table-bordered {
    border: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:first-child,
  .table-responsive > .table-bordered > tbody > tr > th:first-child,
  .table-responsive > .table-bordered > tfoot > tr > th:first-child,
  .table-responsive > .table-bordered > thead > tr > td:first-child,
  .table-responsive > .table-bordered > tbody > tr > td:first-child,
  .table-responsive > .table-bordered > tfoot > tr > td:first-child {
    border-left: 0;
  }
  .table-responsive > .table-bordered > thead > tr > th:last-child,
  .table-responsive > .table-bordered > tbody > tr > th:last-child,
  .table-responsive > .table-bordered > tfoot > tr > th:last-child,
  .table-responsive > .table-bordered > thead > tr > td:last-child,
  .table-responsive > .table-bordered > tbody > tr > td:last-child,
  .table-responsive > .table-bordered > tfoot > tr > td:last-child {
    border-right: 0;
  }
  .table-responsive > .table-bordered > tbody > tr:last-child > th,
  .table-responsive > .table-bordered > tfoot > tr:last-child > th,
  .table-responsive > .table-bordered > tbody > tr:last-child > td,
  .table-responsive > .table-bordered > tfoot > tr:last-child > td {
    border-bottom: 0;
  }
}
fieldset {
  padding: 0;
  margin: 0;
  border: 0;
  min-width: 0;
}
legend {
  display: block;
  width: 100%;
  padding: 0;
  margin-bottom: 18px;
  font-size: 19.5px;
  line-height: inherit;
  color: #333333;
  border: 0;
  border-bottom: 1px solid #e5e5e5;
}
label {
  display: inline-block;
  max-width: 100%;
  margin-bottom: 5px;
  font-weight: bold;
}
input[type="search"] {
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}
input[type="radio"],
input[type="checkbox"] {
  margin: 4px 0 0;
  margin-top: 1px \9;
  line-height: normal;
}
input[type="file"] {
  display: block;
}
input[type="range"] {
  display: block;
  width: 100%;
}
select[multiple],
select[size] {
  height: auto;
}
input[type="file"]:focus,
input[type="radio"]:focus,
input[type="checkbox"]:focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
output {
  display: block;
  padding-top: 7px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
}
.form-control {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
}
.form-control:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.form-control::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.form-control:-ms-input-placeholder {
  color: #999;
}
.form-control::-webkit-input-placeholder {
  color: #999;
}
.form-control::-ms-expand {
  border: 0;
  background-color: transparent;
}
.form-control[disabled],
.form-control[readonly],
fieldset[disabled] .form-control {
  background-color: #eeeeee;
  opacity: 1;
}
.form-control[disabled],
fieldset[disabled] .form-control {
  cursor: not-allowed;
}
textarea.form-control {
  height: auto;
}
input[type="search"] {
  -webkit-appearance: none;
}
@media screen and (-webkit-min-device-pixel-ratio: 0) {
  input[type="date"].form-control,
  input[type="time"].form-control,
  input[type="datetime-local"].form-control,
  input[type="month"].form-control {
    line-height: 32px;
  }
  input[type="date"].input-sm,
  input[type="time"].input-sm,
  input[type="datetime-local"].input-sm,
  input[type="month"].input-sm,
  .input-group-sm input[type="date"],
  .input-group-sm input[type="time"],
  .input-group-sm input[type="datetime-local"],
  .input-group-sm input[type="month"] {
    line-height: 30px;
  }
  input[type="date"].input-lg,
  input[type="time"].input-lg,
  input[type="datetime-local"].input-lg,
  input[type="month"].input-lg,
  .input-group-lg input[type="date"],
  .input-group-lg input[type="time"],
  .input-group-lg input[type="datetime-local"],
  .input-group-lg input[type="month"] {
    line-height: 45px;
  }
}
.form-group {
  margin-bottom: 15px;
}
.radio,
.checkbox {
  position: relative;
  display: block;
  margin-top: 10px;
  margin-bottom: 10px;
}
.radio label,
.checkbox label {
  min-height: 18px;
  padding-left: 20px;
  margin-bottom: 0;
  font-weight: normal;
  cursor: pointer;
}
.radio input[type="radio"],
.radio-inline input[type="radio"],
.checkbox input[type="checkbox"],
.checkbox-inline input[type="checkbox"] {
  position: absolute;
  margin-left: -20px;
  margin-top: 4px \9;
}
.radio + .radio,
.checkbox + .checkbox {
  margin-top: -5px;
}
.radio-inline,
.checkbox-inline {
  position: relative;
  display: inline-block;
  padding-left: 20px;
  margin-bottom: 0;
  vertical-align: middle;
  font-weight: normal;
  cursor: pointer;
}
.radio-inline + .radio-inline,
.checkbox-inline + .checkbox-inline {
  margin-top: 0;
  margin-left: 10px;
}
input[type="radio"][disabled],
input[type="checkbox"][disabled],
input[type="radio"].disabled,
input[type="checkbox"].disabled,
fieldset[disabled] input[type="radio"],
fieldset[disabled] input[type="checkbox"] {
  cursor: not-allowed;
}
.radio-inline.disabled,
.checkbox-inline.disabled,
fieldset[disabled] .radio-inline,
fieldset[disabled] .checkbox-inline {
  cursor: not-allowed;
}
.radio.disabled label,
.checkbox.disabled label,
fieldset[disabled] .radio label,
fieldset[disabled] .checkbox label {
  cursor: not-allowed;
}
.form-control-static {
  padding-top: 7px;
  padding-bottom: 7px;
  margin-bottom: 0;
  min-height: 31px;
}
.form-control-static.input-lg,
.form-control-static.input-sm {
  padding-left: 0;
  padding-right: 0;
}
.input-sm {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-sm {
  height: 30px;
  line-height: 30px;
}
textarea.input-sm,
select[multiple].input-sm {
  height: auto;
}
.form-group-sm .form-control {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.form-group-sm select.form-control {
  height: 30px;
  line-height: 30px;
}
.form-group-sm textarea.form-control,
.form-group-sm select[multiple].form-control {
  height: auto;
}
.form-group-sm .form-control-static {
  height: 30px;
  min-height: 30px;
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.input-lg {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-lg {
  height: 45px;
  line-height: 45px;
}
textarea.input-lg,
select[multiple].input-lg {
  height: auto;
}
.form-group-lg .form-control {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.form-group-lg select.form-control {
  height: 45px;
  line-height: 45px;
}
.form-group-lg textarea.form-control,
.form-group-lg select[multiple].form-control {
  height: auto;
}
.form-group-lg .form-control-static {
  height: 45px;
  min-height: 35px;
  padding: 11px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.has-feedback {
  position: relative;
}
.has-feedback .form-control {
  padding-right: 40px;
}
.form-control-feedback {
  position: absolute;
  top: 0;
  right: 0;
  z-index: 2;
  display: block;
  width: 32px;
  height: 32px;
  line-height: 32px;
  text-align: center;
  pointer-events: none;
}
.input-lg + .form-control-feedback,
.input-group-lg + .form-control-feedback,
.form-group-lg .form-control + .form-control-feedback {
  width: 45px;
  height: 45px;
  line-height: 45px;
}
.input-sm + .form-control-feedback,
.input-group-sm + .form-control-feedback,
.form-group-sm .form-control + .form-control-feedback {
  width: 30px;
  height: 30px;
  line-height: 30px;
}
.has-success .help-block,
.has-success .control-label,
.has-success .radio,
.has-success .checkbox,
.has-success .radio-inline,
.has-success .checkbox-inline,
.has-success.radio label,
.has-success.checkbox label,
.has-success.radio-inline label,
.has-success.checkbox-inline label {
  color: #3c763d;
}
.has-success .form-control {
  border-color: #3c763d;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-success .form-control:focus {
  border-color: #2b542c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #67b168;
}
.has-success .input-group-addon {
  color: #3c763d;
  border-color: #3c763d;
  background-color: #dff0d8;
}
.has-success .form-control-feedback {
  color: #3c763d;
}
.has-warning .help-block,
.has-warning .control-label,
.has-warning .radio,
.has-warning .checkbox,
.has-warning .radio-inline,
.has-warning .checkbox-inline,
.has-warning.radio label,
.has-warning.checkbox label,
.has-warning.radio-inline label,
.has-warning.checkbox-inline label {
  color: #8a6d3b;
}
.has-warning .form-control {
  border-color: #8a6d3b;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-warning .form-control:focus {
  border-color: #66512c;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #c0a16b;
}
.has-warning .input-group-addon {
  color: #8a6d3b;
  border-color: #8a6d3b;
  background-color: #fcf8e3;
}
.has-warning .form-control-feedback {
  color: #8a6d3b;
}
.has-error .help-block,
.has-error .control-label,
.has-error .radio,
.has-error .checkbox,
.has-error .radio-inline,
.has-error .checkbox-inline,
.has-error.radio label,
.has-error.checkbox label,
.has-error.radio-inline label,
.has-error.checkbox-inline label {
  color: #a94442;
}
.has-error .form-control {
  border-color: #a94442;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
}
.has-error .form-control:focus {
  border-color: #843534;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 6px #ce8483;
}
.has-error .input-group-addon {
  color: #a94442;
  border-color: #a94442;
  background-color: #f2dede;
}
.has-error .form-control-feedback {
  color: #a94442;
}
.has-feedback label ~ .form-control-feedback {
  top: 23px;
}
.has-feedback label.sr-only ~ .form-control-feedback {
  top: 0;
}
.help-block {
  display: block;
  margin-top: 5px;
  margin-bottom: 10px;
  color: #404040;
}
@media (min-width: 768px) {
  .form-inline .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .form-inline .form-control-static {
    display: inline-block;
  }
  .form-inline .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .form-inline .input-group .input-group-addon,
  .form-inline .input-group .input-group-btn,
  .form-inline .input-group .form-control {
    width: auto;
  }
  .form-inline .input-group > .form-control {
    width: 100%;
  }
  .form-inline .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio,
  .form-inline .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .form-inline .radio label,
  .form-inline .checkbox label {
    padding-left: 0;
  }
  .form-inline .radio input[type="radio"],
  .form-inline .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .form-inline .has-feedback .form-control-feedback {
    top: 0;
  }
}
.form-horizontal .radio,
.form-horizontal .checkbox,
.form-horizontal .radio-inline,
.form-horizontal .checkbox-inline {
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 7px;
}
.form-horizontal .radio,
.form-horizontal .checkbox {
  min-height: 25px;
}
.form-horizontal .form-group {
  margin-left: 0px;
  margin-right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .control-label {
    text-align: right;
    margin-bottom: 0;
    padding-top: 7px;
  }
}
.form-horizontal .has-feedback .form-control-feedback {
  right: 0px;
}
@media (min-width: 768px) {
  .form-horizontal .form-group-lg .control-label {
    padding-top: 11px;
    font-size: 17px;
  }
}
@media (min-width: 768px) {
  .form-horizontal .form-group-sm .control-label {
    padding-top: 6px;
    font-size: 12px;
  }
}
.btn {
  display: inline-block;
  margin-bottom: 0;
  font-weight: normal;
  text-align: center;
  vertical-align: middle;
  touch-action: manipulation;
  cursor: pointer;
  background-image: none;
  border: 1px solid transparent;
  white-space: nowrap;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  border-radius: 2px;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}
.btn:focus,
.btn:active:focus,
.btn.active:focus,
.btn.focus,
.btn:active.focus,
.btn.active.focus {
  outline: 5px auto -webkit-focus-ring-color;
  outline-offset: -2px;
}
.btn:hover,
.btn:focus,
.btn.focus {
  color: #333;
  text-decoration: none;
}
.btn:active,
.btn.active {
  outline: 0;
  background-image: none;
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn.disabled,
.btn[disabled],
fieldset[disabled] .btn {
  cursor: not-allowed;
  opacity: 0.65;
  filter: alpha(opacity=65);
  -webkit-box-shadow: none;
  box-shadow: none;
}
a.btn.disabled,
fieldset[disabled] a.btn {
  pointer-events: none;
}
.btn-default {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.btn-default:focus,
.btn-default.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.btn-default:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.btn-default:active:hover,
.btn-default.active:hover,
.open > .dropdown-toggle.btn-default:hover,
.btn-default:active:focus,
.btn-default.active:focus,
.open > .dropdown-toggle.btn-default:focus,
.btn-default:active.focus,
.btn-default.active.focus,
.open > .dropdown-toggle.btn-default.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.btn-default:active,
.btn-default.active,
.open > .dropdown-toggle.btn-default {
  background-image: none;
}
.btn-default.disabled:hover,
.btn-default[disabled]:hover,
fieldset[disabled] .btn-default:hover,
.btn-default.disabled:focus,
.btn-default[disabled]:focus,
fieldset[disabled] .btn-default:focus,
.btn-default.disabled.focus,
.btn-default[disabled].focus,
fieldset[disabled] .btn-default.focus {
  background-color: #fff;
  border-color: #ccc;
}
.btn-default .badge {
  color: #fff;
  background-color: #333;
}
.btn-primary {
  color: #fff;
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary:focus,
.btn-primary.focus {
  color: #fff;
  background-color: #286090;
  border-color: #122b40;
}
.btn-primary:hover {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  color: #fff;
  background-color: #286090;
  border-color: #204d74;
}
.btn-primary:active:hover,
.btn-primary.active:hover,
.open > .dropdown-toggle.btn-primary:hover,
.btn-primary:active:focus,
.btn-primary.active:focus,
.open > .dropdown-toggle.btn-primary:focus,
.btn-primary:active.focus,
.btn-primary.active.focus,
.open > .dropdown-toggle.btn-primary.focus {
  color: #fff;
  background-color: #204d74;
  border-color: #122b40;
}
.btn-primary:active,
.btn-primary.active,
.open > .dropdown-toggle.btn-primary {
  background-image: none;
}
.btn-primary.disabled:hover,
.btn-primary[disabled]:hover,
fieldset[disabled] .btn-primary:hover,
.btn-primary.disabled:focus,
.btn-primary[disabled]:focus,
fieldset[disabled] .btn-primary:focus,
.btn-primary.disabled.focus,
.btn-primary[disabled].focus,
fieldset[disabled] .btn-primary.focus {
  background-color: #337ab7;
  border-color: #2e6da4;
}
.btn-primary .badge {
  color: #337ab7;
  background-color: #fff;
}
.btn-success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success:focus,
.btn-success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.btn-success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.btn-success:active:hover,
.btn-success.active:hover,
.open > .dropdown-toggle.btn-success:hover,
.btn-success:active:focus,
.btn-success.active:focus,
.open > .dropdown-toggle.btn-success:focus,
.btn-success:active.focus,
.btn-success.active.focus,
.open > .dropdown-toggle.btn-success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.btn-success:active,
.btn-success.active,
.open > .dropdown-toggle.btn-success {
  background-image: none;
}
.btn-success.disabled:hover,
.btn-success[disabled]:hover,
fieldset[disabled] .btn-success:hover,
.btn-success.disabled:focus,
.btn-success[disabled]:focus,
fieldset[disabled] .btn-success:focus,
.btn-success.disabled.focus,
.btn-success[disabled].focus,
fieldset[disabled] .btn-success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.btn-success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.btn-info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info:focus,
.btn-info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.btn-info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.btn-info:active:hover,
.btn-info.active:hover,
.open > .dropdown-toggle.btn-info:hover,
.btn-info:active:focus,
.btn-info.active:focus,
.open > .dropdown-toggle.btn-info:focus,
.btn-info:active.focus,
.btn-info.active.focus,
.open > .dropdown-toggle.btn-info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.btn-info:active,
.btn-info.active,
.open > .dropdown-toggle.btn-info {
  background-image: none;
}
.btn-info.disabled:hover,
.btn-info[disabled]:hover,
fieldset[disabled] .btn-info:hover,
.btn-info.disabled:focus,
.btn-info[disabled]:focus,
fieldset[disabled] .btn-info:focus,
.btn-info.disabled.focus,
.btn-info[disabled].focus,
fieldset[disabled] .btn-info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.btn-info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.btn-warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning:focus,
.btn-warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.btn-warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.btn-warning:active:hover,
.btn-warning.active:hover,
.open > .dropdown-toggle.btn-warning:hover,
.btn-warning:active:focus,
.btn-warning.active:focus,
.open > .dropdown-toggle.btn-warning:focus,
.btn-warning:active.focus,
.btn-warning.active.focus,
.open > .dropdown-toggle.btn-warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.btn-warning:active,
.btn-warning.active,
.open > .dropdown-toggle.btn-warning {
  background-image: none;
}
.btn-warning.disabled:hover,
.btn-warning[disabled]:hover,
fieldset[disabled] .btn-warning:hover,
.btn-warning.disabled:focus,
.btn-warning[disabled]:focus,
fieldset[disabled] .btn-warning:focus,
.btn-warning.disabled.focus,
.btn-warning[disabled].focus,
fieldset[disabled] .btn-warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.btn-warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.btn-danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger:focus,
.btn-danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.btn-danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.btn-danger:active:hover,
.btn-danger.active:hover,
.open > .dropdown-toggle.btn-danger:hover,
.btn-danger:active:focus,
.btn-danger.active:focus,
.open > .dropdown-toggle.btn-danger:focus,
.btn-danger:active.focus,
.btn-danger.active.focus,
.open > .dropdown-toggle.btn-danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.btn-danger:active,
.btn-danger.active,
.open > .dropdown-toggle.btn-danger {
  background-image: none;
}
.btn-danger.disabled:hover,
.btn-danger[disabled]:hover,
fieldset[disabled] .btn-danger:hover,
.btn-danger.disabled:focus,
.btn-danger[disabled]:focus,
fieldset[disabled] .btn-danger:focus,
.btn-danger.disabled.focus,
.btn-danger[disabled].focus,
fieldset[disabled] .btn-danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.btn-danger .badge {
  color: #d9534f;
  background-color: #fff;
}
.btn-link {
  color: #337ab7;
  font-weight: normal;
  border-radius: 0;
}
.btn-link,
.btn-link:active,
.btn-link.active,
.btn-link[disabled],
fieldset[disabled] .btn-link {
  background-color: transparent;
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn-link,
.btn-link:hover,
.btn-link:focus,
.btn-link:active {
  border-color: transparent;
}
.btn-link:hover,
.btn-link:focus {
  color: #23527c;
  text-decoration: underline;
  background-color: transparent;
}
.btn-link[disabled]:hover,
fieldset[disabled] .btn-link:hover,
.btn-link[disabled]:focus,
fieldset[disabled] .btn-link:focus {
  color: #777777;
  text-decoration: none;
}
.btn-lg,
.btn-group-lg > .btn {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
.btn-sm,
.btn-group-sm > .btn {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-xs,
.btn-group-xs > .btn {
  padding: 1px 5px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
.btn-block {
  display: block;
  width: 100%;
}
.btn-block + .btn-block {
  margin-top: 5px;
}
input[type="submit"].btn-block,
input[type="reset"].btn-block,
input[type="button"].btn-block {
  width: 100%;
}
.fade {
  opacity: 0;
  -webkit-transition: opacity 0.15s linear;
  -o-transition: opacity 0.15s linear;
  transition: opacity 0.15s linear;
}
.fade.in {
  opacity: 1;
}
.collapse {
  display: none;
}
.collapse.in {
  display: block;
}
tr.collapse.in {
  display: table-row;
}
tbody.collapse.in {
  display: table-row-group;
}
.collapsing {
  position: relative;
  height: 0;
  overflow: hidden;
  -webkit-transition-property: height, visibility;
  transition-property: height, visibility;
  -webkit-transition-duration: 0.35s;
  transition-duration: 0.35s;
  -webkit-transition-timing-function: ease;
  transition-timing-function: ease;
}
.caret {
  display: inline-block;
  width: 0;
  height: 0;
  margin-left: 2px;
  vertical-align: middle;
  border-top: 4px dashed;
  border-top: 4px solid \9;
  border-right: 4px solid transparent;
  border-left: 4px solid transparent;
}
.dropup,
.dropdown {
  position: relative;
}
.dropdown-toggle:focus {
  outline: 0;
}
.dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  z-index: 1000;
  display: none;
  float: left;
  min-width: 160px;
  padding: 5px 0;
  margin: 2px 0 0;
  list-style: none;
  font-size: 13px;
  text-align: left;
  background-color: #fff;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.15);
  border-radius: 2px;
  -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.175);
  background-clip: padding-box;
}
.dropdown-menu.pull-right {
  right: 0;
  left: auto;
}
.dropdown-menu .divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.dropdown-menu > li > a {
  display: block;
  padding: 3px 20px;
  clear: both;
  font-weight: normal;
  line-height: 1.42857143;
  color: #333333;
  white-space: nowrap;
}
.dropdown-menu > li > a:hover,
.dropdown-menu > li > a:focus {
  text-decoration: none;
  color: #262626;
  background-color: #f5f5f5;
}
.dropdown-menu > .active > a,
.dropdown-menu > .active > a:hover,
.dropdown-menu > .active > a:focus {
  color: #fff;
  text-decoration: none;
  outline: 0;
  background-color: #337ab7;
}
.dropdown-menu > .disabled > a,
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  color: #777777;
}
.dropdown-menu > .disabled > a:hover,
.dropdown-menu > .disabled > a:focus {
  text-decoration: none;
  background-color: transparent;
  background-image: none;
  filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);
  cursor: not-allowed;
}
.open > .dropdown-menu {
  display: block;
}
.open > a {
  outline: 0;
}
.dropdown-menu-right {
  left: auto;
  right: 0;
}
.dropdown-menu-left {
  left: 0;
  right: auto;
}
.dropdown-header {
  display: block;
  padding: 3px 20px;
  font-size: 12px;
  line-height: 1.42857143;
  color: #777777;
  white-space: nowrap;
}
.dropdown-backdrop {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  top: 0;
  z-index: 990;
}
.pull-right > .dropdown-menu {
  right: 0;
  left: auto;
}
.dropup .caret,
.navbar-fixed-bottom .dropdown .caret {
  border-top: 0;
  border-bottom: 4px dashed;
  border-bottom: 4px solid \9;
  content: "";
}
.dropup .dropdown-menu,
.navbar-fixed-bottom .dropdown .dropdown-menu {
  top: auto;
  bottom: 100%;
  margin-bottom: 2px;
}
@media (min-width: 541px) {
  .navbar-right .dropdown-menu {
    left: auto;
    right: 0;
  }
  .navbar-right .dropdown-menu-left {
    left: 0;
    right: auto;
  }
}
.btn-group,
.btn-group-vertical {
  position: relative;
  display: inline-block;
  vertical-align: middle;
}
.btn-group > .btn,
.btn-group-vertical > .btn {
  position: relative;
  float: left;
}
.btn-group > .btn:hover,
.btn-group-vertical > .btn:hover,
.btn-group > .btn:focus,
.btn-group-vertical > .btn:focus,
.btn-group > .btn:active,
.btn-group-vertical > .btn:active,
.btn-group > .btn.active,
.btn-group-vertical > .btn.active {
  z-index: 2;
}
.btn-group .btn + .btn,
.btn-group .btn + .btn-group,
.btn-group .btn-group + .btn,
.btn-group .btn-group + .btn-group {
  margin-left: -1px;
}
.btn-toolbar {
  margin-left: -5px;
}
.btn-toolbar .btn,
.btn-toolbar .btn-group,
.btn-toolbar .input-group {
  float: left;
}
.btn-toolbar > .btn,
.btn-toolbar > .btn-group,
.btn-toolbar > .input-group {
  margin-left: 5px;
}
.btn-group > .btn:not(:first-child):not(:last-child):not(.dropdown-toggle) {
  border-radius: 0;
}
.btn-group > .btn:first-child {
  margin-left: 0;
}
.btn-group > .btn:first-child:not(:last-child):not(.dropdown-toggle) {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn:last-child:not(:first-child),
.btn-group > .dropdown-toggle:not(:first-child) {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group > .btn-group {
  float: left;
}
.btn-group > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.btn-group > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.btn-group .dropdown-toggle:active,
.btn-group.open .dropdown-toggle {
  outline: 0;
}
.btn-group > .btn + .dropdown-toggle {
  padding-left: 8px;
  padding-right: 8px;
}
.btn-group > .btn-lg + .dropdown-toggle {
  padding-left: 12px;
  padding-right: 12px;
}
.btn-group.open .dropdown-toggle {
  -webkit-box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
  box-shadow: inset 0 3px 5px rgba(0, 0, 0, 0.125);
}
.btn-group.open .dropdown-toggle.btn-link {
  -webkit-box-shadow: none;
  box-shadow: none;
}
.btn .caret {
  margin-left: 0;
}
.btn-lg .caret {
  border-width: 5px 5px 0;
  border-bottom-width: 0;
}
.dropup .btn-lg .caret {
  border-width: 0 5px 5px;
}
.btn-group-vertical > .btn,
.btn-group-vertical > .btn-group,
.btn-group-vertical > .btn-group > .btn {
  display: block;
  float: none;
  width: 100%;
  max-width: 100%;
}
.btn-group-vertical > .btn-group > .btn {
  float: none;
}
.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > .btn-group + .btn,
.btn-group-vertical > .btn-group + .btn-group {
  margin-top: -1px;
  margin-left: 0;
}
.btn-group-vertical > .btn:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.btn-group-vertical > .btn:first-child:not(:last-child) {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn:last-child:not(:first-child) {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
.btn-group-vertical > .btn-group:not(:first-child):not(:last-child) > .btn {
  border-radius: 0;
}
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .btn:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle {
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.btn-group-vertical > .btn-group:last-child:not(:first-child) > .btn:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.btn-group-justified {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-collapse: separate;
}
.btn-group-justified > .btn,
.btn-group-justified > .btn-group {
  float: none;
  display: table-cell;
  width: 1%;
}
.btn-group-justified > .btn-group .btn {
  width: 100%;
}
.btn-group-justified > .btn-group .dropdown-menu {
  left: auto;
}
[data-toggle="buttons"] > .btn input[type="radio"],
[data-toggle="buttons"] > .btn-group > .btn input[type="radio"],
[data-toggle="buttons"] > .btn input[type="checkbox"],
[data-toggle="buttons"] > .btn-group > .btn input[type="checkbox"] {
  position: absolute;
  clip: rect(0, 0, 0, 0);
  pointer-events: none;
}
.input-group {
  position: relative;
  display: table;
  border-collapse: separate;
}
.input-group[class*="col-"] {
  float: none;
  padding-left: 0;
  padding-right: 0;
}
.input-group .form-control {
  position: relative;
  z-index: 2;
  float: left;
  width: 100%;
  margin-bottom: 0;
}
.input-group .form-control:focus {
  z-index: 3;
}
.input-group-lg > .form-control,
.input-group-lg > .input-group-addon,
.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
  border-radius: 3px;
}
select.input-group-lg > .form-control,
select.input-group-lg > .input-group-addon,
select.input-group-lg > .input-group-btn > .btn {
  height: 45px;
  line-height: 45px;
}
textarea.input-group-lg > .form-control,
textarea.input-group-lg > .input-group-addon,
textarea.input-group-lg > .input-group-btn > .btn,
select[multiple].input-group-lg > .form-control,
select[multiple].input-group-lg > .input-group-addon,
select[multiple].input-group-lg > .input-group-btn > .btn {
  height: auto;
}
.input-group-sm > .form-control,
.input-group-sm > .input-group-addon,
.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
}
select.input-group-sm > .form-control,
select.input-group-sm > .input-group-addon,
select.input-group-sm > .input-group-btn > .btn {
  height: 30px;
  line-height: 30px;
}
textarea.input-group-sm > .form-control,
textarea.input-group-sm > .input-group-addon,
textarea.input-group-sm > .input-group-btn > .btn,
select[multiple].input-group-sm > .form-control,
select[multiple].input-group-sm > .input-group-addon,
select[multiple].input-group-sm > .input-group-btn > .btn {
  height: auto;
}
.input-group-addon,
.input-group-btn,
.input-group .form-control {
  display: table-cell;
}
.input-group-addon:not(:first-child):not(:last-child),
.input-group-btn:not(:first-child):not(:last-child),
.input-group .form-control:not(:first-child):not(:last-child) {
  border-radius: 0;
}
.input-group-addon,
.input-group-btn {
  width: 1%;
  white-space: nowrap;
  vertical-align: middle;
}
.input-group-addon {
  padding: 6px 12px;
  font-size: 13px;
  font-weight: normal;
  line-height: 1;
  color: #555555;
  text-align: center;
  background-color: #eeeeee;
  border: 1px solid #ccc;
  border-radius: 2px;
}
.input-group-addon.input-sm {
  padding: 5px 10px;
  font-size: 12px;
  border-radius: 1px;
}
.input-group-addon.input-lg {
  padding: 10px 16px;
  font-size: 17px;
  border-radius: 3px;
}
.input-group-addon input[type="radio"],
.input-group-addon input[type="checkbox"] {
  margin-top: 0;
}
.input-group .form-control:first-child,
.input-group-addon:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:first-child > .dropdown-toggle,
.input-group-btn:last-child > .btn:not(:last-child):not(.dropdown-toggle),
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn {
  border-bottom-right-radius: 0;
  border-top-right-radius: 0;
}
.input-group-addon:first-child {
  border-right: 0;
}
.input-group .form-control:last-child,
.input-group-addon:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:last-child > .dropdown-toggle,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn {
  border-bottom-left-radius: 0;
  border-top-left-radius: 0;
}
.input-group-addon:last-child {
  border-left: 0;
}
.input-group-btn {
  position: relative;
  font-size: 0;
  white-space: nowrap;
}
.input-group-btn > .btn {
  position: relative;
}
.input-group-btn > .btn + .btn {
  margin-left: -1px;
}
.input-group-btn > .btn:hover,
.input-group-btn > .btn:focus,
.input-group-btn > .btn:active {
  z-index: 2;
}
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group {
  margin-right: -1px;
}
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group {
  z-index: 2;
  margin-left: -1px;
}
.nav {
  margin-bottom: 0;
  padding-left: 0;
  list-style: none;
}
.nav > li {
  position: relative;
  display: block;
}
.nav > li > a {
  position: relative;
  display: block;
  padding: 10px 15px;
}
.nav > li > a:hover,
.nav > li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.nav > li.disabled > a {
  color: #777777;
}
.nav > li.disabled > a:hover,
.nav > li.disabled > a:focus {
  color: #777777;
  text-decoration: none;
  background-color: transparent;
  cursor: not-allowed;
}
.nav .open > a,
.nav .open > a:hover,
.nav .open > a:focus {
  background-color: #eeeeee;
  border-color: #337ab7;
}
.nav .nav-divider {
  height: 1px;
  margin: 8px 0;
  overflow: hidden;
  background-color: #e5e5e5;
}
.nav > li > a > img {
  max-width: none;
}
.nav-tabs {
  border-bottom: 1px solid #ddd;
}
.nav-tabs > li {
  float: left;
  margin-bottom: -1px;
}
.nav-tabs > li > a {
  margin-right: 2px;
  line-height: 1.42857143;
  border: 1px solid transparent;
  border-radius: 2px 2px 0 0;
}
.nav-tabs > li > a:hover {
  border-color: #eeeeee #eeeeee #ddd;
}
.nav-tabs > li.active > a,
.nav-tabs > li.active > a:hover,
.nav-tabs > li.active > a:focus {
  color: #555555;
  background-color: #fff;
  border: 1px solid #ddd;
  border-bottom-color: transparent;
  cursor: default;
}
.nav-tabs.nav-justified {
  width: 100%;
  border-bottom: 0;
}
.nav-tabs.nav-justified > li {
  float: none;
}
.nav-tabs.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-tabs.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-tabs.nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs.nav-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs.nav-justified > .active > a,
.nav-tabs.nav-justified > .active > a:hover,
.nav-tabs.nav-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs.nav-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs.nav-justified > .active > a,
  .nav-tabs.nav-justified > .active > a:hover,
  .nav-tabs.nav-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.nav-pills > li {
  float: left;
}
.nav-pills > li > a {
  border-radius: 2px;
}
.nav-pills > li + li {
  margin-left: 2px;
}
.nav-pills > li.active > a,
.nav-pills > li.active > a:hover,
.nav-pills > li.active > a:focus {
  color: #fff;
  background-color: #337ab7;
}
.nav-stacked > li {
  float: none;
}
.nav-stacked > li + li {
  margin-top: 2px;
  margin-left: 0;
}
.nav-justified {
  width: 100%;
}
.nav-justified > li {
  float: none;
}
.nav-justified > li > a {
  text-align: center;
  margin-bottom: 5px;
}
.nav-justified > .dropdown .dropdown-menu {
  top: auto;
  left: auto;
}
@media (min-width: 768px) {
  .nav-justified > li {
    display: table-cell;
    width: 1%;
  }
  .nav-justified > li > a {
    margin-bottom: 0;
  }
}
.nav-tabs-justified {
  border-bottom: 0;
}
.nav-tabs-justified > li > a {
  margin-right: 0;
  border-radius: 2px;
}
.nav-tabs-justified > .active > a,
.nav-tabs-justified > .active > a:hover,
.nav-tabs-justified > .active > a:focus {
  border: 1px solid #ddd;
}
@media (min-width: 768px) {
  .nav-tabs-justified > li > a {
    border-bottom: 1px solid #ddd;
    border-radius: 2px 2px 0 0;
  }
  .nav-tabs-justified > .active > a,
  .nav-tabs-justified > .active > a:hover,
  .nav-tabs-justified > .active > a:focus {
    border-bottom-color: #fff;
  }
}
.tab-content > .tab-pane {
  display: none;
}
.tab-content > .active {
  display: block;
}
.nav-tabs .dropdown-menu {
  margin-top: -1px;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar {
  position: relative;
  min-height: 30px;
  margin-bottom: 18px;
  border: 1px solid transparent;
}
@media (min-width: 541px) {
  .navbar {
    border-radius: 2px;
  }
}
@media (min-width: 541px) {
  .navbar-header {
    float: left;
  }
}
.navbar-collapse {
  overflow-x: visible;
  padding-right: 0px;
  padding-left: 0px;
  border-top: 1px solid transparent;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1);
  -webkit-overflow-scrolling: touch;
}
.navbar-collapse.in {
  overflow-y: auto;
}
@media (min-width: 541px) {
  .navbar-collapse {
    width: auto;
    border-top: 0;
    box-shadow: none;
  }
  .navbar-collapse.collapse {
    display: block !important;
    height: auto !important;
    padding-bottom: 0;
    overflow: visible !important;
  }
  .navbar-collapse.in {
    overflow-y: visible;
  }
  .navbar-fixed-top .navbar-collapse,
  .navbar-static-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    padding-left: 0;
    padding-right: 0;
  }
}
.navbar-fixed-top .navbar-collapse,
.navbar-fixed-bottom .navbar-collapse {
  max-height: 340px;
}
@media (max-device-width: 540px) and (orientation: landscape) {
  .navbar-fixed-top .navbar-collapse,
  .navbar-fixed-bottom .navbar-collapse {
    max-height: 200px;
  }
}
.container > .navbar-header,
.container-fluid > .navbar-header,
.container > .navbar-collapse,
.container-fluid > .navbar-collapse {
  margin-right: 0px;
  margin-left: 0px;
}
@media (min-width: 541px) {
  .container > .navbar-header,
  .container-fluid > .navbar-header,
  .container > .navbar-collapse,
  .container-fluid > .navbar-collapse {
    margin-right: 0;
    margin-left: 0;
  }
}
.navbar-static-top {
  z-index: 1000;
  border-width: 0 0 1px;
}
@media (min-width: 541px) {
  .navbar-static-top {
    border-radius: 0;
  }
}
.navbar-fixed-top,
.navbar-fixed-bottom {
  position: fixed;
  right: 0;
  left: 0;
  z-index: 1030;
}
@media (min-width: 541px) {
  .navbar-fixed-top,
  .navbar-fixed-bottom {
    border-radius: 0;
  }
}
.navbar-fixed-top {
  top: 0;
  border-width: 0 0 1px;
}
.navbar-fixed-bottom {
  bottom: 0;
  margin-bottom: 0;
  border-width: 1px 0 0;
}
.navbar-brand {
  float: left;
  padding: 6px 0px;
  font-size: 17px;
  line-height: 18px;
  height: 30px;
}
.navbar-brand:hover,
.navbar-brand:focus {
  text-decoration: none;
}
.navbar-brand > img {
  display: block;
}
@media (min-width: 541px) {
  .navbar > .container .navbar-brand,
  .navbar > .container-fluid .navbar-brand {
    margin-left: 0px;
  }
}
.navbar-toggle {
  position: relative;
  float: right;
  margin-right: 0px;
  padding: 9px 10px;
  margin-top: -2px;
  margin-bottom: -2px;
  background-color: transparent;
  background-image: none;
  border: 1px solid transparent;
  border-radius: 2px;
}
.navbar-toggle:focus {
  outline: 0;
}
.navbar-toggle .icon-bar {
  display: block;
  width: 22px;
  height: 2px;
  border-radius: 1px;
}
.navbar-toggle .icon-bar + .icon-bar {
  margin-top: 4px;
}
@media (min-width: 541px) {
  .navbar-toggle {
    display: none;
  }
}
.navbar-nav {
  margin: 3px 0px;
}
.navbar-nav > li > a {
  padding-top: 10px;
  padding-bottom: 10px;
  line-height: 18px;
}
@media (max-width: 540px) {
  .navbar-nav .open .dropdown-menu {
    position: static;
    float: none;
    width: auto;
    margin-top: 0;
    background-color: transparent;
    border: 0;
    box-shadow: none;
  }
  .navbar-nav .open .dropdown-menu > li > a,
  .navbar-nav .open .dropdown-menu .dropdown-header {
    padding: 5px 15px 5px 25px;
  }
  .navbar-nav .open .dropdown-menu > li > a {
    line-height: 18px;
  }
  .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-nav .open .dropdown-menu > li > a:focus {
    background-image: none;
  }
}
@media (min-width: 541px) {
  .navbar-nav {
    float: left;
    margin: 0;
  }
  .navbar-nav > li {
    float: left;
  }
  .navbar-nav > li > a {
    padding-top: 6px;
    padding-bottom: 6px;
  }
}
.navbar-form {
  margin-left: 0px;
  margin-right: 0px;
  padding: 10px 0px;
  border-top: 1px solid transparent;
  border-bottom: 1px solid transparent;
  -webkit-box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.1), 0 1px 0 rgba(255, 255, 255, 0.1);
  margin-top: -1px;
  margin-bottom: -1px;
}
@media (min-width: 768px) {
  .navbar-form .form-group {
    display: inline-block;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .form-control {
    display: inline-block;
    width: auto;
    vertical-align: middle;
  }
  .navbar-form .form-control-static {
    display: inline-block;
  }
  .navbar-form .input-group {
    display: inline-table;
    vertical-align: middle;
  }
  .navbar-form .input-group .input-group-addon,
  .navbar-form .input-group .input-group-btn,
  .navbar-form .input-group .form-control {
    width: auto;
  }
  .navbar-form .input-group > .form-control {
    width: 100%;
  }
  .navbar-form .control-label {
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio,
  .navbar-form .checkbox {
    display: inline-block;
    margin-top: 0;
    margin-bottom: 0;
    vertical-align: middle;
  }
  .navbar-form .radio label,
  .navbar-form .checkbox label {
    padding-left: 0;
  }
  .navbar-form .radio input[type="radio"],
  .navbar-form .checkbox input[type="checkbox"] {
    position: relative;
    margin-left: 0;
  }
  .navbar-form .has-feedback .form-control-feedback {
    top: 0;
  }
}
@media (max-width: 540px) {
  .navbar-form .form-group {
    margin-bottom: 5px;
  }
  .navbar-form .form-group:last-child {
    margin-bottom: 0;
  }
}
@media (min-width: 541px) {
  .navbar-form {
    width: auto;
    border: 0;
    margin-left: 0;
    margin-right: 0;
    padding-top: 0;
    padding-bottom: 0;
    -webkit-box-shadow: none;
    box-shadow: none;
  }
}
.navbar-nav > li > .dropdown-menu {
  margin-top: 0;
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.navbar-fixed-bottom .navbar-nav > li > .dropdown-menu {
  margin-bottom: 0;
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
  border-bottom-right-radius: 0;
  border-bottom-left-radius: 0;
}
.navbar-btn {
  margin-top: -1px;
  margin-bottom: -1px;
}
.navbar-btn.btn-sm {
  margin-top: 0px;
  margin-bottom: 0px;
}
.navbar-btn.btn-xs {
  margin-top: 4px;
  margin-bottom: 4px;
}
.navbar-text {
  margin-top: 6px;
  margin-bottom: 6px;
}
@media (min-width: 541px) {
  .navbar-text {
    float: left;
    margin-left: 0px;
    margin-right: 0px;
  }
}
@media (min-width: 541px) {
  .navbar-left {
    float: left !important;
    float: left;
  }
  .navbar-right {
    float: right !important;
    float: right;
    margin-right: 0px;
  }
  .navbar-right ~ .navbar-right {
    margin-right: 0;
  }
}
.navbar-default {
  background-color: #f8f8f8;
  border-color: #e7e7e7;
}
.navbar-default .navbar-brand {
  color: #777;
}
.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
  color: #5e5e5e;
  background-color: transparent;
}
.navbar-default .navbar-text {
  color: #777;
}
.navbar-default .navbar-nav > li > a {
  color: #777;
}
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
  color: #333;
  background-color: transparent;
}
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
  color: #555;
  background-color: #e7e7e7;
}
.navbar-default .navbar-nav > .disabled > a,
.navbar-default .navbar-nav > .disabled > a:hover,
.navbar-default .navbar-nav > .disabled > a:focus {
  color: #ccc;
  background-color: transparent;
}
.navbar-default .navbar-toggle {
  border-color: #ddd;
}
.navbar-default .navbar-toggle:hover,
.navbar-default .navbar-toggle:focus {
  background-color: #ddd;
}
.navbar-default .navbar-toggle .icon-bar {
  background-color: #888;
}
.navbar-default .navbar-collapse,
.navbar-default .navbar-form {
  border-color: #e7e7e7;
}
.navbar-default .navbar-nav > .open > a,
.navbar-default .navbar-nav > .open > a:hover,
.navbar-default .navbar-nav > .open > a:focus {
  background-color: #e7e7e7;
  color: #555;
}
@media (max-width: 540px) {
  .navbar-default .navbar-nav .open .dropdown-menu > li > a {
    color: #777;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #333;
    background-color: transparent;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #555;
    background-color: #e7e7e7;
  }
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-default .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #ccc;
    background-color: transparent;
  }
}
.navbar-default .navbar-link {
  color: #777;
}
.navbar-default .navbar-link:hover {
  color: #333;
}
.navbar-default .btn-link {
  color: #777;
}
.navbar-default .btn-link:hover,
.navbar-default .btn-link:focus {
  color: #333;
}
.navbar-default .btn-link[disabled]:hover,
fieldset[disabled] .navbar-default .btn-link:hover,
.navbar-default .btn-link[disabled]:focus,
fieldset[disabled] .navbar-default .btn-link:focus {
  color: #ccc;
}
.navbar-inverse {
  background-color: #222;
  border-color: #080808;
}
.navbar-inverse .navbar-brand {
  color: #9d9d9d;
}
.navbar-inverse .navbar-brand:hover,
.navbar-inverse .navbar-brand:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-text {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a {
  color: #9d9d9d;
}
.navbar-inverse .navbar-nav > li > a:hover,
.navbar-inverse .navbar-nav > li > a:focus {
  color: #fff;
  background-color: transparent;
}
.navbar-inverse .navbar-nav > .active > a,
.navbar-inverse .navbar-nav > .active > a:hover,
.navbar-inverse .navbar-nav > .active > a:focus {
  color: #fff;
  background-color: #080808;
}
.navbar-inverse .navbar-nav > .disabled > a,
.navbar-inverse .navbar-nav > .disabled > a:hover,
.navbar-inverse .navbar-nav > .disabled > a:focus {
  color: #444;
  background-color: transparent;
}
.navbar-inverse .navbar-toggle {
  border-color: #333;
}
.navbar-inverse .navbar-toggle:hover,
.navbar-inverse .navbar-toggle:focus {
  background-color: #333;
}
.navbar-inverse .navbar-toggle .icon-bar {
  background-color: #fff;
}
.navbar-inverse .navbar-collapse,
.navbar-inverse .navbar-form {
  border-color: #101010;
}
.navbar-inverse .navbar-nav > .open > a,
.navbar-inverse .navbar-nav > .open > a:hover,
.navbar-inverse .navbar-nav > .open > a:focus {
  background-color: #080808;
  color: #fff;
}
@media (max-width: 540px) {
  .navbar-inverse .navbar-nav .open .dropdown-menu > .dropdown-header {
    border-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu .divider {
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a {
    color: #9d9d9d;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > li > a:focus {
    color: #fff;
    background-color: transparent;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .active > a:focus {
    color: #fff;
    background-color: #080808;
  }
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:hover,
  .navbar-inverse .navbar-nav .open .dropdown-menu > .disabled > a:focus {
    color: #444;
    background-color: transparent;
  }
}
.navbar-inverse .navbar-link {
  color: #9d9d9d;
}
.navbar-inverse .navbar-link:hover {
  color: #fff;
}
.navbar-inverse .btn-link {
  color: #9d9d9d;
}
.navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link:focus {
  color: #fff;
}
.navbar-inverse .btn-link[disabled]:hover,
fieldset[disabled] .navbar-inverse .btn-link:hover,
.navbar-inverse .btn-link[disabled]:focus,
fieldset[disabled] .navbar-inverse .btn-link:focus {
  color: #444;
}
.breadcrumb {
  padding: 8px 15px;
  margin-bottom: 18px;
  list-style: none;
  background-color: #f5f5f5;
  border-radius: 2px;
}
.breadcrumb > li {
  display: inline-block;
}
.breadcrumb > li + li:before {
  content: "/\00a0";
  padding: 0 5px;
  color: #5e5e5e;
}
.breadcrumb > .active {
  color: #777777;
}
.pagination {
  display: inline-block;
  padding-left: 0;
  margin: 18px 0;
  border-radius: 2px;
}
.pagination > li {
  display: inline;
}
.pagination > li > a,
.pagination > li > span {
  position: relative;
  float: left;
  padding: 6px 12px;
  line-height: 1.42857143;
  text-decoration: none;
  color: #337ab7;
  background-color: #fff;
  border: 1px solid #ddd;
  margin-left: -1px;
}
.pagination > li:first-child > a,
.pagination > li:first-child > span {
  margin-left: 0;
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.pagination > li:last-child > a,
.pagination > li:last-child > span {
  border-bottom-right-radius: 2px;
  border-top-right-radius: 2px;
}
.pagination > li > a:hover,
.pagination > li > span:hover,
.pagination > li > a:focus,
.pagination > li > span:focus {
  z-index: 2;
  color: #23527c;
  background-color: #eeeeee;
  border-color: #ddd;
}
.pagination > .active > a,
.pagination > .active > span,
.pagination > .active > a:hover,
.pagination > .active > span:hover,
.pagination > .active > a:focus,
.pagination > .active > span:focus {
  z-index: 3;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
  cursor: default;
}
.pagination > .disabled > span,
.pagination > .disabled > span:hover,
.pagination > .disabled > span:focus,
.pagination > .disabled > a,
.pagination > .disabled > a:hover,
.pagination > .disabled > a:focus {
  color: #777777;
  background-color: #fff;
  border-color: #ddd;
  cursor: not-allowed;
}
.pagination-lg > li > a,
.pagination-lg > li > span {
  padding: 10px 16px;
  font-size: 17px;
  line-height: 1.3333333;
}
.pagination-lg > li:first-child > a,
.pagination-lg > li:first-child > span {
  border-bottom-left-radius: 3px;
  border-top-left-radius: 3px;
}
.pagination-lg > li:last-child > a,
.pagination-lg > li:last-child > span {
  border-bottom-right-radius: 3px;
  border-top-right-radius: 3px;
}
.pagination-sm > li > a,
.pagination-sm > li > span {
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
}
.pagination-sm > li:first-child > a,
.pagination-sm > li:first-child > span {
  border-bottom-left-radius: 1px;
  border-top-left-radius: 1px;
}
.pagination-sm > li:last-child > a,
.pagination-sm > li:last-child > span {
  border-bottom-right-radius: 1px;
  border-top-right-radius: 1px;
}
.pager {
  padding-left: 0;
  margin: 18px 0;
  list-style: none;
  text-align: center;
}
.pager li {
  display: inline;
}
.pager li > a,
.pager li > span {
  display: inline-block;
  padding: 5px 14px;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 15px;
}
.pager li > a:hover,
.pager li > a:focus {
  text-decoration: none;
  background-color: #eeeeee;
}
.pager .next > a,
.pager .next > span {
  float: right;
}
.pager .previous > a,
.pager .previous > span {
  float: left;
}
.pager .disabled > a,
.pager .disabled > a:hover,
.pager .disabled > a:focus,
.pager .disabled > span {
  color: #777777;
  background-color: #fff;
  cursor: not-allowed;
}
.label {
  display: inline;
  padding: .2em .6em .3em;
  font-size: 75%;
  font-weight: bold;
  line-height: 1;
  color: #fff;
  text-align: center;
  white-space: nowrap;
  vertical-align: baseline;
  border-radius: .25em;
}
a.label:hover,
a.label:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.label:empty {
  display: none;
}
.btn .label {
  position: relative;
  top: -1px;
}
.label-default {
  background-color: #777777;
}
.label-default[href]:hover,
.label-default[href]:focus {
  background-color: #5e5e5e;
}
.label-primary {
  background-color: #337ab7;
}
.label-primary[href]:hover,
.label-primary[href]:focus {
  background-color: #286090;
}
.label-success {
  background-color: #5cb85c;
}
.label-success[href]:hover,
.label-success[href]:focus {
  background-color: #449d44;
}
.label-info {
  background-color: #5bc0de;
}
.label-info[href]:hover,
.label-info[href]:focus {
  background-color: #31b0d5;
}
.label-warning {
  background-color: #f0ad4e;
}
.label-warning[href]:hover,
.label-warning[href]:focus {
  background-color: #ec971f;
}
.label-danger {
  background-color: #d9534f;
}
.label-danger[href]:hover,
.label-danger[href]:focus {
  background-color: #c9302c;
}
.badge {
  display: inline-block;
  min-width: 10px;
  padding: 3px 7px;
  font-size: 12px;
  font-weight: bold;
  color: #fff;
  line-height: 1;
  vertical-align: middle;
  white-space: nowrap;
  text-align: center;
  background-color: #777777;
  border-radius: 10px;
}
.badge:empty {
  display: none;
}
.btn .badge {
  position: relative;
  top: -1px;
}
.btn-xs .badge,
.btn-group-xs > .btn .badge {
  top: 0;
  padding: 1px 5px;
}
a.badge:hover,
a.badge:focus {
  color: #fff;
  text-decoration: none;
  cursor: pointer;
}
.list-group-item.active > .badge,
.nav-pills > .active > a > .badge {
  color: #337ab7;
  background-color: #fff;
}
.list-group-item > .badge {
  float: right;
}
.list-group-item > .badge + .badge {
  margin-right: 5px;
}
.nav-pills > li > a > .badge {
  margin-left: 3px;
}
.jumbotron {
  padding-top: 30px;
  padding-bottom: 30px;
  margin-bottom: 30px;
  color: inherit;
  background-color: #eeeeee;
}
.jumbotron h1,
.jumbotron .h1 {
  color: inherit;
}
.jumbotron p {
  margin-bottom: 15px;
  font-size: 20px;
  font-weight: 200;
}
.jumbotron > hr {
  border-top-color: #d5d5d5;
}
.container .jumbotron,
.container-fluid .jumbotron {
  border-radius: 3px;
  padding-left: 0px;
  padding-right: 0px;
}
.jumbotron .container {
  max-width: 100%;
}
@media screen and (min-width: 768px) {
  .jumbotron {
    padding-top: 48px;
    padding-bottom: 48px;
  }
  .container .jumbotron,
  .container-fluid .jumbotron {
    padding-left: 60px;
    padding-right: 60px;
  }
  .jumbotron h1,
  .jumbotron .h1 {
    font-size: 59px;
  }
}
.thumbnail {
  display: block;
  padding: 4px;
  margin-bottom: 18px;
  line-height: 1.42857143;
  background-color: #fff;
  border: 1px solid #ddd;
  border-radius: 2px;
  -webkit-transition: border 0.2s ease-in-out;
  -o-transition: border 0.2s ease-in-out;
  transition: border 0.2s ease-in-out;
}
.thumbnail > img,
.thumbnail a > img {
  margin-left: auto;
  margin-right: auto;
}
a.thumbnail:hover,
a.thumbnail:focus,
a.thumbnail.active {
  border-color: #337ab7;
}
.thumbnail .caption {
  padding: 9px;
  color: #000;
}
.alert {
  padding: 15px;
  margin-bottom: 18px;
  border: 1px solid transparent;
  border-radius: 2px;
}
.alert h4 {
  margin-top: 0;
  color: inherit;
}
.alert .alert-link {
  font-weight: bold;
}
.alert > p,
.alert > ul {
  margin-bottom: 0;
}
.alert > p + p {
  margin-top: 5px;
}
.alert-dismissable,
.alert-dismissible {
  padding-right: 35px;
}
.alert-dismissable .close,
.alert-dismissible .close {
  position: relative;
  top: -2px;
  right: -21px;
  color: inherit;
}
.alert-success {
  background-color: #dff0d8;
  border-color: #d6e9c6;
  color: #3c763d;
}
.alert-success hr {
  border-top-color: #c9e2b3;
}
.alert-success .alert-link {
  color: #2b542c;
}
.alert-info {
  background-color: #d9edf7;
  border-color: #bce8f1;
  color: #31708f;
}
.alert-info hr {
  border-top-color: #a6e1ec;
}
.alert-info .alert-link {
  color: #245269;
}
.alert-warning {
  background-color: #fcf8e3;
  border-color: #faebcc;
  color: #8a6d3b;
}
.alert-warning hr {
  border-top-color: #f7e1b5;
}
.alert-warning .alert-link {
  color: #66512c;
}
.alert-danger {
  background-color: #f2dede;
  border-color: #ebccd1;
  color: #a94442;
}
.alert-danger hr {
  border-top-color: #e4b9c0;
}
.alert-danger .alert-link {
  color: #843534;
}
@-webkit-keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
@keyframes progress-bar-stripes {
  from {
    background-position: 40px 0;
  }
  to {
    background-position: 0 0;
  }
}
.progress {
  overflow: hidden;
  height: 18px;
  margin-bottom: 18px;
  background-color: #f5f5f5;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
  box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.1);
}
.progress-bar {
  float: left;
  width: 0%;
  height: 100%;
  font-size: 12px;
  line-height: 18px;
  color: #fff;
  text-align: center;
  background-color: #337ab7;
  -webkit-box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  box-shadow: inset 0 -1px 0 rgba(0, 0, 0, 0.15);
  -webkit-transition: width 0.6s ease;
  -o-transition: width 0.6s ease;
  transition: width 0.6s ease;
}
.progress-striped .progress-bar,
.progress-bar-striped {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-size: 40px 40px;
}
.progress.active .progress-bar,
.progress-bar.active {
  -webkit-animation: progress-bar-stripes 2s linear infinite;
  -o-animation: progress-bar-stripes 2s linear infinite;
  animation: progress-bar-stripes 2s linear infinite;
}
.progress-bar-success {
  background-color: #5cb85c;
}
.progress-striped .progress-bar-success {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-info {
  background-color: #5bc0de;
}
.progress-striped .progress-bar-info {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-warning {
  background-color: #f0ad4e;
}
.progress-striped .progress-bar-warning {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.progress-bar-danger {
  background-color: #d9534f;
}
.progress-striped .progress-bar-danger {
  background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
  background-image: linear-gradient(45deg, rgba(255, 255, 255, 0.15) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, 0.15) 50%, rgba(255, 255, 255, 0.15) 75%, transparent 75%, transparent);
}
.media {
  margin-top: 15px;
}
.media:first-child {
  margin-top: 0;
}
.media,
.media-body {
  zoom: 1;
  overflow: hidden;
}
.media-body {
  width: 10000px;
}
.media-object {
  display: block;
}
.media-object.img-thumbnail {
  max-width: none;
}
.media-right,
.media > .pull-right {
  padding-left: 10px;
}
.media-left,
.media > .pull-left {
  padding-right: 10px;
}
.media-left,
.media-right,
.media-body {
  display: table-cell;
  vertical-align: top;
}
.media-middle {
  vertical-align: middle;
}
.media-bottom {
  vertical-align: bottom;
}
.media-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.media-list {
  padding-left: 0;
  list-style: none;
}
.list-group {
  margin-bottom: 20px;
  padding-left: 0;
}
.list-group-item {
  position: relative;
  display: block;
  padding: 10px 15px;
  margin-bottom: -1px;
  background-color: #fff;
  border: 1px solid #ddd;
}
.list-group-item:first-child {
  border-top-right-radius: 2px;
  border-top-left-radius: 2px;
}
.list-group-item:last-child {
  margin-bottom: 0;
  border-bottom-right-radius: 2px;
  border-bottom-left-radius: 2px;
}
a.list-group-item,
button.list-group-item {
  color: #555;
}
a.list-group-item .list-group-item-heading,
button.list-group-item .list-group-item-heading {
  color: #333;
}
a.list-group-item:hover,
button.list-group-item:hover,
a.list-group-item:focus,
button.list-group-item:focus {
  text-decoration: none;
  color: #555;
  background-color: #f5f5f5;
}
button.list-group-item {
  width: 100%;
  text-align: left;
}
.list-group-item.disabled,
.list-group-item.disabled:hover,
.list-group-item.disabled:focus {
  background-color: #eeeeee;
  color: #777777;
  cursor: not-allowed;
}
.list-group-item.disabled .list-group-item-heading,
.list-group-item.disabled:hover .list-group-item-heading,
.list-group-item.disabled:focus .list-group-item-heading {
  color: inherit;
}
.list-group-item.disabled .list-group-item-text,
.list-group-item.disabled:hover .list-group-item-text,
.list-group-item.disabled:focus .list-group-item-text {
  color: #777777;
}
.list-group-item.active,
.list-group-item.active:hover,
.list-group-item.active:focus {
  z-index: 2;
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.list-group-item.active .list-group-item-heading,
.list-group-item.active:hover .list-group-item-heading,
.list-group-item.active:focus .list-group-item-heading,
.list-group-item.active .list-group-item-heading > small,
.list-group-item.active:hover .list-group-item-heading > small,
.list-group-item.active:focus .list-group-item-heading > small,
.list-group-item.active .list-group-item-heading > .small,
.list-group-item.active:hover .list-group-item-heading > .small,
.list-group-item.active:focus .list-group-item-heading > .small {
  color: inherit;
}
.list-group-item.active .list-group-item-text,
.list-group-item.active:hover .list-group-item-text,
.list-group-item.active:focus .list-group-item-text {
  color: #c7ddef;
}
.list-group-item-success {
  color: #3c763d;
  background-color: #dff0d8;
}
a.list-group-item-success,
button.list-group-item-success {
  color: #3c763d;
}
a.list-group-item-success .list-group-item-heading,
button.list-group-item-success .list-group-item-heading {
  color: inherit;
}
a.list-group-item-success:hover,
button.list-group-item-success:hover,
a.list-group-item-success:focus,
button.list-group-item-success:focus {
  color: #3c763d;
  background-color: #d0e9c6;
}
a.list-group-item-success.active,
button.list-group-item-success.active,
a.list-group-item-success.active:hover,
button.list-group-item-success.active:hover,
a.list-group-item-success.active:focus,
button.list-group-item-success.active:focus {
  color: #fff;
  background-color: #3c763d;
  border-color: #3c763d;
}
.list-group-item-info {
  color: #31708f;
  background-color: #d9edf7;
}
a.list-group-item-info,
button.list-group-item-info {
  color: #31708f;
}
a.list-group-item-info .list-group-item-heading,
button.list-group-item-info .list-group-item-heading {
  color: inherit;
}
a.list-group-item-info:hover,
button.list-group-item-info:hover,
a.list-group-item-info:focus,
button.list-group-item-info:focus {
  color: #31708f;
  background-color: #c4e3f3;
}
a.list-group-item-info.active,
button.list-group-item-info.active,
a.list-group-item-info.active:hover,
button.list-group-item-info.active:hover,
a.list-group-item-info.active:focus,
button.list-group-item-info.active:focus {
  color: #fff;
  background-color: #31708f;
  border-color: #31708f;
}
.list-group-item-warning {
  color: #8a6d3b;
  background-color: #fcf8e3;
}
a.list-group-item-warning,
button.list-group-item-warning {
  color: #8a6d3b;
}
a.list-group-item-warning .list-group-item-heading,
button.list-group-item-warning .list-group-item-heading {
  color: inherit;
}
a.list-group-item-warning:hover,
button.list-group-item-warning:hover,
a.list-group-item-warning:focus,
button.list-group-item-warning:focus {
  color: #8a6d3b;
  background-color: #faf2cc;
}
a.list-group-item-warning.active,
button.list-group-item-warning.active,
a.list-group-item-warning.active:hover,
button.list-group-item-warning.active:hover,
a.list-group-item-warning.active:focus,
button.list-group-item-warning.active:focus {
  color: #fff;
  background-color: #8a6d3b;
  border-color: #8a6d3b;
}
.list-group-item-danger {
  color: #a94442;
  background-color: #f2dede;
}
a.list-group-item-danger,
button.list-group-item-danger {
  color: #a94442;
}
a.list-group-item-danger .list-group-item-heading,
button.list-group-item-danger .list-group-item-heading {
  color: inherit;
}
a.list-group-item-danger:hover,
button.list-group-item-danger:hover,
a.list-group-item-danger:focus,
button.list-group-item-danger:focus {
  color: #a94442;
  background-color: #ebcccc;
}
a.list-group-item-danger.active,
button.list-group-item-danger.active,
a.list-group-item-danger.active:hover,
button.list-group-item-danger.active:hover,
a.list-group-item-danger.active:focus,
button.list-group-item-danger.active:focus {
  color: #fff;
  background-color: #a94442;
  border-color: #a94442;
}
.list-group-item-heading {
  margin-top: 0;
  margin-bottom: 5px;
}
.list-group-item-text {
  margin-bottom: 0;
  line-height: 1.3;
}
.panel {
  margin-bottom: 18px;
  background-color: #fff;
  border: 1px solid transparent;
  border-radius: 2px;
  -webkit-box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.05);
}
.panel-body {
  padding: 15px;
}
.panel-heading {
  padding: 10px 15px;
  border-bottom: 1px solid transparent;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel-heading > .dropdown .dropdown-toggle {
  color: inherit;
}
.panel-title {
  margin-top: 0;
  margin-bottom: 0;
  font-size: 15px;
  color: inherit;
}
.panel-title > a,
.panel-title > small,
.panel-title > .small,
.panel-title > small > a,
.panel-title > .small > a {
  color: inherit;
}
.panel-footer {
  padding: 10px 15px;
  background-color: #f5f5f5;
  border-top: 1px solid #ddd;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .list-group,
.panel > .panel-collapse > .list-group {
  margin-bottom: 0;
}
.panel > .list-group .list-group-item,
.panel > .panel-collapse > .list-group .list-group-item {
  border-width: 1px 0;
  border-radius: 0;
}
.panel > .list-group:first-child .list-group-item:first-child,
.panel > .panel-collapse > .list-group:first-child .list-group-item:first-child {
  border-top: 0;
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .list-group:last-child .list-group-item:last-child,
.panel > .panel-collapse > .list-group:last-child .list-group-item:last-child {
  border-bottom: 0;
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .panel-heading + .panel-collapse > .list-group .list-group-item:first-child {
  border-top-right-radius: 0;
  border-top-left-radius: 0;
}
.panel-heading + .list-group .list-group-item:first-child {
  border-top-width: 0;
}
.list-group + .panel-footer {
  border-top-width: 0;
}
.panel > .table,
.panel > .table-responsive > .table,
.panel > .panel-collapse > .table {
  margin-bottom: 0;
}
.panel > .table caption,
.panel > .table-responsive > .table caption,
.panel > .panel-collapse > .table caption {
  padding-left: 15px;
  padding-right: 15px;
}
.panel > .table:first-child,
.panel > .table-responsive:first-child > .table:first-child {
  border-top-right-radius: 1px;
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child {
  border-top-left-radius: 1px;
  border-top-right-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:first-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:first-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:first-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:first-child {
  border-top-left-radius: 1px;
}
.panel > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child td:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child td:last-child,
.panel > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > thead:first-child > tr:first-child th:last-child,
.panel > .table:first-child > tbody:first-child > tr:first-child th:last-child,
.panel > .table-responsive:first-child > .table:first-child > tbody:first-child > tr:first-child th:last-child {
  border-top-right-radius: 1px;
}
.panel > .table:last-child,
.panel > .table-responsive:last-child > .table:last-child {
  border-bottom-right-radius: 1px;
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child {
  border-bottom-left-radius: 1px;
  border-bottom-right-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:first-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:first-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:first-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:first-child {
  border-bottom-left-radius: 1px;
}
.panel > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child td:last-child,
.panel > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tbody:last-child > tr:last-child th:last-child,
.panel > .table:last-child > tfoot:last-child > tr:last-child th:last-child,
.panel > .table-responsive:last-child > .table:last-child > tfoot:last-child > tr:last-child th:last-child {
  border-bottom-right-radius: 1px;
}
.panel > .panel-body + .table,
.panel > .panel-body + .table-responsive,
.panel > .table + .panel-body,
.panel > .table-responsive + .panel-body {
  border-top: 1px solid #ddd;
}
.panel > .table > tbody:first-child > tr:first-child th,
.panel > .table > tbody:first-child > tr:first-child td {
  border-top: 0;
}
.panel > .table-bordered,
.panel > .table-responsive > .table-bordered {
  border: 0;
}
.panel > .table-bordered > thead > tr > th:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:first-child,
.panel > .table-bordered > tbody > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:first-child,
.panel > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:first-child,
.panel > .table-bordered > thead > tr > td:first-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:first-child,
.panel > .table-bordered > tbody > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:first-child,
.panel > .table-bordered > tfoot > tr > td:first-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:first-child {
  border-left: 0;
}
.panel > .table-bordered > thead > tr > th:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > th:last-child,
.panel > .table-bordered > tbody > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > th:last-child,
.panel > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > th:last-child,
.panel > .table-bordered > thead > tr > td:last-child,
.panel > .table-responsive > .table-bordered > thead > tr > td:last-child,
.panel > .table-bordered > tbody > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tbody > tr > td:last-child,
.panel > .table-bordered > tfoot > tr > td:last-child,
.panel > .table-responsive > .table-bordered > tfoot > tr > td:last-child {
  border-right: 0;
}
.panel > .table-bordered > thead > tr:first-child > td,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > td,
.panel > .table-bordered > tbody > tr:first-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > td,
.panel > .table-bordered > thead > tr:first-child > th,
.panel > .table-responsive > .table-bordered > thead > tr:first-child > th,
.panel > .table-bordered > tbody > tr:first-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:first-child > th {
  border-bottom: 0;
}
.panel > .table-bordered > tbody > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > td,
.panel > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > td,
.panel > .table-bordered > tbody > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tbody > tr:last-child > th,
.panel > .table-bordered > tfoot > tr:last-child > th,
.panel > .table-responsive > .table-bordered > tfoot > tr:last-child > th {
  border-bottom: 0;
}
.panel > .table-responsive {
  border: 0;
  margin-bottom: 0;
}
.panel-group {
  margin-bottom: 18px;
}
.panel-group .panel {
  margin-bottom: 0;
  border-radius: 2px;
}
.panel-group .panel + .panel {
  margin-top: 5px;
}
.panel-group .panel-heading {
  border-bottom: 0;
}
.panel-group .panel-heading + .panel-collapse > .panel-body,
.panel-group .panel-heading + .panel-collapse > .list-group {
  border-top: 1px solid #ddd;
}
.panel-group .panel-footer {
  border-top: 0;
}
.panel-group .panel-footer + .panel-collapse .panel-body {
  border-bottom: 1px solid #ddd;
}
.panel-default {
  border-color: #ddd;
}
.panel-default > .panel-heading {
  color: #333333;
  background-color: #f5f5f5;
  border-color: #ddd;
}
.panel-default > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ddd;
}
.panel-default > .panel-heading .badge {
  color: #f5f5f5;
  background-color: #333333;
}
.panel-default > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ddd;
}
.panel-primary {
  border-color: #337ab7;
}
.panel-primary > .panel-heading {
  color: #fff;
  background-color: #337ab7;
  border-color: #337ab7;
}
.panel-primary > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #337ab7;
}
.panel-primary > .panel-heading .badge {
  color: #337ab7;
  background-color: #fff;
}
.panel-primary > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #337ab7;
}
.panel-success {
  border-color: #d6e9c6;
}
.panel-success > .panel-heading {
  color: #3c763d;
  background-color: #dff0d8;
  border-color: #d6e9c6;
}
.panel-success > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #d6e9c6;
}
.panel-success > .panel-heading .badge {
  color: #dff0d8;
  background-color: #3c763d;
}
.panel-success > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #d6e9c6;
}
.panel-info {
  border-color: #bce8f1;
}
.panel-info > .panel-heading {
  color: #31708f;
  background-color: #d9edf7;
  border-color: #bce8f1;
}
.panel-info > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #bce8f1;
}
.panel-info > .panel-heading .badge {
  color: #d9edf7;
  background-color: #31708f;
}
.panel-info > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #bce8f1;
}
.panel-warning {
  border-color: #faebcc;
}
.panel-warning > .panel-heading {
  color: #8a6d3b;
  background-color: #fcf8e3;
  border-color: #faebcc;
}
.panel-warning > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #faebcc;
}
.panel-warning > .panel-heading .badge {
  color: #fcf8e3;
  background-color: #8a6d3b;
}
.panel-warning > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #faebcc;
}
.panel-danger {
  border-color: #ebccd1;
}
.panel-danger > .panel-heading {
  color: #a94442;
  background-color: #f2dede;
  border-color: #ebccd1;
}
.panel-danger > .panel-heading + .panel-collapse > .panel-body {
  border-top-color: #ebccd1;
}
.panel-danger > .panel-heading .badge {
  color: #f2dede;
  background-color: #a94442;
}
.panel-danger > .panel-footer + .panel-collapse > .panel-body {
  border-bottom-color: #ebccd1;
}
.embed-responsive {
  position: relative;
  display: block;
  height: 0;
  padding: 0;
  overflow: hidden;
}
.embed-responsive .embed-responsive-item,
.embed-responsive iframe,
.embed-responsive embed,
.embed-responsive object,
.embed-responsive video {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  height: 100%;
  width: 100%;
  border: 0;
}
.embed-responsive-16by9 {
  padding-bottom: 56.25%;
}
.embed-responsive-4by3 {
  padding-bottom: 75%;
}
.well {
  min-height: 20px;
  padding: 19px;
  margin-bottom: 20px;
  background-color: #f5f5f5;
  border: 1px solid #e3e3e3;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.05);
}
.well blockquote {
  border-color: #ddd;
  border-color: rgba(0, 0, 0, 0.15);
}
.well-lg {
  padding: 24px;
  border-radius: 3px;
}
.well-sm {
  padding: 9px;
  border-radius: 1px;
}
.close {
  float: right;
  font-size: 19.5px;
  font-weight: bold;
  line-height: 1;
  color: #000;
  text-shadow: 0 1px 0 #fff;
  opacity: 0.2;
  filter: alpha(opacity=20);
}
.close:hover,
.close:focus {
  color: #000;
  text-decoration: none;
  cursor: pointer;
  opacity: 0.5;
  filter: alpha(opacity=50);
}
button.close {
  padding: 0;
  cursor: pointer;
  background: transparent;
  border: 0;
  -webkit-appearance: none;
}
.modal-open {
  overflow: hidden;
}
.modal {
  display: none;
  overflow: hidden;
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1050;
  -webkit-overflow-scrolling: touch;
  outline: 0;
}
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, -25%);
  -ms-transform: translate(0, -25%);
  -o-transform: translate(0, -25%);
  transform: translate(0, -25%);
  -webkit-transition: -webkit-transform 0.3s ease-out;
  -moz-transition: -moz-transform 0.3s ease-out;
  -o-transition: -o-transform 0.3s ease-out;
  transition: transform 0.3s ease-out;
}
.modal.in .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
.modal-open .modal {
  overflow-x: hidden;
  overflow-y: auto;
}
.modal-dialog {
  position: relative;
  width: auto;
  margin: 10px;
}
.modal-content {
  position: relative;
  background-color: #fff;
  border: 1px solid #999;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);
  background-clip: padding-box;
  outline: 0;
}
.modal-backdrop {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1040;
  background-color: #000;
}
.modal-backdrop.fade {
  opacity: 0;
  filter: alpha(opacity=0);
}
.modal-backdrop.in {
  opacity: 0.5;
  filter: alpha(opacity=50);
}
.modal-header {
  padding: 15px;
  border-bottom: 1px solid #e5e5e5;
}
.modal-header .close {
  margin-top: -2px;
}
.modal-title {
  margin: 0;
  line-height: 1.42857143;
}
.modal-body {
  position: relative;
  padding: 15px;
}
.modal-footer {
  padding: 15px;
  text-align: right;
  border-top: 1px solid #e5e5e5;
}
.modal-footer .btn + .btn {
  margin-left: 5px;
  margin-bottom: 0;
}
.modal-footer .btn-group .btn + .btn {
  margin-left: -1px;
}
.modal-footer .btn-block + .btn-block {
  margin-left: 0;
}
.modal-scrollbar-measure {
  position: absolute;
  top: -9999px;
  width: 50px;
  height: 50px;
  overflow: scroll;
}
@media (min-width: 768px) {
  .modal-dialog {
    width: 600px;
    margin: 30px auto;
  }
  .modal-content {
    -webkit-box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
  }
  .modal-sm {
    width: 300px;
  }
}
@media (min-width: 992px) {
  .modal-lg {
    width: 900px;
  }
}
.tooltip {
  position: absolute;
  z-index: 1070;
  display: block;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 12px;
  opacity: 0;
  filter: alpha(opacity=0);
}
.tooltip.in {
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.tooltip.top {
  margin-top: -3px;
  padding: 5px 0;
}
.tooltip.right {
  margin-left: 3px;
  padding: 0 5px;
}
.tooltip.bottom {
  margin-top: 3px;
  padding: 5px 0;
}
.tooltip.left {
  margin-left: -3px;
  padding: 0 5px;
}
.tooltip-inner {
  max-width: 200px;
  padding: 3px 8px;
  color: #fff;
  text-align: center;
  background-color: #000;
  border-radius: 2px;
}
.tooltip-arrow {
  position: absolute;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.tooltip.top .tooltip-arrow {
  bottom: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-left .tooltip-arrow {
  bottom: 0;
  right: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.top-right .tooltip-arrow {
  bottom: 0;
  left: 5px;
  margin-bottom: -5px;
  border-width: 5px 5px 0;
  border-top-color: #000;
}
.tooltip.right .tooltip-arrow {
  top: 50%;
  left: 0;
  margin-top: -5px;
  border-width: 5px 5px 5px 0;
  border-right-color: #000;
}
.tooltip.left .tooltip-arrow {
  top: 50%;
  right: 0;
  margin-top: -5px;
  border-width: 5px 0 5px 5px;
  border-left-color: #000;
}
.tooltip.bottom .tooltip-arrow {
  top: 0;
  left: 50%;
  margin-left: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-left .tooltip-arrow {
  top: 0;
  right: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.tooltip.bottom-right .tooltip-arrow {
  top: 0;
  left: 5px;
  margin-top: -5px;
  border-width: 0 5px 5px;
  border-bottom-color: #000;
}
.popover {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 1060;
  display: none;
  max-width: 276px;
  padding: 1px;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-style: normal;
  font-weight: normal;
  letter-spacing: normal;
  line-break: auto;
  line-height: 1.42857143;
  text-align: left;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  white-space: normal;
  word-break: normal;
  word-spacing: normal;
  word-wrap: normal;
  font-size: 13px;
  background-color: #fff;
  background-clip: padding-box;
  border: 1px solid #ccc;
  border: 1px solid rgba(0, 0, 0, 0.2);
  border-radius: 3px;
  -webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}
.popover.top {
  margin-top: -10px;
}
.popover.right {
  margin-left: 10px;
}
.popover.bottom {
  margin-top: 10px;
}
.popover.left {
  margin-left: -10px;
}
.popover-title {
  margin: 0;
  padding: 8px 14px;
  font-size: 13px;
  background-color: #f7f7f7;
  border-bottom: 1px solid #ebebeb;
  border-radius: 2px 2px 0 0;
}
.popover-content {
  padding: 9px 14px;
}
.popover > .arrow,
.popover > .arrow:after {
  position: absolute;
  display: block;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
}
.popover > .arrow {
  border-width: 11px;
}
.popover > .arrow:after {
  border-width: 10px;
  content: "";
}
.popover.top > .arrow {
  left: 50%;
  margin-left: -11px;
  border-bottom-width: 0;
  border-top-color: #999999;
  border-top-color: rgba(0, 0, 0, 0.25);
  bottom: -11px;
}
.popover.top > .arrow:after {
  content: " ";
  bottom: 1px;
  margin-left: -10px;
  border-bottom-width: 0;
  border-top-color: #fff;
}
.popover.right > .arrow {
  top: 50%;
  left: -11px;
  margin-top: -11px;
  border-left-width: 0;
  border-right-color: #999999;
  border-right-color: rgba(0, 0, 0, 0.25);
}
.popover.right > .arrow:after {
  content: " ";
  left: 1px;
  bottom: -10px;
  border-left-width: 0;
  border-right-color: #fff;
}
.popover.bottom > .arrow {
  left: 50%;
  margin-left: -11px;
  border-top-width: 0;
  border-bottom-color: #999999;
  border-bottom-color: rgba(0, 0, 0, 0.25);
  top: -11px;
}
.popover.bottom > .arrow:after {
  content: " ";
  top: 1px;
  margin-left: -10px;
  border-top-width: 0;
  border-bottom-color: #fff;
}
.popover.left > .arrow {
  top: 50%;
  right: -11px;
  margin-top: -11px;
  border-right-width: 0;
  border-left-color: #999999;
  border-left-color: rgba(0, 0, 0, 0.25);
}
.popover.left > .arrow:after {
  content: " ";
  right: 1px;
  border-right-width: 0;
  border-left-color: #fff;
  bottom: -10px;
}
.carousel {
  position: relative;
}
.carousel-inner {
  position: relative;
  overflow: hidden;
  width: 100%;
}
.carousel-inner > .item {
  display: none;
  position: relative;
  -webkit-transition: 0.6s ease-in-out left;
  -o-transition: 0.6s ease-in-out left;
  transition: 0.6s ease-in-out left;
}
.carousel-inner > .item > img,
.carousel-inner > .item > a > img {
  line-height: 1;
}
@media all and (transform-3d), (-webkit-transform-3d) {
  .carousel-inner > .item {
    -webkit-transition: -webkit-transform 0.6s ease-in-out;
    -moz-transition: -moz-transform 0.6s ease-in-out;
    -o-transition: -o-transform 0.6s ease-in-out;
    transition: transform 0.6s ease-in-out;
    -webkit-backface-visibility: hidden;
    -moz-backface-visibility: hidden;
    backface-visibility: hidden;
    -webkit-perspective: 1000px;
    -moz-perspective: 1000px;
    perspective: 1000px;
  }
  .carousel-inner > .item.next,
  .carousel-inner > .item.active.right {
    -webkit-transform: translate3d(100%, 0, 0);
    transform: translate3d(100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.prev,
  .carousel-inner > .item.active.left {
    -webkit-transform: translate3d(-100%, 0, 0);
    transform: translate3d(-100%, 0, 0);
    left: 0;
  }
  .carousel-inner > .item.next.left,
  .carousel-inner > .item.prev.right,
  .carousel-inner > .item.active {
    -webkit-transform: translate3d(0, 0, 0);
    transform: translate3d(0, 0, 0);
    left: 0;
  }
}
.carousel-inner > .active,
.carousel-inner > .next,
.carousel-inner > .prev {
  display: block;
}
.carousel-inner > .active {
  left: 0;
}
.carousel-inner > .next,
.carousel-inner > .prev {
  position: absolute;
  top: 0;
  width: 100%;
}
.carousel-inner > .next {
  left: 100%;
}
.carousel-inner > .prev {
  left: -100%;
}
.carousel-inner > .next.left,
.carousel-inner > .prev.right {
  left: 0;
}
.carousel-inner > .active.left {
  left: -100%;
}
.carousel-inner > .active.right {
  left: 100%;
}
.carousel-control {
  position: absolute;
  top: 0;
  left: 0;
  bottom: 0;
  width: 15%;
  opacity: 0.5;
  filter: alpha(opacity=50);
  font-size: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
  background-color: rgba(0, 0, 0, 0);
}
.carousel-control.left {
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.5) 0%, rgba(0, 0, 0, 0.0001) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#80000000', endColorstr='#00000000', GradientType=1);
}
.carousel-control.right {
  left: auto;
  right: 0;
  background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: -o-linear-gradient(left, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-image: linear-gradient(to right, rgba(0, 0, 0, 0.0001) 0%, rgba(0, 0, 0, 0.5) 100%);
  background-repeat: repeat-x;
  filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#00000000', endColorstr='#80000000', GradientType=1);
}
.carousel-control:hover,
.carousel-control:focus {
  outline: 0;
  color: #fff;
  text-decoration: none;
  opacity: 0.9;
  filter: alpha(opacity=90);
}
.carousel-control .icon-prev,
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-left,
.carousel-control .glyphicon-chevron-right {
  position: absolute;
  top: 50%;
  margin-top: -10px;
  z-index: 5;
  display: inline-block;
}
.carousel-control .icon-prev,
.carousel-control .glyphicon-chevron-left {
  left: 50%;
  margin-left: -10px;
}
.carousel-control .icon-next,
.carousel-control .glyphicon-chevron-right {
  right: 50%;
  margin-right: -10px;
}
.carousel-control .icon-prev,
.carousel-control .icon-next {
  width: 20px;
  height: 20px;
  line-height: 1;
  font-family: serif;
}
.carousel-control .icon-prev:before {
  content: '\2039';
}
.carousel-control .icon-next:before {
  content: '\203a';
}
.carousel-indicators {
  position: absolute;
  bottom: 10px;
  left: 50%;
  z-index: 15;
  width: 60%;
  margin-left: -30%;
  padding-left: 0;
  list-style: none;
  text-align: center;
}
.carousel-indicators li {
  display: inline-block;
  width: 10px;
  height: 10px;
  margin: 1px;
  text-indent: -999px;
  border: 1px solid #fff;
  border-radius: 10px;
  cursor: pointer;
  background-color: #000 \9;
  background-color: rgba(0, 0, 0, 0);
}
.carousel-indicators .active {
  margin: 0;
  width: 12px;
  height: 12px;
  background-color: #fff;
}
.carousel-caption {
  position: absolute;
  left: 15%;
  right: 15%;
  bottom: 20px;
  z-index: 10;
  padding-top: 20px;
  padding-bottom: 20px;
  color: #fff;
  text-align: center;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);
}
.carousel-caption .btn {
  text-shadow: none;
}
@media screen and (min-width: 768px) {
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-prev,
  .carousel-control .icon-next {
    width: 30px;
    height: 30px;
    margin-top: -10px;
    font-size: 30px;
  }
  .carousel-control .glyphicon-chevron-left,
  .carousel-control .icon-prev {
    margin-left: -10px;
  }
  .carousel-control .glyphicon-chevron-right,
  .carousel-control .icon-next {
    margin-right: -10px;
  }
  .carousel-caption {
    left: 20%;
    right: 20%;
    padding-bottom: 30px;
  }
  .carousel-indicators {
    bottom: 20px;
  }
}
.clearfix:before,
.clearfix:after,
.dl-horizontal dd:before,
.dl-horizontal dd:after,
.container:before,
.container:after,
.container-fluid:before,
.container-fluid:after,
.row:before,
.row:after,
.form-horizontal .form-group:before,
.form-horizontal .form-group:after,
.btn-toolbar:before,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:before,
.btn-group-vertical > .btn-group:after,
.nav:before,
.nav:after,
.navbar:before,
.navbar:after,
.navbar-header:before,
.navbar-header:after,
.navbar-collapse:before,
.navbar-collapse:after,
.pager:before,
.pager:after,
.panel-body:before,
.panel-body:after,
.modal-header:before,
.modal-header:after,
.modal-footer:before,
.modal-footer:after,
.item_buttons:before,
.item_buttons:after {
  content: " ";
  display: table;
}
.clearfix:after,
.dl-horizontal dd:after,
.container:after,
.container-fluid:after,
.row:after,
.form-horizontal .form-group:after,
.btn-toolbar:after,
.btn-group-vertical > .btn-group:after,
.nav:after,
.navbar:after,
.navbar-header:after,
.navbar-collapse:after,
.pager:after,
.panel-body:after,
.modal-header:after,
.modal-footer:after,
.item_buttons:after {
  clear: both;
}
.center-block {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.pull-right {
  float: right !important;
}
.pull-left {
  float: left !important;
}
.hide {
  display: none !important;
}
.show {
  display: block !important;
}
.invisible {
  visibility: hidden;
}
.text-hide {
  font: 0/0 a;
  color: transparent;
  text-shadow: none;
  background-color: transparent;
  border: 0;
}
.hidden {
  display: none !important;
}
.affix {
  position: fixed;
}
@-ms-viewport {
  width: device-width;
}
.visible-xs,
.visible-sm,
.visible-md,
.visible-lg {
  display: none !important;
}
.visible-xs-block,
.visible-xs-inline,
.visible-xs-inline-block,
.visible-sm-block,
.visible-sm-inline,
.visible-sm-inline-block,
.visible-md-block,
.visible-md-inline,
.visible-md-inline-block,
.visible-lg-block,
.visible-lg-inline,
.visible-lg-inline-block {
  display: none !important;
}
@media (max-width: 767px) {
  .visible-xs {
    display: block !important;
  }
  table.visible-xs {
    display: table !important;
  }
  tr.visible-xs {
    display: table-row !important;
  }
  th.visible-xs,
  td.visible-xs {
    display: table-cell !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-block {
    display: block !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline {
    display: inline !important;
  }
}
@media (max-width: 767px) {
  .visible-xs-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm {
    display: block !important;
  }
  table.visible-sm {
    display: table !important;
  }
  tr.visible-sm {
    display: table-row !important;
  }
  th.visible-sm,
  td.visible-sm {
    display: table-cell !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-block {
    display: block !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline {
    display: inline !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .visible-sm-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md {
    display: block !important;
  }
  table.visible-md {
    display: table !important;
  }
  tr.visible-md {
    display: table-row !important;
  }
  th.visible-md,
  td.visible-md {
    display: table-cell !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-block {
    display: block !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline {
    display: inline !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .visible-md-inline-block {
    display: inline-block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg {
    display: block !important;
  }
  table.visible-lg {
    display: table !important;
  }
  tr.visible-lg {
    display: table-row !important;
  }
  th.visible-lg,
  td.visible-lg {
    display: table-cell !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-block {
    display: block !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline {
    display: inline !important;
  }
}
@media (min-width: 1200px) {
  .visible-lg-inline-block {
    display: inline-block !important;
  }
}
@media (max-width: 767px) {
  .hidden-xs {
    display: none !important;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  .hidden-sm {
    display: none !important;
  }
}
@media (min-width: 992px) and (max-width: 1199px) {
  .hidden-md {
    display: none !important;
  }
}
@media (min-width: 1200px) {
  .hidden-lg {
    display: none !important;
  }
}
.visible-print {
  display: none !important;
}
@media print {
  .visible-print {
    display: block !important;
  }
  table.visible-print {
    display: table !important;
  }
  tr.visible-print {
    display: table-row !important;
  }
  th.visible-print,
  td.visible-print {
    display: table-cell !important;
  }
}
.visible-print-block {
  display: none !important;
}
@media print {
  .visible-print-block {
    display: block !important;
  }
}
.visible-print-inline {
  display: none !important;
}
@media print {
  .visible-print-inline {
    display: inline !important;
  }
}
.visible-print-inline-block {
  display: none !important;
}
@media print {
  .visible-print-inline-block {
    display: inline-block !important;
  }
}
@media print {
  .hidden-print {
    display: none !important;
  }
}
/*!
*
* Font Awesome
*
*/
/*!
 *  Font Awesome 4.2.0 by @davegandy - http://fontawesome.io - @fontawesome
 *  License - http://fontawesome.io/license (Font: SIL OFL 1.1, CSS: MIT License)
 */
/* FONT PATH
 * -------------------------- */
@font-face {
  font-family: 'FontAwesome';
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?v=4.2.0');
  src: url('../components/font-awesome/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0') format('embedded-opentype'), url('../components/font-awesome/fonts/fontawesome-webfont.woff?v=4.2.0') format('woff'), url('../components/font-awesome/fonts/fontawesome-webfont.ttf?v=4.2.0') format('truetype'), url('../components/font-awesome/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular') format('svg');
  font-weight: normal;
  font-style: normal;
}
.fa {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
/* makes the font 33% larger relative to the icon container */
.fa-lg {
  font-size: 1.33333333em;
  line-height: 0.75em;
  vertical-align: -15%;
}
.fa-2x {
  font-size: 2em;
}
.fa-3x {
  font-size: 3em;
}
.fa-4x {
  font-size: 4em;
}
.fa-5x {
  font-size: 5em;
}
.fa-fw {
  width: 1.28571429em;
  text-align: center;
}
.fa-ul {
  padding-left: 0;
  margin-left: 2.14285714em;
  list-style-type: none;
}
.fa-ul > li {
  position: relative;
}
.fa-li {
  position: absolute;
  left: -2.14285714em;
  width: 2.14285714em;
  top: 0.14285714em;
  text-align: center;
}
.fa-li.fa-lg {
  left: -1.85714286em;
}
.fa-border {
  padding: .2em .25em .15em;
  border: solid 0.08em #eee;
  border-radius: .1em;
}
.pull-right {
  float: right;
}
.pull-left {
  float: left;
}
.fa.pull-left {
  margin-right: .3em;
}
.fa.pull-right {
  margin-left: .3em;
}
.fa-spin {
  -webkit-animation: fa-spin 2s infinite linear;
  animation: fa-spin 2s infinite linear;
}
@-webkit-keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
@keyframes fa-spin {
  0% {
    -webkit-transform: rotate(0deg);
    transform: rotate(0deg);
  }
  100% {
    -webkit-transform: rotate(359deg);
    transform: rotate(359deg);
  }
}
.fa-rotate-90 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=1);
  -webkit-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.fa-rotate-180 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);
  -webkit-transform: rotate(180deg);
  -ms-transform: rotate(180deg);
  transform: rotate(180deg);
}
.fa-rotate-270 {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=3);
  -webkit-transform: rotate(270deg);
  -ms-transform: rotate(270deg);
  transform: rotate(270deg);
}
.fa-flip-horizontal {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1);
  -webkit-transform: scale(-1, 1);
  -ms-transform: scale(-1, 1);
  transform: scale(-1, 1);
}
.fa-flip-vertical {
  filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1);
  -webkit-transform: scale(1, -1);
  -ms-transform: scale(1, -1);
  transform: scale(1, -1);
}
:root .fa-rotate-90,
:root .fa-rotate-180,
:root .fa-rotate-270,
:root .fa-flip-horizontal,
:root .fa-flip-vertical {
  filter: none;
}
.fa-stack {
  position: relative;
  display: inline-block;
  width: 2em;
  height: 2em;
  line-height: 2em;
  vertical-align: middle;
}
.fa-stack-1x,
.fa-stack-2x {
  position: absolute;
  left: 0;
  width: 100%;
  text-align: center;
}
.fa-stack-1x {
  line-height: inherit;
}
.fa-stack-2x {
  font-size: 2em;
}
.fa-inverse {
  color: #fff;
}
/* Font Awesome uses the Unicode Private Use Area (PUA) to ensure screen
   readers do not read off random characters that represent icons */
.fa-glass:before {
  content: "\f000";
}
.fa-music:before {
  content: "\f001";
}
.fa-search:before {
  content: "\f002";
}
.fa-envelope-o:before {
  content: "\f003";
}
.fa-heart:before {
  content: "\f004";
}
.fa-star:before {
  content: "\f005";
}
.fa-star-o:before {
  content: "\f006";
}
.fa-user:before {
  content: "\f007";
}
.fa-film:before {
  content: "\f008";
}
.fa-th-large:before {
  content: "\f009";
}
.fa-th:before {
  content: "\f00a";
}
.fa-th-list:before {
  content: "\f00b";
}
.fa-check:before {
  content: "\f00c";
}
.fa-remove:before,
.fa-close:before,
.fa-times:before {
  content: "\f00d";
}
.fa-search-plus:before {
  content: "\f00e";
}
.fa-search-minus:before {
  content: "\f010";
}
.fa-power-off:before {
  content: "\f011";
}
.fa-signal:before {
  content: "\f012";
}
.fa-gear:before,
.fa-cog:before {
  content: "\f013";
}
.fa-trash-o:before {
  content: "\f014";
}
.fa-home:before {
  content: "\f015";
}
.fa-file-o:before {
  content: "\f016";
}
.fa-clock-o:before {
  content: "\f017";
}
.fa-road:before {
  content: "\f018";
}
.fa-download:before {
  content: "\f019";
}
.fa-arrow-circle-o-down:before {
  content: "\f01a";
}
.fa-arrow-circle-o-up:before {
  content: "\f01b";
}
.fa-inbox:before {
  content: "\f01c";
}
.fa-play-circle-o:before {
  content: "\f01d";
}
.fa-rotate-right:before,
.fa-repeat:before {
  content: "\f01e";
}
.fa-refresh:before {
  content: "\f021";
}
.fa-list-alt:before {
  content: "\f022";
}
.fa-lock:before {
  content: "\f023";
}
.fa-flag:before {
  content: "\f024";
}
.fa-headphones:before {
  content: "\f025";
}
.fa-volume-off:before {
  content: "\f026";
}
.fa-volume-down:before {
  content: "\f027";
}
.fa-volume-up:before {
  content: "\f028";
}
.fa-qrcode:before {
  content: "\f029";
}
.fa-barcode:before {
  content: "\f02a";
}
.fa-tag:before {
  content: "\f02b";
}
.fa-tags:before {
  content: "\f02c";
}
.fa-book:before {
  content: "\f02d";
}
.fa-bookmark:before {
  content: "\f02e";
}
.fa-print:before {
  content: "\f02f";
}
.fa-camera:before {
  content: "\f030";
}
.fa-font:before {
  content: "\f031";
}
.fa-bold:before {
  content: "\f032";
}
.fa-italic:before {
  content: "\f033";
}
.fa-text-height:before {
  content: "\f034";
}
.fa-text-width:before {
  content: "\f035";
}
.fa-align-left:before {
  content: "\f036";
}
.fa-align-center:before {
  content: "\f037";
}
.fa-align-right:before {
  content: "\f038";
}
.fa-align-justify:before {
  content: "\f039";
}
.fa-list:before {
  content: "\f03a";
}
.fa-dedent:before,
.fa-outdent:before {
  content: "\f03b";
}
.fa-indent:before {
  content: "\f03c";
}
.fa-video-camera:before {
  content: "\f03d";
}
.fa-photo:before,
.fa-image:before,
.fa-picture-o:before {
  content: "\f03e";
}
.fa-pencil:before {
  content: "\f040";
}
.fa-map-marker:before {
  content: "\f041";
}
.fa-adjust:before {
  content: "\f042";
}
.fa-tint:before {
  content: "\f043";
}
.fa-edit:before,
.fa-pencil-square-o:before {
  content: "\f044";
}
.fa-share-square-o:before {
  content: "\f045";
}
.fa-check-square-o:before {
  content: "\f046";
}
.fa-arrows:before {
  content: "\f047";
}
.fa-step-backward:before {
  content: "\f048";
}
.fa-fast-backward:before {
  content: "\f049";
}
.fa-backward:before {
  content: "\f04a";
}
.fa-play:before {
  content: "\f04b";
}
.fa-pause:before {
  content: "\f04c";
}
.fa-stop:before {
  content: "\f04d";
}
.fa-forward:before {
  content: "\f04e";
}
.fa-fast-forward:before {
  content: "\f050";
}
.fa-step-forward:before {
  content: "\f051";
}
.fa-eject:before {
  content: "\f052";
}
.fa-chevron-left:before {
  content: "\f053";
}
.fa-chevron-right:before {
  content: "\f054";
}
.fa-plus-circle:before {
  content: "\f055";
}
.fa-minus-circle:before {
  content: "\f056";
}
.fa-times-circle:before {
  content: "\f057";
}
.fa-check-circle:before {
  content: "\f058";
}
.fa-question-circle:before {
  content: "\f059";
}
.fa-info-circle:before {
  content: "\f05a";
}
.fa-crosshairs:before {
  content: "\f05b";
}
.fa-times-circle-o:before {
  content: "\f05c";
}
.fa-check-circle-o:before {
  content: "\f05d";
}
.fa-ban:before {
  content: "\f05e";
}
.fa-arrow-left:before {
  content: "\f060";
}
.fa-arrow-right:before {
  content: "\f061";
}
.fa-arrow-up:before {
  content: "\f062";
}
.fa-arrow-down:before {
  content: "\f063";
}
.fa-mail-forward:before,
.fa-share:before {
  content: "\f064";
}
.fa-expand:before {
  content: "\f065";
}
.fa-compress:before {
  content: "\f066";
}
.fa-plus:before {
  content: "\f067";
}
.fa-minus:before {
  content: "\f068";
}
.fa-asterisk:before {
  content: "\f069";
}
.fa-exclamation-circle:before {
  content: "\f06a";
}
.fa-gift:before {
  content: "\f06b";
}
.fa-leaf:before {
  content: "\f06c";
}
.fa-fire:before {
  content: "\f06d";
}
.fa-eye:before {
  content: "\f06e";
}
.fa-eye-slash:before {
  content: "\f070";
}
.fa-warning:before,
.fa-exclamation-triangle:before {
  content: "\f071";
}
.fa-plane:before {
  content: "\f072";
}
.fa-calendar:before {
  content: "\f073";
}
.fa-random:before {
  content: "\f074";
}
.fa-comment:before {
  content: "\f075";
}
.fa-magnet:before {
  content: "\f076";
}
.fa-chevron-up:before {
  content: "\f077";
}
.fa-chevron-down:before {
  content: "\f078";
}
.fa-retweet:before {
  content: "\f079";
}
.fa-shopping-cart:before {
  content: "\f07a";
}
.fa-folder:before {
  content: "\f07b";
}
.fa-folder-open:before {
  content: "\f07c";
}
.fa-arrows-v:before {
  content: "\f07d";
}
.fa-arrows-h:before {
  content: "\f07e";
}
.fa-bar-chart-o:before,
.fa-bar-chart:before {
  content: "\f080";
}
.fa-twitter-square:before {
  content: "\f081";
}
.fa-facebook-square:before {
  content: "\f082";
}
.fa-camera-retro:before {
  content: "\f083";
}
.fa-key:before {
  content: "\f084";
}
.fa-gears:before,
.fa-cogs:before {
  content: "\f085";
}
.fa-comments:before {
  content: "\f086";
}
.fa-thumbs-o-up:before {
  content: "\f087";
}
.fa-thumbs-o-down:before {
  content: "\f088";
}
.fa-star-half:before {
  content: "\f089";
}
.fa-heart-o:before {
  content: "\f08a";
}
.fa-sign-out:before {
  content: "\f08b";
}
.fa-linkedin-square:before {
  content: "\f08c";
}
.fa-thumb-tack:before {
  content: "\f08d";
}
.fa-external-link:before {
  content: "\f08e";
}
.fa-sign-in:before {
  content: "\f090";
}
.fa-trophy:before {
  content: "\f091";
}
.fa-github-square:before {
  content: "\f092";
}
.fa-upload:before {
  content: "\f093";
}
.fa-lemon-o:before {
  content: "\f094";
}
.fa-phone:before {
  content: "\f095";
}
.fa-square-o:before {
  content: "\f096";
}
.fa-bookmark-o:before {
  content: "\f097";
}
.fa-phone-square:before {
  content: "\f098";
}
.fa-twitter:before {
  content: "\f099";
}
.fa-facebook:before {
  content: "\f09a";
}
.fa-github:before {
  content: "\f09b";
}
.fa-unlock:before {
  content: "\f09c";
}
.fa-credit-card:before {
  content: "\f09d";
}
.fa-rss:before {
  content: "\f09e";
}
.fa-hdd-o:before {
  content: "\f0a0";
}
.fa-bullhorn:before {
  content: "\f0a1";
}
.fa-bell:before {
  content: "\f0f3";
}
.fa-certificate:before {
  content: "\f0a3";
}
.fa-hand-o-right:before {
  content: "\f0a4";
}
.fa-hand-o-left:before {
  content: "\f0a5";
}
.fa-hand-o-up:before {
  content: "\f0a6";
}
.fa-hand-o-down:before {
  content: "\f0a7";
}
.fa-arrow-circle-left:before {
  content: "\f0a8";
}
.fa-arrow-circle-right:before {
  content: "\f0a9";
}
.fa-arrow-circle-up:before {
  content: "\f0aa";
}
.fa-arrow-circle-down:before {
  content: "\f0ab";
}
.fa-globe:before {
  content: "\f0ac";
}
.fa-wrench:before {
  content: "\f0ad";
}
.fa-tasks:before {
  content: "\f0ae";
}
.fa-filter:before {
  content: "\f0b0";
}
.fa-briefcase:before {
  content: "\f0b1";
}
.fa-arrows-alt:before {
  content: "\f0b2";
}
.fa-group:before,
.fa-users:before {
  content: "\f0c0";
}
.fa-chain:before,
.fa-link:before {
  content: "\f0c1";
}
.fa-cloud:before {
  content: "\f0c2";
}
.fa-flask:before {
  content: "\f0c3";
}
.fa-cut:before,
.fa-scissors:before {
  content: "\f0c4";
}
.fa-copy:before,
.fa-files-o:before {
  content: "\f0c5";
}
.fa-paperclip:before {
  content: "\f0c6";
}
.fa-save:before,
.fa-floppy-o:before {
  content: "\f0c7";
}
.fa-square:before {
  content: "\f0c8";
}
.fa-navicon:before,
.fa-reorder:before,
.fa-bars:before {
  content: "\f0c9";
}
.fa-list-ul:before {
  content: "\f0ca";
}
.fa-list-ol:before {
  content: "\f0cb";
}
.fa-strikethrough:before {
  content: "\f0cc";
}
.fa-underline:before {
  content: "\f0cd";
}
.fa-table:before {
  content: "\f0ce";
}
.fa-magic:before {
  content: "\f0d0";
}
.fa-truck:before {
  content: "\f0d1";
}
.fa-pinterest:before {
  content: "\f0d2";
}
.fa-pinterest-square:before {
  content: "\f0d3";
}
.fa-google-plus-square:before {
  content: "\f0d4";
}
.fa-google-plus:before {
  content: "\f0d5";
}
.fa-money:before {
  content: "\f0d6";
}
.fa-caret-down:before {
  content: "\f0d7";
}
.fa-caret-up:before {
  content: "\f0d8";
}
.fa-caret-left:before {
  content: "\f0d9";
}
.fa-caret-right:before {
  content: "\f0da";
}
.fa-columns:before {
  content: "\f0db";
}
.fa-unsorted:before,
.fa-sort:before {
  content: "\f0dc";
}
.fa-sort-down:before,
.fa-sort-desc:before {
  content: "\f0dd";
}
.fa-sort-up:before,
.fa-sort-asc:before {
  content: "\f0de";
}
.fa-envelope:before {
  content: "\f0e0";
}
.fa-linkedin:before {
  content: "\f0e1";
}
.fa-rotate-left:before,
.fa-undo:before {
  content: "\f0e2";
}
.fa-legal:before,
.fa-gavel:before {
  content: "\f0e3";
}
.fa-dashboard:before,
.fa-tachometer:before {
  content: "\f0e4";
}
.fa-comment-o:before {
  content: "\f0e5";
}
.fa-comments-o:before {
  content: "\f0e6";
}
.fa-flash:before,
.fa-bolt:before {
  content: "\f0e7";
}
.fa-sitemap:before {
  content: "\f0e8";
}
.fa-umbrella:before {
  content: "\f0e9";
}
.fa-paste:before,
.fa-clipboard:before {
  content: "\f0ea";
}
.fa-lightbulb-o:before {
  content: "\f0eb";
}
.fa-exchange:before {
  content: "\f0ec";
}
.fa-cloud-download:before {
  content: "\f0ed";
}
.fa-cloud-upload:before {
  content: "\f0ee";
}
.fa-user-md:before {
  content: "\f0f0";
}
.fa-stethoscope:before {
  content: "\f0f1";
}
.fa-suitcase:before {
  content: "\f0f2";
}
.fa-bell-o:before {
  content: "\f0a2";
}
.fa-coffee:before {
  content: "\f0f4";
}
.fa-cutlery:before {
  content: "\f0f5";
}
.fa-file-text-o:before {
  content: "\f0f6";
}
.fa-building-o:before {
  content: "\f0f7";
}
.fa-hospital-o:before {
  content: "\f0f8";
}
.fa-ambulance:before {
  content: "\f0f9";
}
.fa-medkit:before {
  content: "\f0fa";
}
.fa-fighter-jet:before {
  content: "\f0fb";
}
.fa-beer:before {
  content: "\f0fc";
}
.fa-h-square:before {
  content: "\f0fd";
}
.fa-plus-square:before {
  content: "\f0fe";
}
.fa-angle-double-left:before {
  content: "\f100";
}
.fa-angle-double-right:before {
  content: "\f101";
}
.fa-angle-double-up:before {
  content: "\f102";
}
.fa-angle-double-down:before {
  content: "\f103";
}
.fa-angle-left:before {
  content: "\f104";
}
.fa-angle-right:before {
  content: "\f105";
}
.fa-angle-up:before {
  content: "\f106";
}
.fa-angle-down:before {
  content: "\f107";
}
.fa-desktop:before {
  content: "\f108";
}
.fa-laptop:before {
  content: "\f109";
}
.fa-tablet:before {
  content: "\f10a";
}
.fa-mobile-phone:before,
.fa-mobile:before {
  content: "\f10b";
}
.fa-circle-o:before {
  content: "\f10c";
}
.fa-quote-left:before {
  content: "\f10d";
}
.fa-quote-right:before {
  content: "\f10e";
}
.fa-spinner:before {
  content: "\f110";
}
.fa-circle:before {
  content: "\f111";
}
.fa-mail-reply:before,
.fa-reply:before {
  content: "\f112";
}
.fa-github-alt:before {
  content: "\f113";
}
.fa-folder-o:before {
  content: "\f114";
}
.fa-folder-open-o:before {
  content: "\f115";
}
.fa-smile-o:before {
  content: "\f118";
}
.fa-frown-o:before {
  content: "\f119";
}
.fa-meh-o:before {
  content: "\f11a";
}
.fa-gamepad:before {
  content: "\f11b";
}
.fa-keyboard-o:before {
  content: "\f11c";
}
.fa-flag-o:before {
  content: "\f11d";
}
.fa-flag-checkered:before {
  content: "\f11e";
}
.fa-terminal:before {
  content: "\f120";
}
.fa-code:before {
  content: "\f121";
}
.fa-mail-reply-all:before,
.fa-reply-all:before {
  content: "\f122";
}
.fa-star-half-empty:before,
.fa-star-half-full:before,
.fa-star-half-o:before {
  content: "\f123";
}
.fa-location-arrow:before {
  content: "\f124";
}
.fa-crop:before {
  content: "\f125";
}
.fa-code-fork:before {
  content: "\f126";
}
.fa-unlink:before,
.fa-chain-broken:before {
  content: "\f127";
}
.fa-question:before {
  content: "\f128";
}
.fa-info:before {
  content: "\f129";
}
.fa-exclamation:before {
  content: "\f12a";
}
.fa-superscript:before {
  content: "\f12b";
}
.fa-subscript:before {
  content: "\f12c";
}
.fa-eraser:before {
  content: "\f12d";
}
.fa-puzzle-piece:before {
  content: "\f12e";
}
.fa-microphone:before {
  content: "\f130";
}
.fa-microphone-slash:before {
  content: "\f131";
}
.fa-shield:before {
  content: "\f132";
}
.fa-calendar-o:before {
  content: "\f133";
}
.fa-fire-extinguisher:before {
  content: "\f134";
}
.fa-rocket:before {
  content: "\f135";
}
.fa-maxcdn:before {
  content: "\f136";
}
.fa-chevron-circle-left:before {
  content: "\f137";
}
.fa-chevron-circle-right:before {
  content: "\f138";
}
.fa-chevron-circle-up:before {
  content: "\f139";
}
.fa-chevron-circle-down:before {
  content: "\f13a";
}
.fa-html5:before {
  content: "\f13b";
}
.fa-css3:before {
  content: "\f13c";
}
.fa-anchor:before {
  content: "\f13d";
}
.fa-unlock-alt:before {
  content: "\f13e";
}
.fa-bullseye:before {
  content: "\f140";
}
.fa-ellipsis-h:before {
  content: "\f141";
}
.fa-ellipsis-v:before {
  content: "\f142";
}
.fa-rss-square:before {
  content: "\f143";
}
.fa-play-circle:before {
  content: "\f144";
}
.fa-ticket:before {
  content: "\f145";
}
.fa-minus-square:before {
  content: "\f146";
}
.fa-minus-square-o:before {
  content: "\f147";
}
.fa-level-up:before {
  content: "\f148";
}
.fa-level-down:before {
  content: "\f149";
}
.fa-check-square:before {
  content: "\f14a";
}
.fa-pencil-square:before {
  content: "\f14b";
}
.fa-external-link-square:before {
  content: "\f14c";
}
.fa-share-square:before {
  content: "\f14d";
}
.fa-compass:before {
  content: "\f14e";
}
.fa-toggle-down:before,
.fa-caret-square-o-down:before {
  content: "\f150";
}
.fa-toggle-up:before,
.fa-caret-square-o-up:before {
  content: "\f151";
}
.fa-toggle-right:before,
.fa-caret-square-o-right:before {
  content: "\f152";
}
.fa-euro:before,
.fa-eur:before {
  content: "\f153";
}
.fa-gbp:before {
  content: "\f154";
}
.fa-dollar:before,
.fa-usd:before {
  content: "\f155";
}
.fa-rupee:before,
.fa-inr:before {
  content: "\f156";
}
.fa-cny:before,
.fa-rmb:before,
.fa-yen:before,
.fa-jpy:before {
  content: "\f157";
}
.fa-ruble:before,
.fa-rouble:before,
.fa-rub:before {
  content: "\f158";
}
.fa-won:before,
.fa-krw:before {
  content: "\f159";
}
.fa-bitcoin:before,
.fa-btc:before {
  content: "\f15a";
}
.fa-file:before {
  content: "\f15b";
}
.fa-file-text:before {
  content: "\f15c";
}
.fa-sort-alpha-asc:before {
  content: "\f15d";
}
.fa-sort-alpha-desc:before {
  content: "\f15e";
}
.fa-sort-amount-asc:before {
  content: "\f160";
}
.fa-sort-amount-desc:before {
  content: "\f161";
}
.fa-sort-numeric-asc:before {
  content: "\f162";
}
.fa-sort-numeric-desc:before {
  content: "\f163";
}
.fa-thumbs-up:before {
  content: "\f164";
}
.fa-thumbs-down:before {
  content: "\f165";
}
.fa-youtube-square:before {
  content: "\f166";
}
.fa-youtube:before {
  content: "\f167";
}
.fa-xing:before {
  content: "\f168";
}
.fa-xing-square:before {
  content: "\f169";
}
.fa-youtube-play:before {
  content: "\f16a";
}
.fa-dropbox:before {
  content: "\f16b";
}
.fa-stack-overflow:before {
  content: "\f16c";
}
.fa-instagram:before {
  content: "\f16d";
}
.fa-flickr:before {
  content: "\f16e";
}
.fa-adn:before {
  content: "\f170";
}
.fa-bitbucket:before {
  content: "\f171";
}
.fa-bitbucket-square:before {
  content: "\f172";
}
.fa-tumblr:before {
  content: "\f173";
}
.fa-tumblr-square:before {
  content: "\f174";
}
.fa-long-arrow-down:before {
  content: "\f175";
}
.fa-long-arrow-up:before {
  content: "\f176";
}
.fa-long-arrow-left:before {
  content: "\f177";
}
.fa-long-arrow-right:before {
  content: "\f178";
}
.fa-apple:before {
  content: "\f179";
}
.fa-windows:before {
  content: "\f17a";
}
.fa-android:before {
  content: "\f17b";
}
.fa-linux:before {
  content: "\f17c";
}
.fa-dribbble:before {
  content: "\f17d";
}
.fa-skype:before {
  content: "\f17e";
}
.fa-foursquare:before {
  content: "\f180";
}
.fa-trello:before {
  content: "\f181";
}
.fa-female:before {
  content: "\f182";
}
.fa-male:before {
  content: "\f183";
}
.fa-gittip:before {
  content: "\f184";
}
.fa-sun-o:before {
  content: "\f185";
}
.fa-moon-o:before {
  content: "\f186";
}
.fa-archive:before {
  content: "\f187";
}
.fa-bug:before {
  content: "\f188";
}
.fa-vk:before {
  content: "\f189";
}
.fa-weibo:before {
  content: "\f18a";
}
.fa-renren:before {
  content: "\f18b";
}
.fa-pagelines:before {
  content: "\f18c";
}
.fa-stack-exchange:before {
  content: "\f18d";
}
.fa-arrow-circle-o-right:before {
  content: "\f18e";
}
.fa-arrow-circle-o-left:before {
  content: "\f190";
}
.fa-toggle-left:before,
.fa-caret-square-o-left:before {
  content: "\f191";
}
.fa-dot-circle-o:before {
  content: "\f192";
}
.fa-wheelchair:before {
  content: "\f193";
}
.fa-vimeo-square:before {
  content: "\f194";
}
.fa-turkish-lira:before,
.fa-try:before {
  content: "\f195";
}
.fa-plus-square-o:before {
  content: "\f196";
}
.fa-space-shuttle:before {
  content: "\f197";
}
.fa-slack:before {
  content: "\f198";
}
.fa-envelope-square:before {
  content: "\f199";
}
.fa-wordpress:before {
  content: "\f19a";
}
.fa-openid:before {
  content: "\f19b";
}
.fa-institution:before,
.fa-bank:before,
.fa-university:before {
  content: "\f19c";
}
.fa-mortar-board:before,
.fa-graduation-cap:before {
  content: "\f19d";
}
.fa-yahoo:before {
  content: "\f19e";
}
.fa-google:before {
  content: "\f1a0";
}
.fa-reddit:before {
  content: "\f1a1";
}
.fa-reddit-square:before {
  content: "\f1a2";
}
.fa-stumbleupon-circle:before {
  content: "\f1a3";
}
.fa-stumbleupon:before {
  content: "\f1a4";
}
.fa-delicious:before {
  content: "\f1a5";
}
.fa-digg:before {
  content: "\f1a6";
}
.fa-pied-piper:before {
  content: "\f1a7";
}
.fa-pied-piper-alt:before {
  content: "\f1a8";
}
.fa-drupal:before {
  content: "\f1a9";
}
.fa-joomla:before {
  content: "\f1aa";
}
.fa-language:before {
  content: "\f1ab";
}
.fa-fax:before {
  content: "\f1ac";
}
.fa-building:before {
  content: "\f1ad";
}
.fa-child:before {
  content: "\f1ae";
}
.fa-paw:before {
  content: "\f1b0";
}
.fa-spoon:before {
  content: "\f1b1";
}
.fa-cube:before {
  content: "\f1b2";
}
.fa-cubes:before {
  content: "\f1b3";
}
.fa-behance:before {
  content: "\f1b4";
}
.fa-behance-square:before {
  content: "\f1b5";
}
.fa-steam:before {
  content: "\f1b6";
}
.fa-steam-square:before {
  content: "\f1b7";
}
.fa-recycle:before {
  content: "\f1b8";
}
.fa-automobile:before,
.fa-car:before {
  content: "\f1b9";
}
.fa-cab:before,
.fa-taxi:before {
  content: "\f1ba";
}
.fa-tree:before {
  content: "\f1bb";
}
.fa-spotify:before {
  content: "\f1bc";
}
.fa-deviantart:before {
  content: "\f1bd";
}
.fa-soundcloud:before {
  content: "\f1be";
}
.fa-database:before {
  content: "\f1c0";
}
.fa-file-pdf-o:before {
  content: "\f1c1";
}
.fa-file-word-o:before {
  content: "\f1c2";
}
.fa-file-excel-o:before {
  content: "\f1c3";
}
.fa-file-powerpoint-o:before {
  content: "\f1c4";
}
.fa-file-photo-o:before,
.fa-file-picture-o:before,
.fa-file-image-o:before {
  content: "\f1c5";
}
.fa-file-zip-o:before,
.fa-file-archive-o:before {
  content: "\f1c6";
}
.fa-file-sound-o:before,
.fa-file-audio-o:before {
  content: "\f1c7";
}
.fa-file-movie-o:before,
.fa-file-video-o:before {
  content: "\f1c8";
}
.fa-file-code-o:before {
  content: "\f1c9";
}
.fa-vine:before {
  content: "\f1ca";
}
.fa-codepen:before {
  content: "\f1cb";
}
.fa-jsfiddle:before {
  content: "\f1cc";
}
.fa-life-bouy:before,
.fa-life-buoy:before,
.fa-life-saver:before,
.fa-support:before,
.fa-life-ring:before {
  content: "\f1cd";
}
.fa-circle-o-notch:before {
  content: "\f1ce";
}
.fa-ra:before,
.fa-rebel:before {
  content: "\f1d0";
}
.fa-ge:before,
.fa-empire:before {
  content: "\f1d1";
}
.fa-git-square:before {
  content: "\f1d2";
}
.fa-git:before {
  content: "\f1d3";
}
.fa-hacker-news:before {
  content: "\f1d4";
}
.fa-tencent-weibo:before {
  content: "\f1d5";
}
.fa-qq:before {
  content: "\f1d6";
}
.fa-wechat:before,
.fa-weixin:before {
  content: "\f1d7";
}
.fa-send:before,
.fa-paper-plane:before {
  content: "\f1d8";
}
.fa-send-o:before,
.fa-paper-plane-o:before {
  content: "\f1d9";
}
.fa-history:before {
  content: "\f1da";
}
.fa-circle-thin:before {
  content: "\f1db";
}
.fa-header:before {
  content: "\f1dc";
}
.fa-paragraph:before {
  content: "\f1dd";
}
.fa-sliders:before {
  content: "\f1de";
}
.fa-share-alt:before {
  content: "\f1e0";
}
.fa-share-alt-square:before {
  content: "\f1e1";
}
.fa-bomb:before {
  content: "\f1e2";
}
.fa-soccer-ball-o:before,
.fa-futbol-o:before {
  content: "\f1e3";
}
.fa-tty:before {
  content: "\f1e4";
}
.fa-binoculars:before {
  content: "\f1e5";
}
.fa-plug:before {
  content: "\f1e6";
}
.fa-slideshare:before {
  content: "\f1e7";
}
.fa-twitch:before {
  content: "\f1e8";
}
.fa-yelp:before {
  content: "\f1e9";
}
.fa-newspaper-o:before {
  content: "\f1ea";
}
.fa-wifi:before {
  content: "\f1eb";
}
.fa-calculator:before {
  content: "\f1ec";
}
.fa-paypal:before {
  content: "\f1ed";
}
.fa-google-wallet:before {
  content: "\f1ee";
}
.fa-cc-visa:before {
  content: "\f1f0";
}
.fa-cc-mastercard:before {
  content: "\f1f1";
}
.fa-cc-discover:before {
  content: "\f1f2";
}
.fa-cc-amex:before {
  content: "\f1f3";
}
.fa-cc-paypal:before {
  content: "\f1f4";
}
.fa-cc-stripe:before {
  content: "\f1f5";
}
.fa-bell-slash:before {
  content: "\f1f6";
}
.fa-bell-slash-o:before {
  content: "\f1f7";
}
.fa-trash:before {
  content: "\f1f8";
}
.fa-copyright:before {
  content: "\f1f9";
}
.fa-at:before {
  content: "\f1fa";
}
.fa-eyedropper:before {
  content: "\f1fb";
}
.fa-paint-brush:before {
  content: "\f1fc";
}
.fa-birthday-cake:before {
  content: "\f1fd";
}
.fa-area-chart:before {
  content: "\f1fe";
}
.fa-pie-chart:before {
  content: "\f200";
}
.fa-line-chart:before {
  content: "\f201";
}
.fa-lastfm:before {
  content: "\f202";
}
.fa-lastfm-square:before {
  content: "\f203";
}
.fa-toggle-off:before {
  content: "\f204";
}
.fa-toggle-on:before {
  content: "\f205";
}
.fa-bicycle:before {
  content: "\f206";
}
.fa-bus:before {
  content: "\f207";
}
.fa-ioxhost:before {
  content: "\f208";
}
.fa-angellist:before {
  content: "\f209";
}
.fa-cc:before {
  content: "\f20a";
}
.fa-shekel:before,
.fa-sheqel:before,
.fa-ils:before {
  content: "\f20b";
}
.fa-meanpath:before {
  content: "\f20c";
}
/*!
*
* IPython base
*
*/
.modal.fade .modal-dialog {
  -webkit-transform: translate(0, 0);
  -ms-transform: translate(0, 0);
  -o-transform: translate(0, 0);
  transform: translate(0, 0);
}
code {
  color: #000;
}
pre {
  font-size: inherit;
  line-height: inherit;
}
label {
  font-weight: normal;
}
/* Make the page background atleast 100% the height of the view port */
/* Make the page itself atleast 70% the height of the view port */
.border-box-sizing {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.corner-all {
  border-radius: 2px;
}
.no-padding {
  padding: 0px;
}
/* Flexible box model classes */
/* Taken from Alex Russell http://infrequently.org/2009/08/css-3-progress/ */
/* This file is a compatability layer.  It allows the usage of flexible box 
model layouts accross multiple browsers, including older browsers.  The newest,
universal implementation of the flexible box model is used when available (see
`Modern browsers` comments below).  Browsers that are known to implement this 
new spec completely include:

    Firefox 28.0+
    Chrome 29.0+
    Internet Explorer 11+ 
    Opera 17.0+

Browsers not listed, including Safari, are supported via the styling under the
`Old browsers` comments below.
*/
.hbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
.hbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.vbox {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
.vbox > * {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
}
.hbox.reverse,
.vbox.reverse,
.reverse {
  /* Old browsers */
  -webkit-box-direction: reverse;
  -moz-box-direction: reverse;
  box-direction: reverse;
  /* Modern browsers */
  flex-direction: row-reverse;
}
.hbox.box-flex0,
.vbox.box-flex0,
.box-flex0 {
  /* Old browsers */
  -webkit-box-flex: 0;
  -moz-box-flex: 0;
  box-flex: 0;
  /* Modern browsers */
  flex: none;
  width: auto;
}
.hbox.box-flex1,
.vbox.box-flex1,
.box-flex1 {
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex,
.vbox.box-flex,
.box-flex {
  /* Old browsers */
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
.hbox.box-flex2,
.vbox.box-flex2,
.box-flex2 {
  /* Old browsers */
  -webkit-box-flex: 2;
  -moz-box-flex: 2;
  box-flex: 2;
  /* Modern browsers */
  flex: 2;
}
.box-group1 {
  /*  Deprecated */
  -webkit-box-flex-group: 1;
  -moz-box-flex-group: 1;
  box-flex-group: 1;
}
.box-group2 {
  /* Deprecated */
  -webkit-box-flex-group: 2;
  -moz-box-flex-group: 2;
  box-flex-group: 2;
}
.hbox.start,
.vbox.start,
.start {
  /* Old browsers */
  -webkit-box-pack: start;
  -moz-box-pack: start;
  box-pack: start;
  /* Modern browsers */
  justify-content: flex-start;
}
.hbox.end,
.vbox.end,
.end {
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
}
.hbox.center,
.vbox.center,
.center {
  /* Old browsers */
  -webkit-box-pack: center;
  -moz-box-pack: center;
  box-pack: center;
  /* Modern browsers */
  justify-content: center;
}
.hbox.baseline,
.vbox.baseline,
.baseline {
  /* Old browsers */
  -webkit-box-pack: baseline;
  -moz-box-pack: baseline;
  box-pack: baseline;
  /* Modern browsers */
  justify-content: baseline;
}
.hbox.stretch,
.vbox.stretch,
.stretch {
  /* Old browsers */
  -webkit-box-pack: stretch;
  -moz-box-pack: stretch;
  box-pack: stretch;
  /* Modern browsers */
  justify-content: stretch;
}
.hbox.align-start,
.vbox.align-start,
.align-start {
  /* Old browsers */
  -webkit-box-align: start;
  -moz-box-align: start;
  box-align: start;
  /* Modern browsers */
  align-items: flex-start;
}
.hbox.align-end,
.vbox.align-end,
.align-end {
  /* Old browsers */
  -webkit-box-align: end;
  -moz-box-align: end;
  box-align: end;
  /* Modern browsers */
  align-items: flex-end;
}
.hbox.align-center,
.vbox.align-center,
.align-center {
  /* Old browsers */
  -webkit-box-align: center;
  -moz-box-align: center;
  box-align: center;
  /* Modern browsers */
  align-items: center;
}
.hbox.align-baseline,
.vbox.align-baseline,
.align-baseline {
  /* Old browsers */
  -webkit-box-align: baseline;
  -moz-box-align: baseline;
  box-align: baseline;
  /* Modern browsers */
  align-items: baseline;
}
.hbox.align-stretch,
.vbox.align-stretch,
.align-stretch {
  /* Old browsers */
  -webkit-box-align: stretch;
  -moz-box-align: stretch;
  box-align: stretch;
  /* Modern browsers */
  align-items: stretch;
}
div.error {
  margin: 2em;
  text-align: center;
}
div.error > h1 {
  font-size: 500%;
  line-height: normal;
}
div.error > p {
  font-size: 200%;
  line-height: normal;
}
div.traceback-wrapper {
  text-align: left;
  max-width: 800px;
  margin: auto;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
body {
  background-color: #fff;
  /* This makes sure that the body covers the entire window and needs to
       be in a different element than the display: box in wrapper below */
  position: absolute;
  left: 0px;
  right: 0px;
  top: 0px;
  bottom: 0px;
  overflow: visible;
}
body > #header {
  /* Initially hidden to prevent FLOUC */
  display: none;
  background-color: #fff;
  /* Display over codemirror */
  position: relative;
  z-index: 100;
}
body > #header #header-container {
  padding-bottom: 5px;
  padding-top: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
body > #header .header-bar {
  width: 100%;
  height: 1px;
  background: #e7e7e7;
  margin-bottom: -1px;
}
@media print {
  body > #header {
    display: none !important;
  }
}
#header-spacer {
  width: 100%;
  visibility: hidden;
}
@media print {
  #header-spacer {
    display: none;
  }
}
#ipython_notebook {
  padding-left: 0px;
  padding-top: 1px;
  padding-bottom: 1px;
}
@media (max-width: 991px) {
  #ipython_notebook {
    margin-left: 10px;
  }
}
[dir="rtl"] #ipython_notebook {
  float: right !important;
}
#noscript {
  width: auto;
  padding-top: 16px;
  padding-bottom: 16px;
  text-align: center;
  font-size: 22px;
  color: red;
  font-weight: bold;
}
#ipython_notebook img {
  height: 28px;
}
#site {
  width: 100%;
  display: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  overflow: auto;
}
@media print {
  #site {
    height: auto !important;
  }
}
/* Smaller buttons */
.ui-button .ui-button-text {
  padding: 0.2em 0.8em;
  font-size: 77%;
}
input.ui-button {
  padding: 0.3em 0.9em;
}
span#login_widget {
  float: right;
}
span#login_widget > .button,
#logout {
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button:focus,
#logout:focus,
span#login_widget > .button.focus,
#logout.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
span#login_widget > .button:hover,
#logout:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
span#login_widget > .button:active:hover,
#logout:active:hover,
span#login_widget > .button.active:hover,
#logout.active:hover,
.open > .dropdown-togglespan#login_widget > .button:hover,
.open > .dropdown-toggle#logout:hover,
span#login_widget > .button:active:focus,
#logout:active:focus,
span#login_widget > .button.active:focus,
#logout.active:focus,
.open > .dropdown-togglespan#login_widget > .button:focus,
.open > .dropdown-toggle#logout:focus,
span#login_widget > .button:active.focus,
#logout:active.focus,
span#login_widget > .button.active.focus,
#logout.active.focus,
.open > .dropdown-togglespan#login_widget > .button.focus,
.open > .dropdown-toggle#logout.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
span#login_widget > .button:active,
#logout:active,
span#login_widget > .button.active,
#logout.active,
.open > .dropdown-togglespan#login_widget > .button,
.open > .dropdown-toggle#logout {
  background-image: none;
}
span#login_widget > .button.disabled:hover,
#logout.disabled:hover,
span#login_widget > .button[disabled]:hover,
#logout[disabled]:hover,
fieldset[disabled] span#login_widget > .button:hover,
fieldset[disabled] #logout:hover,
span#login_widget > .button.disabled:focus,
#logout.disabled:focus,
span#login_widget > .button[disabled]:focus,
#logout[disabled]:focus,
fieldset[disabled] span#login_widget > .button:focus,
fieldset[disabled] #logout:focus,
span#login_widget > .button.disabled.focus,
#logout.disabled.focus,
span#login_widget > .button[disabled].focus,
#logout[disabled].focus,
fieldset[disabled] span#login_widget > .button.focus,
fieldset[disabled] #logout.focus {
  background-color: #fff;
  border-color: #ccc;
}
span#login_widget > .button .badge,
#logout .badge {
  color: #fff;
  background-color: #333;
}
.nav-header {
  text-transform: none;
}
#header > span {
  margin-top: 10px;
}
.modal_stretch .modal-dialog {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 80vh;
}
.modal_stretch .modal-dialog .modal-body {
  max-height: calc(100vh - 200px);
  overflow: auto;
  flex: 1;
}
@media (min-width: 768px) {
  .modal .modal-dialog {
    width: 700px;
  }
}
@media (min-width: 768px) {
  select.form-control {
    margin-left: 12px;
    margin-right: 12px;
  }
}
/*!
*
* IPython auth
*
*/
.center-nav {
  display: inline-block;
  margin-bottom: -4px;
}
/*!
*
* IPython tree view
*
*/
/* We need an invisible input field on top of the sentense*/
/* "Drag file onto the list ..." */
.alternate_upload {
  background-color: none;
  display: inline;
}
.alternate_upload.form {
  padding: 0;
  margin: 0;
}
.alternate_upload input.fileinput {
  text-align: center;
  vertical-align: middle;
  display: inline;
  opacity: 0;
  z-index: 2;
  width: 12ex;
  margin-right: -12ex;
}
.alternate_upload .btn-upload {
  height: 22px;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
[dir="rtl"] #tabs li {
  float: right;
}
ul#tabs {
  margin-bottom: 4px;
}
[dir="rtl"] ul#tabs {
  margin-right: 0px;
}
ul#tabs a {
  padding-top: 6px;
  padding-bottom: 4px;
}
ul.breadcrumb a:focus,
ul.breadcrumb a:hover {
  text-decoration: none;
}
ul.breadcrumb i.icon-home {
  font-size: 16px;
  margin-right: 4px;
}
ul.breadcrumb span {
  color: #5e5e5e;
}
.list_toolbar {
  padding: 4px 0 4px 0;
  vertical-align: middle;
}
.list_toolbar .tree-buttons {
  padding-top: 1px;
}
[dir="rtl"] .list_toolbar .tree-buttons {
  float: left !important;
}
[dir="rtl"] .list_toolbar .pull-right {
  padding-top: 1px;
  float: left !important;
}
[dir="rtl"] .list_toolbar .pull-left {
  float: right !important;
}
.dynamic-buttons {
  padding-top: 3px;
  display: inline-block;
}
.list_toolbar [class*="span"] {
  min-height: 24px;
}
.list_header {
  font-weight: bold;
  background-color: #EEE;
}
.list_placeholder {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
}
.list_container {
  margin-top: 4px;
  margin-bottom: 20px;
  border: 1px solid #ddd;
  border-radius: 2px;
}
.list_container > div {
  border-bottom: 1px solid #ddd;
}
.list_container > div:hover .list-item {
  background-color: red;
}
.list_container > div:last-child {
  border: none;
}
.list_item:hover .list_item {
  background-color: #ddd;
}
.list_item a {
  text-decoration: none;
}
.list_item:hover {
  background-color: #fafafa;
}
.list_header > div,
.list_item > div {
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
.list_header > div input,
.list_item > div input {
  margin-right: 7px;
  margin-left: 14px;
  vertical-align: baseline;
  line-height: 22px;
  position: relative;
  top: -1px;
}
.list_header > div .item_link,
.list_item > div .item_link {
  margin-left: -1px;
  vertical-align: baseline;
  line-height: 22px;
}
.new-file input[type=checkbox] {
  visibility: hidden;
}
.item_name {
  line-height: 22px;
  height: 24px;
}
.item_icon {
  font-size: 14px;
  color: #5e5e5e;
  margin-right: 7px;
  margin-left: 7px;
  line-height: 22px;
  vertical-align: baseline;
}
.item_buttons {
  line-height: 1em;
  margin-left: -5px;
}
.item_buttons .btn,
.item_buttons .btn-group,
.item_buttons .input-group {
  float: left;
}
.item_buttons > .btn,
.item_buttons > .btn-group,
.item_buttons > .input-group {
  margin-left: 5px;
}
.item_buttons .btn {
  min-width: 13ex;
}
.item_buttons .running-indicator {
  padding-top: 4px;
  color: #5cb85c;
}
.item_buttons .kernel-name {
  padding-top: 4px;
  color: #5bc0de;
  margin-right: 7px;
  float: left;
}
.toolbar_info {
  height: 24px;
  line-height: 24px;
}
.list_item input:not([type=checkbox]) {
  padding-top: 3px;
  padding-bottom: 3px;
  height: 22px;
  line-height: 14px;
  margin: 0px;
}
.highlight_text {
  color: blue;
}
#project_name {
  display: inline-block;
  padding-left: 7px;
  margin-left: -2px;
}
#project_name > .breadcrumb {
  padding: 0px;
  margin-bottom: 0px;
  background-color: transparent;
  font-weight: bold;
}
#tree-selector {
  padding-right: 0px;
}
[dir="rtl"] #tree-selector a {
  float: right;
}
#button-select-all {
  min-width: 50px;
}
#select-all {
  margin-left: 7px;
  margin-right: 2px;
}
.menu_icon {
  margin-right: 2px;
}
.tab-content .row {
  margin-left: 0px;
  margin-right: 0px;
}
.folder_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f114";
}
.folder_icon:before.pull-left {
  margin-right: .3em;
}
.folder_icon:before.pull-right {
  margin-left: .3em;
}
.notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
}
.notebook_icon:before.pull-left {
  margin-right: .3em;
}
.notebook_icon:before.pull-right {
  margin-left: .3em;
}
.running_notebook_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f02d";
  position: relative;
  top: -1px;
  color: #5cb85c;
}
.running_notebook_icon:before.pull-left {
  margin-right: .3em;
}
.running_notebook_icon:before.pull-right {
  margin-left: .3em;
}
.file_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f016";
  position: relative;
  top: -2px;
}
.file_icon:before.pull-left {
  margin-right: .3em;
}
.file_icon:before.pull-right {
  margin-left: .3em;
}
#notebook_toolbar .pull-right {
  padding-top: 0px;
  margin-right: -1px;
}
ul#new-menu {
  left: auto;
  right: 0;
}
[dir="rtl"] #new-menu {
  text-align: right;
}
.kernel-menu-icon {
  padding-right: 12px;
  width: 24px;
  content: "\f096";
}
.kernel-menu-icon:before {
  content: "\f096";
}
.kernel-menu-icon-current:before {
  content: "\f00c";
}
#tab_content {
  padding-top: 20px;
}
#running .panel-group .panel {
  margin-top: 3px;
  margin-bottom: 1em;
}
#running .panel-group .panel .panel-heading {
  background-color: #EEE;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 7px;
  padding-right: 7px;
  line-height: 22px;
}
#running .panel-group .panel .panel-heading a:focus,
#running .panel-group .panel .panel-heading a:hover {
  text-decoration: none;
}
#running .panel-group .panel .panel-body {
  padding: 0px;
}
#running .panel-group .panel .panel-body .list_container {
  margin-top: 0px;
  margin-bottom: 0px;
  border: 0px;
  border-radius: 0px;
}
#running .panel-group .panel .panel-body .list_container .list_item {
  border-bottom: 1px solid #ddd;
}
#running .panel-group .panel .panel-body .list_container .list_item:last-child {
  border-bottom: 0px;
}
[dir="rtl"] #running .col-sm-8 {
  float: right !important;
}
.delete-button {
  display: none;
}
.duplicate-button {
  display: none;
}
.rename-button {
  display: none;
}
.shutdown-button {
  display: none;
}
.dynamic-instructions {
  display: inline-block;
  padding-top: 4px;
}
/*!
*
* IPython text editor webapp
*
*/
.selected-keymap i.fa {
  padding: 0px 5px;
}
.selected-keymap i.fa:before {
  content: "\f00c";
}
#mode-menu {
  overflow: auto;
  max-height: 20em;
}
.edit_app #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.edit_app #menubar .navbar {
  /* Use a negative 1 bottom margin, so the border overlaps the border of the
    header */
  margin-bottom: -1px;
}
.dirty-indicator {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator.pull-left {
  margin-right: .3em;
}
.dirty-indicator.pull-right {
  margin-left: .3em;
}
.dirty-indicator-dirty {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-dirty.pull-left {
  margin-right: .3em;
}
.dirty-indicator-dirty.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  width: 20px;
}
.dirty-indicator-clean.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean.pull-right {
  margin-left: .3em;
}
.dirty-indicator-clean:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f00c";
}
.dirty-indicator-clean:before.pull-left {
  margin-right: .3em;
}
.dirty-indicator-clean:before.pull-right {
  margin-left: .3em;
}
#filename {
  font-size: 16pt;
  display: table;
  padding: 0px 5px;
}
#current-mode {
  padding-left: 5px;
  padding-right: 5px;
}
#texteditor-backdrop {
  padding-top: 20px;
  padding-bottom: 20px;
}
@media not print {
  #texteditor-backdrop {
    background-color: #EEE;
  }
}
@media print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container .CodeMirror-gutter,
  #texteditor-backdrop #texteditor-container .CodeMirror-gutters {
    background-color: #fff;
  }
}
@media not print {
  #texteditor-backdrop #texteditor-container {
    padding: 0px;
    background-color: #fff;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area .rendered_html table {
  margin-left: 0;
  margin-right: 0;
}
div.output_area .rendered_html img {
  margin-left: 0;
  margin-right: 0;
}
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}
.rendered_html em {
  font-style: italic;
}
.rendered_html strong {
  font-weight: bold;
}
.rendered_html u {
  text-decoration: underline;
}
.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}
.rendered_html h1 {
  font-size: 185.7%;
  margin: 1.08em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h2 {
  font-size: 157.1%;
  margin: 1.27em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h3 {
  font-size: 128.6%;
  margin: 1.55em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h4 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
}
.rendered_html h5 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h6 {
  font-size: 100%;
  margin: 2em 0 0 0;
  font-weight: bold;
  line-height: 1.0;
  font-style: italic;
}
.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}
.rendered_html ul {
  list-style: disc;
  margin: 0em 2em;
  padding-left: 0px;
}
.rendered_html ul ul {
  list-style: square;
  margin: 0em 2em;
}
.rendered_html ul ul ul {
  list-style: circle;
  margin: 0em 2em;
}
.rendered_html ol {
  list-style: decimal;
  margin: 0em 2em;
  padding-left: 0px;
}
.rendered_html ol ol {
  list-style: upper-alpha;
  margin: 0em 2em;
}
.rendered_html ol ol ol {
  list-style: lower-alpha;
  margin: 0em 2em;
}
.rendered_html ol ol ol ol {
  list-style: lower-roman;
  margin: 0em 2em;
}
.rendered_html ol ol ol ol ol {
  list-style: decimal;
  margin: 0em 2em;
}
.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}
.rendered_html hr {
  color: black;
  background-color: black;
}
.rendered_html pre {
  margin: 1em 2em;
}
.rendered_html pre,
.rendered_html code {
  border: 0;
  background-color: #fff;
  color: #000;
  font-size: 100%;
  padding: 0px;
}
.rendered_html blockquote {
  margin: 1em 2em;
}
.rendered_html table {
  margin-left: auto;
  margin-right: auto;
  border: 1px solid black;
  border-collapse: collapse;
}
.rendered_html tr,
.rendered_html th,
.rendered_html td {
  border: 1px solid black;
  border-collapse: collapse;
  margin: 1em 2em;
}
.rendered_html td,
.rendered_html th {
  text-align: left;
  vertical-align: middle;
  padding: 4px;
}
.rendered_html th {
  font-weight: bold;
}
.rendered_html * + table {
  margin-top: 1em;
}
.rendered_html p {
  text-align: left;
}
.rendered_html * + p {
  margin-top: 1em;
}
.rendered_html img {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,
.rendered_html svg {
  max-width: 100%;
  height: auto;
}
.rendered_html img.unconfined,
.rendered_html svg.unconfined {
  max-width: none;
}
div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered .rendered_html {
  overflow-x: auto;
  overflow-y: hidden;
}
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
/*!
*
* IPython notebook webapp
*
*/
@media (max-width: 767px) {
  .notebook_app {
    padding-left: 0px;
    padding-right: 0px;
  }
}
#ipython-main-app {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook_panel {
  margin: 0px;
  padding: 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  height: 100%;
}
div#notebook {
  font-size: 14px;
  line-height: 20px;
  overflow-y: hidden;
  overflow-x: auto;
  width: 100%;
  /* This spaces the page away from the edge of the notebook area */
  padding-top: 20px;
  margin: 0px;
  outline: none;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  min-height: 100%;
}
@media not print {
  #notebook-container {
    padding: 15px;
    background-color: #fff;
    min-height: 0;
    -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
    box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  }
}
@media print {
  #notebook-container {
    width: 100%;
  }
}
div.ui-widget-content {
  border: 1px solid #ababab;
  outline: none;
}
pre.dialog {
  background-color: #f7f7f7;
  border: 1px solid #ddd;
  border-radius: 2px;
  padding: 0.4em;
  padding-left: 2em;
}
p.dialog {
  padding: 0.2em;
}
/* Word-wrap output correctly.  This is the CSS3 spelling, though Firefox seems
   to not honor it correctly.  Webkit browsers (Chrome, rekonq, Safari) do.
 */
pre,
code,
kbd,
samp {
  white-space: pre-wrap;
}
#fonttest {
  font-family: monospace;
}
p {
  margin-bottom: 0;
}
.end_space {
  min-height: 100px;
  transition: height .2s ease;
}
.notebook_app > #header {
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
@media not print {
  .notebook_app {
    background-color: #EEE;
  }
}
kbd {
  border-style: solid;
  border-width: 1px;
  box-shadow: none;
  margin: 2px;
  padding-left: 2px;
  padding-right: 2px;
  padding-top: 1px;
  padding-bottom: 1px;
}
/* CSS for the cell toolbar */
.celltoolbar {
  border: thin solid #CFCFCF;
  border-bottom: none;
  background: #EEE;
  border-radius: 2px 2px 0px 0px;
  width: 100%;
  height: 29px;
  padding-right: 4px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-pack: end;
  -moz-box-pack: end;
  box-pack: end;
  /* Modern browsers */
  justify-content: flex-end;
  display: -webkit-flex;
}
@media print {
  .celltoolbar {
    display: none;
  }
}
.ctb_hideshow {
  display: none;
  vertical-align: bottom;
}
/* ctb_show is added to the ctb_hideshow div to show the cell toolbar.
   Cell toolbars are only shown when the ctb_global_show class is also set.
*/
.ctb_global_show .ctb_show.ctb_hideshow {
  display: block;
}
.ctb_global_show .ctb_show + .input_area,
.ctb_global_show .ctb_show + div.text_cell_input,
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border-top-right-radius: 0px;
  border-top-left-radius: 0px;
}
.ctb_global_show .ctb_show ~ div.text_cell_render {
  border: 1px solid #cfcfcf;
}
.celltoolbar {
  font-size: 87%;
  padding-top: 3px;
}
.celltoolbar select {
  display: block;
  width: 100%;
  height: 32px;
  padding: 6px 12px;
  font-size: 13px;
  line-height: 1.42857143;
  color: #555555;
  background-color: #fff;
  background-image: none;
  border: 1px solid #ccc;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075);
  -webkit-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  -o-transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;
  height: 30px;
  padding: 5px 10px;
  font-size: 12px;
  line-height: 1.5;
  border-radius: 1px;
  width: inherit;
  font-size: inherit;
  height: 22px;
  padding: 0px;
  display: inline-block;
}
.celltoolbar select:focus {
  border-color: #66afe9;
  outline: 0;
  -webkit-box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
  box-shadow: inset 0 1px 1px rgba(0,0,0,.075), 0 0 8px rgba(102, 175, 233, 0.6);
}
.celltoolbar select::-moz-placeholder {
  color: #999;
  opacity: 1;
}
.celltoolbar select:-ms-input-placeholder {
  color: #999;
}
.celltoolbar select::-webkit-input-placeholder {
  color: #999;
}
.celltoolbar select::-ms-expand {
  border: 0;
  background-color: transparent;
}
.celltoolbar select[disabled],
.celltoolbar select[readonly],
fieldset[disabled] .celltoolbar select {
  background-color: #eeeeee;
  opacity: 1;
}
.celltoolbar select[disabled],
fieldset[disabled] .celltoolbar select {
  cursor: not-allowed;
}
textarea.celltoolbar select {
  height: auto;
}
select.celltoolbar select {
  height: 30px;
  line-height: 30px;
}
textarea.celltoolbar select,
select[multiple].celltoolbar select {
  height: auto;
}
.celltoolbar label {
  margin-left: 5px;
  margin-right: 5px;
}
.completions {
  position: absolute;
  z-index: 110;
  overflow: hidden;
  border: 1px solid #ababab;
  border-radius: 2px;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  line-height: 1;
}
.completions select {
  background: white;
  outline: none;
  border: none;
  padding: 0px;
  margin: 0px;
  overflow: auto;
  font-family: monospace;
  font-size: 110%;
  color: #000;
  width: auto;
}
.completions select option.context {
  color: #286090;
}
#kernel_logo_widget {
  float: right !important;
  float: right;
}
#kernel_logo_widget .current_kernel_logo {
  display: none;
  margin-top: -1px;
  margin-bottom: -1px;
  width: 32px;
  height: 32px;
}
#menubar {
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  margin-top: 1px;
}
#menubar .navbar {
  border-top: 1px;
  border-radius: 0px 0px 2px 2px;
  margin-bottom: 0px;
}
#menubar .navbar-toggle {
  float: left;
  padding-top: 7px;
  padding-bottom: 7px;
  border: none;
}
#menubar .navbar-collapse {
  clear: left;
}
.nav-wrapper {
  border-bottom: 1px solid #e7e7e7;
}
i.menu-icon {
  padding-top: 4px;
}
ul#help_menu li a {
  overflow: hidden;
  padding-right: 2.2em;
}
ul#help_menu li a i {
  margin-right: -1.2em;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu > .dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
}
.dropdown-submenu:hover > .dropdown-menu {
  display: block;
}
.dropdown-submenu > a:after {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  display: block;
  content: "\f0da";
  float: right;
  color: #333333;
  margin-top: 2px;
  margin-right: -10px;
}
.dropdown-submenu > a:after.pull-left {
  margin-right: .3em;
}
.dropdown-submenu > a:after.pull-right {
  margin-left: .3em;
}
.dropdown-submenu:hover > a:after {
  color: #262626;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left > .dropdown-menu {
  left: -100%;
  margin-left: 10px;
}
#notification_area {
  float: right !important;
  float: right;
  z-index: 10;
}
.indicator_area {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
#kernel_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  border-left: 1px solid;
}
#kernel_indicator .kernel_indicator_name {
  padding-left: 5px;
  padding-right: 5px;
}
#modal_indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
}
#readonly-indicator {
  float: right !important;
  float: right;
  color: #777;
  margin-left: 5px;
  margin-right: 5px;
  width: 11px;
  z-index: 10;
  text-align: center;
  width: auto;
  margin-top: 2px;
  margin-bottom: 0px;
  margin-left: 0px;
  margin-right: 0px;
  display: none;
}
.modal_indicator:before {
  width: 1.28571429em;
  text-align: center;
}
.edit_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f040";
}
.edit_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.edit_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.command_mode .modal_indicator:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: ' ';
}
.command_mode .modal_indicator:before.pull-left {
  margin-right: .3em;
}
.command_mode .modal_indicator:before.pull-right {
  margin-left: .3em;
}
.kernel_idle_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f10c";
}
.kernel_idle_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_idle_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_busy_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f111";
}
.kernel_busy_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_busy_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_dead_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f1e2";
}
.kernel_dead_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_dead_icon:before.pull-right {
  margin-left: .3em;
}
.kernel_disconnected_icon:before {
  display: inline-block;
  font: normal normal normal 14px/1 FontAwesome;
  font-size: inherit;
  text-rendering: auto;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  content: "\f127";
}
.kernel_disconnected_icon:before.pull-left {
  margin-right: .3em;
}
.kernel_disconnected_icon:before.pull-right {
  margin-left: .3em;
}
.notification_widget {
  color: #777;
  z-index: 10;
  background: rgba(240, 240, 240, 0.5);
  margin-right: 4px;
  color: #333;
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget:focus,
.notification_widget.focus {
  color: #333;
  background-color: #e6e6e6;
  border-color: #8c8c8c;
}
.notification_widget:hover {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  color: #333;
  background-color: #e6e6e6;
  border-color: #adadad;
}
.notification_widget:active:hover,
.notification_widget.active:hover,
.open > .dropdown-toggle.notification_widget:hover,
.notification_widget:active:focus,
.notification_widget.active:focus,
.open > .dropdown-toggle.notification_widget:focus,
.notification_widget:active.focus,
.notification_widget.active.focus,
.open > .dropdown-toggle.notification_widget.focus {
  color: #333;
  background-color: #d4d4d4;
  border-color: #8c8c8c;
}
.notification_widget:active,
.notification_widget.active,
.open > .dropdown-toggle.notification_widget {
  background-image: none;
}
.notification_widget.disabled:hover,
.notification_widget[disabled]:hover,
fieldset[disabled] .notification_widget:hover,
.notification_widget.disabled:focus,
.notification_widget[disabled]:focus,
fieldset[disabled] .notification_widget:focus,
.notification_widget.disabled.focus,
.notification_widget[disabled].focus,
fieldset[disabled] .notification_widget.focus {
  background-color: #fff;
  border-color: #ccc;
}
.notification_widget .badge {
  color: #fff;
  background-color: #333;
}
.notification_widget.warning {
  color: #fff;
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning:focus,
.notification_widget.warning.focus {
  color: #fff;
  background-color: #ec971f;
  border-color: #985f0d;
}
.notification_widget.warning:hover {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  color: #fff;
  background-color: #ec971f;
  border-color: #d58512;
}
.notification_widget.warning:active:hover,
.notification_widget.warning.active:hover,
.open > .dropdown-toggle.notification_widget.warning:hover,
.notification_widget.warning:active:focus,
.notification_widget.warning.active:focus,
.open > .dropdown-toggle.notification_widget.warning:focus,
.notification_widget.warning:active.focus,
.notification_widget.warning.active.focus,
.open > .dropdown-toggle.notification_widget.warning.focus {
  color: #fff;
  background-color: #d58512;
  border-color: #985f0d;
}
.notification_widget.warning:active,
.notification_widget.warning.active,
.open > .dropdown-toggle.notification_widget.warning {
  background-image: none;
}
.notification_widget.warning.disabled:hover,
.notification_widget.warning[disabled]:hover,
fieldset[disabled] .notification_widget.warning:hover,
.notification_widget.warning.disabled:focus,
.notification_widget.warning[disabled]:focus,
fieldset[disabled] .notification_widget.warning:focus,
.notification_widget.warning.disabled.focus,
.notification_widget.warning[disabled].focus,
fieldset[disabled] .notification_widget.warning.focus {
  background-color: #f0ad4e;
  border-color: #eea236;
}
.notification_widget.warning .badge {
  color: #f0ad4e;
  background-color: #fff;
}
.notification_widget.success {
  color: #fff;
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success:focus,
.notification_widget.success.focus {
  color: #fff;
  background-color: #449d44;
  border-color: #255625;
}
.notification_widget.success:hover {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  color: #fff;
  background-color: #449d44;
  border-color: #398439;
}
.notification_widget.success:active:hover,
.notification_widget.success.active:hover,
.open > .dropdown-toggle.notification_widget.success:hover,
.notification_widget.success:active:focus,
.notification_widget.success.active:focus,
.open > .dropdown-toggle.notification_widget.success:focus,
.notification_widget.success:active.focus,
.notification_widget.success.active.focus,
.open > .dropdown-toggle.notification_widget.success.focus {
  color: #fff;
  background-color: #398439;
  border-color: #255625;
}
.notification_widget.success:active,
.notification_widget.success.active,
.open > .dropdown-toggle.notification_widget.success {
  background-image: none;
}
.notification_widget.success.disabled:hover,
.notification_widget.success[disabled]:hover,
fieldset[disabled] .notification_widget.success:hover,
.notification_widget.success.disabled:focus,
.notification_widget.success[disabled]:focus,
fieldset[disabled] .notification_widget.success:focus,
.notification_widget.success.disabled.focus,
.notification_widget.success[disabled].focus,
fieldset[disabled] .notification_widget.success.focus {
  background-color: #5cb85c;
  border-color: #4cae4c;
}
.notification_widget.success .badge {
  color: #5cb85c;
  background-color: #fff;
}
.notification_widget.info {
  color: #fff;
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info:focus,
.notification_widget.info.focus {
  color: #fff;
  background-color: #31b0d5;
  border-color: #1b6d85;
}
.notification_widget.info:hover {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  color: #fff;
  background-color: #31b0d5;
  border-color: #269abc;
}
.notification_widget.info:active:hover,
.notification_widget.info.active:hover,
.open > .dropdown-toggle.notification_widget.info:hover,
.notification_widget.info:active:focus,
.notification_widget.info.active:focus,
.open > .dropdown-toggle.notification_widget.info:focus,
.notification_widget.info:active.focus,
.notification_widget.info.active.focus,
.open > .dropdown-toggle.notification_widget.info.focus {
  color: #fff;
  background-color: #269abc;
  border-color: #1b6d85;
}
.notification_widget.info:active,
.notification_widget.info.active,
.open > .dropdown-toggle.notification_widget.info {
  background-image: none;
}
.notification_widget.info.disabled:hover,
.notification_widget.info[disabled]:hover,
fieldset[disabled] .notification_widget.info:hover,
.notification_widget.info.disabled:focus,
.notification_widget.info[disabled]:focus,
fieldset[disabled] .notification_widget.info:focus,
.notification_widget.info.disabled.focus,
.notification_widget.info[disabled].focus,
fieldset[disabled] .notification_widget.info.focus {
  background-color: #5bc0de;
  border-color: #46b8da;
}
.notification_widget.info .badge {
  color: #5bc0de;
  background-color: #fff;
}
.notification_widget.danger {
  color: #fff;
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger:focus,
.notification_widget.danger.focus {
  color: #fff;
  background-color: #c9302c;
  border-color: #761c19;
}
.notification_widget.danger:hover {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  color: #fff;
  background-color: #c9302c;
  border-color: #ac2925;
}
.notification_widget.danger:active:hover,
.notification_widget.danger.active:hover,
.open > .dropdown-toggle.notification_widget.danger:hover,
.notification_widget.danger:active:focus,
.notification_widget.danger.active:focus,
.open > .dropdown-toggle.notification_widget.danger:focus,
.notification_widget.danger:active.focus,
.notification_widget.danger.active.focus,
.open > .dropdown-toggle.notification_widget.danger.focus {
  color: #fff;
  background-color: #ac2925;
  border-color: #761c19;
}
.notification_widget.danger:active,
.notification_widget.danger.active,
.open > .dropdown-toggle.notification_widget.danger {
  background-image: none;
}
.notification_widget.danger.disabled:hover,
.notification_widget.danger[disabled]:hover,
fieldset[disabled] .notification_widget.danger:hover,
.notification_widget.danger.disabled:focus,
.notification_widget.danger[disabled]:focus,
fieldset[disabled] .notification_widget.danger:focus,
.notification_widget.danger.disabled.focus,
.notification_widget.danger[disabled].focus,
fieldset[disabled] .notification_widget.danger.focus {
  background-color: #d9534f;
  border-color: #d43f3a;
}
.notification_widget.danger .badge {
  color: #d9534f;
  background-color: #fff;
}
div#pager {
  background-color: #fff;
  font-size: 14px;
  line-height: 20px;
  overflow: hidden;
  display: none;
  position: fixed;
  bottom: 0px;
  width: 100%;
  max-height: 50%;
  padding-top: 8px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  /* Display over codemirror */
  z-index: 100;
  /* Hack which prevents jquery ui resizable from changing top. */
  top: auto !important;
}
div#pager pre {
  line-height: 1.21429em;
  color: #000;
  background-color: #f7f7f7;
  padding: 0.4em;
}
div#pager #pager-button-area {
  position: absolute;
  top: 8px;
  right: 20px;
}
div#pager #pager-contents {
  position: relative;
  overflow: auto;
  width: 100%;
  height: 100%;
}
div#pager #pager-contents #pager-container {
  position: relative;
  padding: 15px 0px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
div#pager .ui-resizable-handle {
  top: 0px;
  height: 8px;
  background: #f7f7f7;
  border-top: 1px solid #cfcfcf;
  border-bottom: 1px solid #cfcfcf;
  /* This injects handle bars (a short, wide = symbol) for 
        the resize handle. */
}
div#pager .ui-resizable-handle::after {
  content: '';
  top: 2px;
  left: 50%;
  height: 3px;
  width: 30px;
  margin-left: -15px;
  position: absolute;
  border-top: 1px solid #cfcfcf;
}
.quickhelp {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
  line-height: 1.8em;
}
.shortcut_key {
  display: inline-block;
  width: 21ex;
  text-align: right;
  font-family: monospace;
}
.shortcut_descr {
  display: inline-block;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
span.save_widget {
  margin-top: 6px;
}
span.save_widget span.filename {
  height: 1em;
  line-height: 1em;
  padding: 3px;
  margin-left: 16px;
  border: none;
  font-size: 146.5%;
  border-radius: 2px;
}
span.save_widget span.filename:hover {
  background-color: #e6e6e6;
}
span.checkpoint_status,
span.autosave_status {
  font-size: small;
}
@media (max-width: 767px) {
  span.save_widget {
    font-size: small;
  }
  span.checkpoint_status,
  span.autosave_status {
    display: none;
  }
}
@media (min-width: 768px) and (max-width: 991px) {
  span.checkpoint_status {
    display: none;
  }
  span.autosave_status {
    font-size: x-small;
  }
}
.toolbar {
  padding: 0px;
  margin-left: -5px;
  margin-top: 2px;
  margin-bottom: 5px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
.toolbar select,
.toolbar label {
  width: auto;
  vertical-align: middle;
  margin-right: 2px;
  margin-bottom: 0px;
  display: inline;
  font-size: 92%;
  margin-left: 0.3em;
  margin-right: 0.3em;
  padding: 0px;
  padding-top: 3px;
}
.toolbar .btn {
  padding: 2px 8px;
}
.toolbar .btn-group {
  margin-top: 0px;
  margin-left: 5px;
}
#maintoolbar {
  margin-bottom: -3px;
  margin-top: -8px;
  border: 0px;
  min-height: 27px;
  margin-left: 0px;
  padding-top: 11px;
  padding-bottom: 3px;
}
#maintoolbar .navbar-text {
  float: none;
  vertical-align: middle;
  text-align: right;
  margin-left: 5px;
  margin-right: 0px;
  margin-top: 0px;
}
.select-xs {
  height: 24px;
}
.pulse,
.dropdown-menu > li > a.pulse,
li.pulse > a.dropdown-toggle,
li.pulse.open > a.dropdown-toggle {
  background-color: #F37626;
  color: white;
}
/**
 * Primary styles
 *
 * Author: Jupyter Development Team
 */
/** WARNING IF YOU ARE EDITTING THIS FILE, if this is a .css file, It has a lot
 * of chance of beeing generated from the ../less/[samename].less file, you can
 * try to get back the less file by reverting somme commit in history
 **/
/*
 * We'll try to get something pretty, so we
 * have some strange css to have the scroll bar on
 * the left with fix button on the top right of the tooltip
 */
@-moz-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-webkit-keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
@-moz-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
/*properties of tooltip after "expand"*/
.bigtooltip {
  overflow: auto;
  height: 200px;
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
}
/*properties of tooltip before "expand"*/
.smalltooltip {
  -webkit-transition-property: height;
  -webkit-transition-duration: 500ms;
  -moz-transition-property: height;
  -moz-transition-duration: 500ms;
  transition-property: height;
  transition-duration: 500ms;
  text-overflow: ellipsis;
  overflow: hidden;
  height: 80px;
}
.tooltipbuttons {
  position: absolute;
  padding-right: 15px;
  top: 0px;
  right: 0px;
}
.tooltiptext {
  /*avoid the button to overlap on some docstring*/
  padding-right: 30px;
}
.ipython_tooltip {
  max-width: 700px;
  /*fade-in animation when inserted*/
  -webkit-animation: fadeOut 400ms;
  -moz-animation: fadeOut 400ms;
  animation: fadeOut 400ms;
  -webkit-animation: fadeIn 400ms;
  -moz-animation: fadeIn 400ms;
  animation: fadeIn 400ms;
  vertical-align: middle;
  background-color: #f7f7f7;
  overflow: visible;
  border: #ababab 1px solid;
  outline: none;
  padding: 3px;
  margin: 0px;
  padding-left: 7px;
  font-family: monospace;
  min-height: 50px;
  -moz-box-shadow: 0px 6px 10px -1px #adadad;
  -webkit-box-shadow: 0px 6px 10px -1px #adadad;
  box-shadow: 0px 6px 10px -1px #adadad;
  border-radius: 2px;
  position: absolute;
  z-index: 1000;
}
.ipython_tooltip a {
  float: right;
}
.ipython_tooltip .tooltiptext pre {
  border: 0;
  border-radius: 0;
  font-size: 100%;
  background-color: #f7f7f7;
}
.pretooltiparrow {
  left: 0px;
  margin: 0px;
  top: -16px;
  width: 40px;
  height: 16px;
  overflow: hidden;
  position: absolute;
}
.pretooltiparrow:before {
  background-color: #f7f7f7;
  border: 1px #ababab solid;
  z-index: 11;
  content: "";
  position: absolute;
  left: 15px;
  top: 10px;
  width: 25px;
  height: 25px;
  -webkit-transform: rotate(45deg);
  -moz-transform: rotate(45deg);
  -ms-transform: rotate(45deg);
  -o-transform: rotate(45deg);
}
ul.typeahead-list i {
  margin-left: -10px;
  width: 18px;
}
ul.typeahead-list {
  max-height: 80vh;
  overflow: auto;
}
ul.typeahead-list > li > a {
  /** Firefox bug **/
  /* see https://github.com/jupyter/notebook/issues/559 */
  white-space: normal;
}
.cmd-palette .modal-body {
  padding: 7px;
}
.cmd-palette form {
  background: white;
}
.cmd-palette input {
  outline: none;
}
.no-shortcut {
  display: none;
}
.command-shortcut:before {
  content: "(command)";
  padding-right: 3px;
  color: #777777;
}
.edit-shortcut:before {
  content: "(edit)";
  padding-right: 3px;
  color: #777777;
}
#find-and-replace #replace-preview .match,
#find-and-replace #replace-preview .insert {
  background-color: #BBDEFB;
  border-color: #90CAF9;
  border-style: solid;
  border-width: 1px;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .match {
  background-color: #FFCDD2;
  border-color: #EF9A9A;
  border-radius: 0px;
}
#find-and-replace #replace-preview .replace .insert {
  background-color: #C8E6C9;
  border-color: #A5D6A7;
  border-radius: 0px;
}
#find-and-replace #replace-preview {
  max-height: 60vh;
  overflow: auto;
}
#find-and-replace #replace-preview pre {
  padding: 5px 10px;
}
.terminal-app {
  background: #EEE;
}
.terminal-app #header {
  background: #fff;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.2);
}
.terminal-app .terminal {
  width: 100%;
  float: left;
  font-family: monospace;
  color: white;
  background: black;
  padding: 0.4em;
  border-radius: 2px;
  -webkit-box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
  box-shadow: 0px 0px 12px 1px rgba(87, 87, 87, 0.4);
}
.terminal-app .terminal,
.terminal-app .terminal dummy-screen {
  line-height: 1em;
  font-size: 14px;
}
.terminal-app .terminal .xterm-rows {
  padding: 10px;
}
.terminal-app .terminal-cursor {
  color: black;
  background: white;
}
.terminal-app #terminado-container {
  margin-top: 20px;
}
/*# sourceMappingURL=style.min.css.map */
    </style>
<style type="text/css">
    .highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */
    </style>
<style type="text/css">

/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }

    </style>

<style type="text/css">
/* Overrides of notebook CSS for static HTML export */
body {
  overflow: visible;
  padding: 8px;
}

div#notebook {
  overflow: visible;
  border-top: none;
}@media print {
  div.cell {
    display: block;
    page-break-inside: avoid;
  }
  div.output_wrapper {
    display: block;
    page-break-inside: avoid;
  }
  div.output {
    display: block;
    page-break-inside: avoid;
  }
}
</style>

<!-- Custom stylesheet, it must be in the same directory as the html file -->
<link rel="stylesheet" href="custom.css">

<!-- Load mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
<!-- MathJax configuration -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    // Center justify equations in code and markdown cells. Elsewhere
    // we use CSS to left justify single line equations in code cells.
    displayAlign: 'center',
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}},
        linebreaks: { automatic: true }
    }
});
</script>
<!-- End of mathjax configuration --><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.10/require.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<!--[if IE lte 8]><script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

<style type="text/css">
.ipyfigure { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipyfigure>div { flex:1; }
.ipytable { display: -ms-flex; display: -webkit-flex; display: flex;}
.ipytable>div { flex:1; }

</style>

<link href='https://fonts.googleapis.com/css?family=Patua+One|Source+Code+Pro|Open+Sans' rel='stylesheet' type='text/css'>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

<meta property="og:url" content="https://www.fuzzingbook.org/html/book.html/" />
<meta property="og:type" content="article" />
<meta property="og:title" content="About this Book - Generating Software Tests" />
<meta property="og:description" content="Welcome to &quot;Generating Software Tests&quot;! Software has bugs, and catching bugs can involve lots of effort.  This book addresses this problem by automating software testing, specifically by generating tests automatically.  Recent years have seen the development of novel techniques that lead to dramatic improvements in test generation and software testing.  They now are mature enough to be assembled in a book – even with executable code. " />
<meta property="og:image" content="https://www.fuzzingbook.org/html/PICS/wordcloud.png" />

<link rel="shortcut icon" href="favicon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon" sizes="152x152" href="favicon/apple-touch-icon.png">

<meta name="msapplication-TileColor" content="#B03A2E">
<meta name="msapplication-config" content="favicon/browserconfig.xml">
<meta name="theme-color" content="#ffffff">
<link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
<link rel="manifest" href="favicon/site.webmanifest">

<meta name="viewport" content="width=device-width, initial-scale=1"></head>
 <body>

    <script>
    var close_menus = function() {
        /* doesn't work yet - AZ
        console.log("Closing menus")
        var cssmenu = document.getElementById("cssmenu")
        var all_items = cssmenu.getElementsByTagName("li");
        var i;
        for (i = 0; i < all_items.length; i++) {
            item = all_items[i];
            // console.log("<li>: ")
            // console.log(item.innerHTML);
            var j;
            var all_ul = item.getElementsByTagName("ul");
            for (j = 0; j < all_ul.length; j++) {
                console.log("<ul>: ")
                console.log(all_ul[j].innerHTML);
                all_ul[j].style.display = "none";
            }
            var all_ol = item.getElementsByTagName("ol");
            for (j = 0; j < all_ol.length; j++) {
                console.log("<ol>: ")
                console.log(all_ol[j].innerHTML);
                all_ol[j].style.display = "none";
            }
        }
        */
    };

    $( document ).ready( close_menus );

    // Let navbar fade away when scrolling down
    var prevScrollpos = window.pageYOffset;
    window.onscroll = function() {
        var currentScrollPos = window.pageYOffset;
        if (currentScrollPos > 10 && currentScrollPos > prevScrollpos) {
            // Hide navbar
            var cssmenu = document.getElementById("cssmenu")
            cssmenu.style.opacity = 0;

            // When scrolling, also close all sub-menus
            close_menus();
        }
        else {
            // Make navbar visible
            document.getElementById("cssmenu").style.opacity = 1;
        }
        prevScrollpos = currentScrollPos;
    };
    </script>
    
<nav>
<div id="cssmenu">
  <ul>
     <li class="has-sub"><a href="#"><span title="Generating Software Tests"><i class="fa fa-fw fa-bars"></i> </span><span class="menu_1">Generating Software Tests</span></a>
        <ol>
           <li><a href="https://www.fuzzingbook.org"><i class="fa fa-fw fa-home"></i> About this book</a></li>
<li><a href="Intro_Testing.html">Introduction to Software Testing</a></li>
<li><a href="Fuzzer.html">Fuzzing: Breaking Things with Random Inputs</a></li>

           <li><a href="https://www.fuzzingbook.org#News" class="more_coming">More Chapters Coming!</a></li>
        </ol>
     </li>
     <li class="has-sub"><a href="#"><span title="About this Book"><i class="fa fa-fw fa-list-ul"></i></span> <span class="menu_2">About this Book</span></a>
        <ul>
           <li><a href="#About-this-Book">About this Book</a></li>
<li><a href="#Introduction-to-Software-Testing">Introduction to Software Testing</a></li>
<li><a href="#Fuzzing:-Breaking-Things-with-Random-Inputs">Fuzzing: Breaking Things with Random Inputs</a></li>
<li><a href="#Getting-Coverage">Getting Coverage</a></li>
<li><a href="#more_pairs">more_pairs</a></li>
<li><a href="#Mutation-Based-Fuzzing">Mutation-Based Fuzzing</a></li>
<li><a href="#Fuzzing-with-Grammars">Fuzzing with Grammars</a></li>
<li><a href="#Efficient-Grammar-Fuzzing">Efficient Grammar Fuzzing</a></li>
<li><a href="#Grammar-Coverage">Grammar Coverage</a></li>
<li><a href="#Error-Handling">Error Handling</a></li>
<li><a href="#Timer">Timer</a></li>
<li><a href="#Guide-for-Authors">Guide for Authors</a></li>
<li><a href="#_Title_">_Title_</a></li>
<li><a href="#Oh-no!--We-are-not-ready-yet!">Oh no!  We are not ready yet!</a></li>

        </ul>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Resources"><i class="fa fa-fw fa-cube"></i> </span><span class="menu_3">Resources</span></a>
     <ul>
     <li><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb" target="_blank" class="edit_as_notebook"><i class="fa fa-fw fa-edit"></i> Edit as Notebook</a></li>
     <li><a href="https://www.fuzzingbook.org/slides/book.slides.html" target="_blank"><i class="fa fa-fw fa-video-camera"></i> View Slides</a></li>
     <li><a href="https://www.fuzzingbook.org/code/book.py"><i class="fa fa-fw fa-download"></i> Download this Code (.py)</a></li>
     <li><a href="https://www.fuzzingbook.org/dist/fuzzingbook.zip"><i class="fa fa-fw fa-cube"></i> Download all Code (.zip)</a></li>
     <li><a href="https://github.com/uds-se/fuzzingbook/" target="_blank"><i class="fa fa-fw fa-github"></i> Project Page</a></li>
     </ul>
     </li>
     
     <li class="has-sub"><a href="#"><span title="Share"><i class="fa fa-fw fa-comments"></i> </span> <span class="menu_4">Share</span></a>
        <ul>
            <li><a href="https://twitter.com/intent/tweet?text=I%20just%20read%20%22About%20this%20Book%22%20(part%20of%20@FuzzingBook)%20at%20https%3a%2f%2fwww.fuzzingbook.org%2fhtml%2fbook.html" target=_blank><i class="fa fa-fw fa-twitter"></i> Share on Twitter</a>
            <li><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.fuzzingbook.org%2fhtml%2fbook.html" target=_blank><i class="fa fa-fw fa-facebook"></i> Share on Facebook</a>
            <li><a href="#citation" id="cite" onclick="revealCitation()"><i class="fa fa-fw fa-mortar-board"></i> Cite</a>
        </ul>
     </li>
     <li class="has-sub"><a href="#"><span title="Help"><i class="fa fa-fw fa-question-circle"></i></span> <span class="menu_5">Help</span></a>
        <ul>
          <li><a href="https://docs.python.org/3/tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Python Tutorial</a>
          <li><a href="https://www.dataquest.io/blog/jupyter-notebook-tutorial/" target=_blank><i class="fa fa-fw fa-question-circle"></i> Jupyter Notebook Tutorial</a>
          <li><a href="https://github.com/uds-se/fuzzingbook/issues/" target="_blank"><i class="fa fa-fw fa-commenting"></i> Report an Issue</a></li>
        </ul>
     </li>
  </ul>
</div>
</nav>

    <article>
   <div tabindex="-1" id="notebook" class="border-box-sizing">
     <div class="container" id="notebook-container"><section><h1>Generating Software Tests</h1><h3>Breaking Software for Fun and Profit</h3><b>by Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler</b></section>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="About-this-Book">About this Book<a class="anchor-link" href="#About-this-Book">&#182;</a></h1><p><strong>Welcome to "Generating Software Tests"!</strong> 
Software has bugs, and catching bugs can involve lots of effort.  This book addresses this problem by <em>automating</em> software testing, specifically by <em>generating tests automatically</em>.  Recent years have seen the development of novel techniques that lead to dramatic improvements in test generation and software testing.  They now are mature enough to be assembled in a book – even with executable code.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Textbook-for-Paper,-Screen,-and-Keyboard">A Textbook for Paper, Screen, and Keyboard<a class="anchor-link" href="#A-Textbook-for-Paper,-Screen,-and-Keyboard">&#182;</a></h2><p>You can use this book in three ways:</p>
<ul>
<li><p>You can <strong>read chapters in your browser</strong>.  Check out the list of chapters in the menu above, or start right away with the 
<a href="https://www.fuzzingbook.org/html/Intro_Testing.html">introduction to testing</a> or the
<a href="https://www.fuzzingbook.org/html/Fuzzer.html">introduction to fuzzing</a>.  All code is available for download.</p>
</li>
<li><p>You can <strong>interact with chapters as Jupyter Notebooks</strong> (beta).  This allows you edit and extend the code, experimenting <em>live in your browser.</em>  Just click on "Resources → Edit as Notebook" at the top of each chapter. <a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=notebooks/Fuzzer.ipynb" target=_blank>Try interacting with the introduction to fuzzing.</a></p>
</li>
<li><p>You can <strong>present chapters as slides</strong> (beta).  This allows for presenting the material in lectures.  Just click on "Resources → View slides" at the top of each chapter. <a href="https://www.fuzzingbook.org/slides/Fuzzer.slides.html" target=_blank>Try viewing slides on the introduction to fuzzing.</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Who-this-Book-is-for">Who this Book is for<a class="anchor-link" href="#Who-this-Book-is-for">&#182;</a></h2><p>This work is designed as a <em>textbook</em> for a course in software testing; as <em>supplementary material</em> in a software testing or software engineering course; and as a <em>resource for software developers</em>. We cover random fuzzing, mutation-based fuzzing, grammar-based test generation, symbolic testing, and much more, illustrating all techniques with code examples that you can try out yourself.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="News">News<a class="anchor-link" href="#News">&#182;</a></h2><p>This book is <em>work in progress,</em> with new chapters coming out every week.  To get notified when a new chapter comes out, <a href="https://twitter.com/FuzzingBook?ref_src=twsrc%5Etfw" data-show-count="false">follow us on Twitter</a>.</p>
<p><a class="twitter-timeline" data-width="500" data-chrome="noheader nofooter noborders transparent" data-link-color="#A93226" data-align="center" href="https://twitter.com/FuzzingBook?ref_src=twsrc%5Etfw">News from @FuzzingBook</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="About-the-Authors">About the Authors<a class="anchor-link" href="#About-the-Authors">&#182;</a></h2><p>This book is written by <em>Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler</em>.  All of us are long-standing experts in software testing and test generation; and we have written or contributed to some of the most important test generators and fuzzers on the planet.  As an example, if you are reading this in a Firefox, Chrome, or Edge Web browser, you can do so safely partly because of us, as <em>the very techniques listed in this book have found more than 2,600 bugs in their JavaScript interpreters so far.</em>  We are happy to share our expertise and making it accessible to the public.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Frequently-Asked-Questions">Frequently Asked Questions<a class="anchor-link" href="#Frequently-Asked-Questions">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Which-content-will-be-coming-up?">Which content will be coming up?<a class="anchor-link" href="#Which-content-will-be-coming-up?">&#182;</a></h3><p>The contents of this book will include topics such as:</p>
<ol>
<li>Introduction to Testing</li>
<li>Basic Fuzzing</li>
<li>Coverage</li>
<li>Mutation-Based Fuzzing</li>
<li>Grammar-Based Fuzzing</li>
<li>Fuzzing Function Calls</li>
<li>Fuzzing User Interfaces</li>
<li>Parsing and Mutating Inputs</li>
<li>Search-Based Testing</li>
<li>Symbolic Testing</li>
<li>Mining Grammars</li>
<li>Probabilistic Testing</li>
<li>Carving Unit Tests</li>
<li>Fuzzing and Invariants</li>
<li>Protection and Repair</li>
</ol>
<p>See the table of contents in the menu above for those chapters that are already done.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Why-does-it-take-so-long-to-start-an-interactive-notebook?">Why does it take so long to start an interactive notebook?<a class="anchor-link" href="#Why-does-it-take-so-long-to-start-an-interactive-notebook?">&#182;</a></h3><p>We use the <a href="https://mybinder.org">binder</a> service, which runs notebooks on their own servers.  Starting Jupyter through binder normally takes about 30 seconds. If, however, you are the first to invoke binder after a book update, binder recreates its environment, which can take a few minutes.  Note, though, that binder is officially in beta and we do not have control over binder.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="I-have-a-comment-or-a-suggestion.--What-do-I-do?">I have a comment or a suggestion.  What do I do?<a class="anchor-link" href="#I-have-a-comment-or-a-suggestion.--What-do-I-do?">&#182;</a></h3><p>Report an issue on the <a href="https://github.com/uds-se/fuzzingbook/issues">development page</a>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="I-have-reported-an-issue-two-weeks-ago.--When-will-it-be-addressed?">I have reported an issue two weeks ago.  When will it be addressed?<a class="anchor-link" href="#I-have-reported-an-issue-two-weeks-ago.--When-will-it-be-addressed?">&#182;</a></h3><p>We prioritize issues as follows:</p>
<ol>
<li>Bugs in code published on fuzzingbook.org</li>
<li>Bugs in text published on fuzzingbook.org</li>
<li>Writing missing chapters</li>
<li>Issues in yet unpublished code or text</li>
<li>Issues related to development or construction</li>
<li>Things marked as "beta"</li>
<li>Everything else</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="How-can-I-solve-problems-myself?">How can I solve problems myself?<a class="anchor-link" href="#How-can-I-solve-problems-myself?">&#182;</a></h3><p>We're glad you ask that.  The <a href="https://github.com/uds-se/fuzzingbook/">development page</a> has all sources and some supplementary material.  Pull requests that fix issues are very welcome.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="How-can-I-contribute?">How can I contribute?<a class="anchor-link" href="#How-can-I-contribute?">&#182;</a></h3><p>Again, we're glad you're here!  See our <a href="http://www.fuzzingbook.org/html/Guide_for_Authors.html">Guide for Authors</a> for instructions on coding and writing.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Do-you-provide-PDFs-of-your-material?">Do you provide PDFs of your material?<a class="anchor-link" href="#Do-you-provide-PDFs-of-your-material?">&#182;</a></h3><p>At this point, we do not provide support for PDF versions.  We are working on producing PDF and paper versions once the book is complete.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="How-do-I-cite-your-work?">How do I cite your work?<a class="anchor-link" href="#How-do-I-cite-your-work?">&#182;</a></h3><p>Thanks for referring to our work!  Once the book is complete, you will be able to cite it in the traditional way.  In the meantime, just click on the "cite" button at the bottom of the Web page for each chapter to get a citation entry.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Introduction-to-Software-Testing">Introduction to Software Testing<a class="anchor-link" href="#Introduction-to-Software-Testing">&#182;</a></h1><p>Before we get to the central parts of the book, let us introduce essential concepts of software testing.  Why is it necessary to test software at all?  How does one test software?  How can one tell whether a test has been successful?  How does one know if one has tested enough?  In this unit, let us recall the most important concepts, and at the same time get acquainted with Python and interactive notebooks.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Simple-Testing">Simple Testing<a class="anchor-link" href="#Simple-Testing">&#182;</a></h2><p>Let's start with a simple example.  Your co-worker has been asked to implement a square root function $$.  (Let's assume for a moment that the environment does  not already have one.)  After studying <a href="https://en.wikipedia.org/wiki/Newton%27s_method">Newton's method</a>, she comes up with the following Python code, claiming that, in fact, this <code>my_sqrt()</code> function computes square roots.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Computes the square root of x, using Newton&#39;s method&quot;&quot;&quot;</span>
    <span class="n">approx</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">guess</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">while</span> <span class="n">approx</span> <span class="o">!=</span> <span class="n">guess</span><span class="p">:</span>
        <span class="n">approx</span> <span class="o">=</span> <span class="n">guess</span>
        <span class="n">guess</span> <span class="o">=</span> <span class="p">(</span><span class="n">approx</span> <span class="o">+</span> <span class="n">x</span> <span class="o">/</span> <span class="n">approx</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
    <span class="k">return</span> <span class="n">approx</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Your job is now to find out whether this function actually does what it claims to do.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you're new to Python, you might first have to understand what the above code does.  We very much recommend the <a href="https://docs.python.org/3/tutorial/">Python tutorial</a> to get an idea on how Python works.  The most important things for you to understand the above code are these three:</p>
<ol>
<li>Python structures programs through <em>indentation</em>, so the function and <code>while</code> bodies are defined by being indented;</li>
<li>Python is <em>dynamically typed</em>, meaning that the type of variables like <code>x</code>, <code>approx</code>, or <code>guess</code> is determined at run-time.</li>
<li>Most of Python's syntactic features are inspired by other common languages, such as control structures (<code>while</code>, <code>if</code>), assignments (<code>=</code>), or comparisons (<code>==</code>, <code>!=</code>, <code>&lt;</code>).</li>
</ol>
<p>With that, you can already understand what the above code does: Starting with a <code>guess</code> of <code>x / 2</code>, it computes better and better approximations in <code>approx</code> until the value of <code>approx</code> no longer changes.  This is the value that finally is returned.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To find our whether <code>my_sqrt()</code> works correctly, we can <em>test</em> it with a few values.  For <code>x = 4</code>, for instance, it produces the correct value:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>2.0
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The upper part above <code>my_sqrt(4)</code> (a so-called <em>cell</em>) is an input to the Python interpreter, which by default <em>evaluates</em> it.  The lower part (<code>2.0</code>) is its output.  We can see that <code>my_sqrt(4)</code> produces the correct value.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The same holds for <code>x = 2.0</code>, apparently, too:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>1.414213562373095
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you are reading this in the interactive notebook, you can try out <code>my_sqrt()</code> with other values as well.  Click on one of the above cells with invocations of <code>my_sqrt()</code> and change the value – say, to <code>my_sqrt(1)</code>.  Press Shift+Enter (or click on the play symbol) to execute it and see the result.  If you get an error message, go to the above cell with the definition of <code>my_sqrt()</code> and execute this first.  You can also run <em>all</em> cells at once; see the Notebook menu for details.  (You can actually also change the text by clicking on it, and corect mistaks such as in this sentence.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Is the above value of <code>my_sqrt(2)</code> actually correct?  We can easily verify by exploiting that $$ squared again has to be $x$, or in other words $ \times  = x$.  Let's take a look:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>1.9999999999999996
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Okay, we do have some rounding error, but otherwise, this seems just fine.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What we have done now is that we have <em>tested</em> the above program: We have <em>executed</em> it on a given input and <em>checked</em> its result whether it is correct or not.  Such a test is the bare minimum of quality assurance before a program goes into production.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Automating-Test-Execution">Automating Test Execution<a class="anchor-link" href="#Automating-Test-Execution">&#182;</a></h2><p>So far, we have tested the above program <em>manually</em>, that is, running it by hand and checking its results by hand.  This is a very flexible way of testing, but in the long run, it is rather inefficient:</p>
<ol>
<li>Manually, you can only check a very limited number of executions and their results</li>
<li>After any change to the program, you have to repeat the testing process</li>
</ol>
<p>This is why it is very useful to <em>automate</em> tests.  One simple way of doing so is to let the computer first do the computation, and then have it check the results.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>For instance, this piece of code automatically tests whether $ = 2$ holds:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">expected_result</span> <span class="o">=</span> <span class="mf">2.0</span>
<span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">expected_result</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test passed&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test failed&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Test passed
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The nice thing about this test is that we can run it again and again, thus ensuring that at least the square root of 4 is computed correctly.  But there are still a number of issues, though:</p>
<ol>
<li>We need <em>five lines of code</em> for a single test</li>
<li>We do not care for rounding errors</li>
<li>We only check a single input (and a single result)</li>
</ol>
<p>Let us address these issues one by one.  First, let's make the test a bit more compact.  Almost all programming languages do have a means to automatically check whether a condition holds, and stop execution if it does not.  This is called an <em>assertion</em>, and it is immensely useful for testing.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In Python, the <code>assert</code> statement takes a condition, and if the condition is true, nothing happens.  (If everything works as it should, you should not be bothered.)  If the condition evaluates to false, though, <code>assert</code> raises an exception, indicating that a test just failed.</p>
<p>In our example, we can use <code>assert</code> to easily check whether <code>my_sqrt()</code> yields the expected result as above:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As you execute this line of code, nothing happens: We just have shown (or asserted) that our implementation indeed produces $ = 2$.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Remember, though, that floating-point computations may induce rounding errors.  So we cannot simply compare two floating-point values with equality; rather, we would ensure that the difference between them stays below a certain threshold value, typically denoted as $\epsilon$ or <code>epsilon</code>.  This is how we can do it:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EPSILON</span> <span class="o">=</span> <span class="mf">1e-8</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">abs</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="o">-</span><span class="n">x</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span> <span class="o">&lt;</span> <span class="n">EPSILON</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can also introduce a special function for this purpose, and now do more tests for concrete values:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">assertEquals</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-8</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">epsilon</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">9</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Seems to work, right?  If we know the expected results of a computation, we can use such assertions again and again to ensure our program works correctly.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Generating-Tests">Generating Tests<a class="anchor-link" href="#Generating-Tests">&#182;</a></h2><p>Remember that the property $ \times  = x$ universally holds?  We can also explicitly test this with a few values:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="mf">42.11</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mf">42.11</span><span class="p">),</span> <span class="mf">42.11</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Still seems to work, right?  Most importantly, though, $ \times  = x$ is something we can very easily test for thousands of values:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">):</span>
    <span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How much time does it take to test <code>my_sqrt()</code> with 100 values?  Let's see.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We use our own <code>Timer</code> module to measure elapsed time.  To be able to use <code>Timer</code>, we first import our own utility module, which allows us to import other notebooks.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Timer</span> <span class="k">import</span> <span class="n">Timer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">100</span><span class="p">):</span>
        <span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">n</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0.00019093696027994156
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>100 values take about a a hundredth of a second, so a single execution of <code>my_sqrt()</code> takes 1/10000 second, or about 100 microseconds.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's repeat this with 10,000 values, and let's pick them at random.  The Python <code>random.random()</code> function returns a random value between 0.0 and 1.0:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10000</span><span class="p">):</span>
        <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000000</span>
        <span class="n">assertEquals</span><span class="p">(</span><span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0.03164791804738343
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Within a second, we have now tested 10,000 random values, and each time, the square root was actually computed correctly.  We can repeat this test with every single change to <code>my_sqrt()</code>, each time reinforcing our confidence that <code>my_sqrt()</code> works as it should.  Note, though, that while a random function is <em>unbiased</em> in producing random values, it is unlikely to generate special values that drastically alter program behavior.  We will discuss this later below.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Run-Time-Verification">Run-Time Verification<a class="anchor-link" href="#Run-Time-Verification">&#182;</a></h2><p>Instead of writing and running tests for <code>my_aqrt()</code>, we can also go and <em>integrate the check right into the implementation.</em>  This way, <em>each and every</em> invocation of <code>my_sqrt()</code> will be automatically checked.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Such an <em>automatic run-time check</em> is very easy to implement:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">my_sqrt_checked</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">assertEquals</span><span class="p">(</span><span class="n">root</span> <span class="o">*</span> <span class="n">root</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">root</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now, whenever we compute a root with <code>my_sqrt_checked()</code>$\dots$</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">my_sqrt_checked</span><span class="p">(</span><span class="mf">2.0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>1.414213562373095
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>we already know that the result is correct, and will so for every new successful computation.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Automatic run-time checks, as above, assume two things, though:</p>
<ul>
<li><p>One has to be able to <em>formulate</em> such run-time checks.  Having concrete values to check against should always be possible, but formulating desired properties in an abstract fashion can be very complex.  In practice, you need to decide which properties are most crucial, and design appropriate checks for them.  Plus, run-time checks may depend not only on local properties, but on several properties of the program state, which all have to be identified.</p>
</li>
<li><p>One has to be able to <em>afford</em> such run-time checks.  In the case of <code>my_sqrt()</code>, the check is not very expensive; but if we have to check, say, a large data structure even after a simple operation, the cost of the check may soon be prohibitive.  In practice, run-time checks will typically be disabled during production, trading reliability for efficiency.  On the other hand, a comprehensive suite of run-time checks is a great way to find errors and quickly debug them; you need to decide how many such capabilities you would still want during production.</p>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="System-Input-vs-Function-Input">System Input vs Function Input<a class="anchor-link" href="#System-Input-vs-Function-Input">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At this point, we may make <code>my_sqrt()</code> available to other programmers, who may then embed it in their code.  At some point, it will have to process input that comes from <em>third parties</em>, i.e. is not under control by the programmer.  Let us simulate this <em>system input</em> by assuming a function <code>exposed_sqrt()</code> whose input is a string under third-party control:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">exposed_sqrt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root of&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can easily invoke <code>exposed_sqrt()</code> with some system input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The root of 4 is 2.0
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What's the problem?  Well, the problem is that we do not check external inputs for validity.  Try invoking <code>exposed_sqrt(-1)</code>, for instance.  What happens?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Indeed, if you invoke <code>my_sqrt()</code> with a negative number, it enters an infinite loop.  For technical reasons, we cannot have infinite loops in this chapter (unless we'd want the code to run forever); so we use a special <code>with ExpectTimeOut(1)</code> construct to interrupt execution after one second.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectTimeout</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root of&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-24-51d1d547b921&gt;&#34;, line 3, in &lt;module&gt;
    print(&#39;The root of&#39;, x, &#39;is&#39;, my_sqrt(x))
  File &#34;&lt;ipython-input-1-40bf7650432c&gt;&#34;, line 6, in my_sqrt
    approx = guess
  File &#34;&lt;ipython-input-1-40bf7650432c&gt;&#34;, line 6, in my_sqrt
    approx = guess
  File &#34;&lt;string&gt;&#34;, line 14, in check_time
TimeoutError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The above message is an <em>error message</em>, indicating that something went wrong.  It lists the <em>call stack</em> of functions and lines that were active at the time of the error.  The line at the very bottom is the line last executed; the lines above represent function invocations – in our case, up to <code>my_sqrt(x)</code>.</p>
<p>We don't want our code terminating with an exception.  Consequently, when accepting external input, we must ensure that it is properly validated.  We may write, for instance:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">exposed_sqrt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Illegal Input&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root of&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>and then we can be sure that <code>my_sqrt()</code> is only invoked according to its specification.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;-1&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Illegal Input
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>But wait!  What happens if <code>exposed_sqrt()</code> is not invoked with a number?  Then we would try to convert a non-number string, which would also result in a runtime error:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;xyzzy&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-28-15370172e011&gt;&#34;, line 2, in &lt;module&gt;
    exposed_sqrt(&#34;xyzzy&#34;)
  File &#34;&lt;ipython-input-25-259e53fd8dc6&gt;&#34;, line 2, in exposed_sqrt
    x = int(s)
ValueError: invalid literal for int() with base 10: &#39;xyzzy&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's a version which also checks for bad inputs:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">exposed_sqrt</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Illegal Input&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Illegal Number&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The root of&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="s1">&#39;is&#39;</span><span class="p">,</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;4&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>The root of 4 is 2.0
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;-1&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Illegal Number
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">exposed_sqrt</span><span class="p">(</span><span class="s2">&quot;xyzzy&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Illegal Input
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We have now seen that at the system level, the program must be able to handle any kind of input gracefully without ever entering an uncontrolled state.  This, of course, is a burden for programmers, who must struggle to make their programs robust for all circumstances.  This burden, however, becomes a <em>benefit</em> when generating software tests: If a program can handle any kind of input (possibly with well-defined error messages), we can also <em>send it any kind of input</em>.  When calling a function with generated values, though, we have to <em>know</em> its precise preconditions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="The-Limits-of-Testing">The Limits of Testing<a class="anchor-link" href="#The-Limits-of-Testing">&#182;</a></h2><p>Despite best efforts in testing, keep in mind that you are always checking functionality for a <em>finite</em> set of inputs.  Thus, there may always be <em>untested</em> inputs for which the function may still fail.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the case of <code>my_sqrt()</code>, for instance, computing $$ results in a division by zero:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-33-24ede1f53910&gt;&#34;, line 2, in &lt;module&gt;
    root = my_sqrt(0)
  File &#34;&lt;ipython-input-1-40bf7650432c&gt;&#34;, line 7, in my_sqrt
    guess = (approx + x / approx) / 2
ZeroDivisionError: float division by zero (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In our tests so far, we have not checked this condition, meaning that a program which builds on $ = 0$ will surprisingly fail.  But even if we had set up our random generator to produce inputs in the range of 0–1000000 rather than 1–1000000, the chances of it producing a zero value by chance would still have been one in a million.  If the behavior of a function is radically different for few individual values, plain random testing has few chances to produce these.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can, of course, fix the function accordingly, documenting the accepted values for <code>x</code> and handling the special case <code>x = 0</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">my_sqrt_fixed</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">assert</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">my_sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this, we can now correctly compute $ = 0$:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">my_sqrt_fixed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Illegal values now result in an exception:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">root</span> <span class="o">=</span> <span class="n">my_sqrt_fixed</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-36-55b1caf1586a&gt;&#34;, line 2, in &lt;module&gt;
    root = my_sqrt_fixed(-1)
  File &#34;&lt;ipython-input-34-f3e21e80ddfb&gt;&#34;, line 2, in my_sqrt_fixed
    assert 0 &lt;= x
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Still, we have to remember that while extensive testing may give us a high confidence into the correctness of a program, it does not provide a guarantee that all future executions will be correct.  Even run-time verification, which checks every result, can only guarantee that <em>if</em> it produces a result, the result will be correct; but there is no guarantee that future executions may not lead to a failing check.  As I am writing this, I <em>believe</em> that <code>my_sqrt_fixed(x)</code> is a correct implementation of $$, but I cannot be 100% certain.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With Newton's method, we may still have a good chance of actually <em>proving</em> that the implementation is correct: The implementation is simple, the math is well-understood.  Alas, this is only the case for few domains.  If we do not want to go into full-fledged correctness proofs, our best chance with testing is to</p>
<ol>
<li>Test the program on several, well-chosen inputs; and</li>
<li>Check results extensively and automatically.</li>
</ol>
<p>This is what we do in the remainder of this course: Devise techniques that help us to thoroughly test a program, as well as techniques that help us checking its state for correctness.  Enjoy!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>The aim of testing is to execute a program such that we find bugs.</li>
<li>Test execution, test generation, and checking test results can be automated.</li>
<li>Testing is <em>incomplete</em>; it provides no 100% guarantee that the code is free of errors.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>From here, you can move on how to</p>
<ul>
<li><a href="Fuzzer.html">use <em>fuzzing</em> to test programs with random inputs</a></li>
</ul>
<p>Enjoy the read!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Testing-Shellsort">Exercise 1: Testing Shellsort<a class="anchor-link" href="#Exercise-1:-Testing-Shellsort">&#182;</a></h3><p>Consider the following implementation of a <a href="https://en.wikipedia.org/wiki/Shellsort">Shellsort</a> function, taking a list of elements and (presumably) sorting it.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">shellsort</span><span class="p">(</span><span class="n">elems</span><span class="p">):</span>
    <span class="n">sorted_elems</span> <span class="o">=</span> <span class="n">elems</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="n">gaps</span> <span class="o">=</span> <span class="p">[</span><span class="mi">701</span><span class="p">,</span> <span class="mi">301</span><span class="p">,</span> <span class="mi">132</span><span class="p">,</span> <span class="mi">57</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">gap</span> <span class="ow">in</span> <span class="n">gaps</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">gap</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">sorted_elems</span><span class="p">)):</span>
            <span class="n">temp</span> <span class="o">=</span> <span class="n">sorted_elems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">j</span> <span class="o">=</span> <span class="n">i</span>
            <span class="k">while</span> <span class="n">j</span> <span class="o">&gt;=</span> <span class="n">gap</span> <span class="ow">and</span> <span class="n">sorted_elems</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">gap</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">temp</span><span class="p">:</span>
                <span class="n">sorted_elems</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">sorted_elems</span><span class="p">[</span><span class="n">j</span> <span class="o">-</span> <span class="n">gap</span><span class="p">]</span>
                <span class="n">j</span> <span class="o">-=</span> <span class="n">gap</span>
            <span class="n">sorted_elems</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span>

    <span class="k">return</span> <span class="n">sorted_elems</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>A first test indicates that <code>shellsort()</code> might actually work:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">shellsort</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[1, 2, 3]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The implementation uses a <em>list</em> as argument <code>elems</code> (which it copies into <code>sorted_elems</code>) as well as for the fixed list <code>gaps</code>.  Lists work like <em>arrays</em> in other languages:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">99</span><span class="p">,</span> <span class="mi">7</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;First element:&quot;</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;length:&quot;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>First element: 5 length: 4
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>range()</code> function returns an iterable list of elements.  It is often used in conjunction with <code>for</code> loops, as in the above implementation.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>1
2
3
4
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-Manual-Test-Cases">Part 1: Manual Test Cases<a class="anchor-link" href="#Part-1:-Manual-Test-Cases">&#182;</a></h4></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Your job is now to thoroughly test <code>shellsort()</code> with a variety of inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>First, set up <code>assert</code> statements with a number of manually written test cases.  Select your test cases such that extreme cases are covered.  Use <code>==</code> to compare two lists.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Random-Inputs">Part 2: Random Inputs<a class="anchor-link" href="#Part-2:-Random-Inputs">&#182;</a></h4></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Second, create random lists as arguments to <code>shellsort()</code>.   Make use of the following helper predicates to check whether the result is (a) sorted, and (b) a permutation of the original.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_sorted</span><span class="p">(</span><span class="n">elems</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">elems</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">elems</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">elems</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">is_sorted</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_permutation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span> <span class="o">==</span> <span class="n">b</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="n">elem</span><span class="p">)</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">a</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">is_permutation</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Start with a random list generator, using <code>[]</code> as the empty list and <code>elems.append(x)</code> to append an element <code>x</code> to the list <code>elems</code>.  Use the above helper functions to assess the results.  Generate and test 1,000 lists.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Quadratic-Solver">Exercise 2: Quadratic Solver<a class="anchor-link" href="#Exercise-2:-Quadratic-Solver">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Given an equation $ax^2 + bx + c = 0$, we want to find solutions for $x$ given the values of $a$, $b$, and $c$.  The following code is supposed to do this, using the equation $$x = }{2a}$$</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">quadratic_solver</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
    <span class="n">q</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">b</span> <span class="o">-</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>
    <span class="n">solution_1</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">+</span> <span class="n">my_sqrt_fixed</span><span class="p">(</span><span class="n">q</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>
    <span class="n">solution_2</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="n">b</span> <span class="o">-</span> <span class="n">my_sqrt_fixed</span><span class="p">(</span><span class="n">q</span><span class="p">))</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">a</span><span class="p">)</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">solution_1</span><span class="p">,</span> <span class="n">solution_2</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">quadratic_solver</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(-0.3333333333333333, -1.0)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The above implementation is incomplete, though.  You can trigger</p>
<ol>
<li>a division by zero; and</li>
<li>violate the precondition of <code>my_sqrt_fixed()</code>.</li>
</ol>
<p>How does one do that, and how can one prevent this?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-Find-bug-triggering-inputs">Part 1: Find bug-triggering inputs<a class="anchor-link" href="#Part-1:-Find-bug-triggering-inputs">&#182;</a></h4><p>For each of the two cases above, identify values for <code>a</code>, <code>b</code>, <code>c</code> that trigger the bug.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Fix-the-problem">Part 2: Fix the problem<a class="anchor-link" href="#Part-2:-Fix-the-problem">&#182;</a></h4><p>Extend the code appropriately such that the cases are handled.  Return <code>None</code> for nonexistent values.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-3:-Odds-and-Ends">Part 3: Odds and Ends<a class="anchor-link" href="#Part-3:-Odds-and-Ends">&#182;</a></h4><p>What are the chances of discovering these conditions with random inputs?  Assuming one can do a billion tests per second, how long would one have to wait on average until a bug gets triggered?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Fuzzing:-Breaking-Things-with-Random-Inputs">Fuzzing: Breaking Things with Random Inputs<a class="anchor-link" href="#Fuzzing:-Breaking-Things-with-Random-Inputs">&#182;</a></h1><p>In this chapter, we'll start with one of the simplest test generation techniques.  The key idea of random text generation, also known as "fuzzing", is to feed a <em>string of random characters</em> into a program in the hope to uncover failures.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should know fundamentals of software testing; for instance, from the chapter <a href="Intro_Testing.html">"Introduction to Software Testing"</a>.</li>
<li>You should have a decent understanding of Python; for instance, from the <a href="https://docs.python.org/3/tutorial/">Python tutorial</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Testing-Assignment">A Testing Assignment<a class="anchor-link" href="#A-Testing-Assignment">&#182;</a></h2><p>Fuzzing was conceived by Bart Miller in 1989 as a programming exercise for his students at the University of Wisconsin-Madison.  The <a href="http://pages.cs.wisc.edu/~bart/fuzz/CS736-Projects-f1988.pdf">assignment</a> read</p>
<blockquote><p>The goal of this project is to evaluate the robustness of various UNIX utility programs, given an unpredictable input stream. [...] First, you will build a <em>fuzz generator</em>. This is a program that will output a random character stream. Second, you will take the fuzz generator and use it to attack as many UNIX utilities as possible, with the goal of trying to break them.</p>
</blockquote>
<p>This assignment captures the essence of fuzzing: <em>Create random inputs, and see if they break things.</em>  Just let it run long enough and you'll see.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Simple-Fuzzer">A Simple Fuzzer<a class="anchor-link" href="#A-Simple-Fuzzer">&#182;</a></h2><p>Let us try to fulfill this assignment and build a fuzz generator.  The idea is to produce random characters, adding them to a buffer string variable (<code>out</code>), and finally returning the string.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This implementation uses the following Python features and functions:</p>
<ul>
<li><code>random.randrange(start, end)</code> – return a random number $[$ <code>start</code>, <code>end</code> $)$</li>
<li><code>range(start, end)</code> – create a list with integers from <code>start</code> to <code>end</code>.  Typically used in iterations.</li>
<li><code>for elem in list: body</code> – execute <code>body</code> in a loop with <code>elem</code> taking each value from <code>list</code>.</li>
<li><code>for i in range(start, end): body</code> – execute <code>body</code> in a loop with <code>i</code> from <code>start</code> to <code>end</code> $-$ 1.</li>
<li><code>chr(n)</code> – return a character with ASCII code <code>n</code></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>First, we'll import a standard package required for working in notebooks.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Next, we'll need random numbers.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here comes the actual <code>fuzzer()</code> function.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fuzzer</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">char_start</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">char_range</span><span class="o">=</span><span class="mi">32</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;A string of up to `max_length` characters</span>
<span class="sd">       in the range [`char_start`, `char_start` + `char_range`]&quot;&quot;&quot;</span>
    <span class="n">string_length</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">string_length</span><span class="p">):</span>
        <span class="n">out</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="n">char_start</span><span class="p">,</span> <span class="n">char_start</span> <span class="o">+</span> <span class="n">char_range</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With its default arguments, the <code>fuzzer()</code> function returns a string of random characters:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzzer</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;!7#%&#34;*#0=)$;%6*;&gt;638:*&gt;80&#34;=&lt;/&gt;(/*:-(2&lt;4 !:5*6856&amp;?&#34;&#34;11&lt;7+%&lt;%7,4.8,*+&amp;,,$,.&#34;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now imagine that this string was the input to a program expecting a specific input format – say, a comma-separated list of values, or an e-mail address.  Would the program be able to process such an input without any problems?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If the above fuzzing input already is intriguing, consider that fuzzing can easily be set up to produce other kinds of input.  For instance, we can also have <code>fuzzer()</code> produce a series of uppercase letters.  We use <code>ord(c)</code> to return the ASCII code of the character <code>c</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzzer</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">),</span> <span class="mi">26</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;zskscocrxllosagkvaszlngpysurezehvcqcghygphnhonehczraznkibltfmocxddoxcmrvatcleysksodzlwmzdndoxrjfqigjhqjxkblyrtoaydlwwisrvxtxsejhfbnforvlfisojqaktcxpmjqsfsycisoexjctydzxzzutukdztxvdpqbjuqmsectwjvylvbixzfmqiabdnihqagsvlyxwxxconminadcaqjdzcnzfjlwccyudmdfceiepwvyggepjxoeqaqbjzvmjdlebxqvehkmlevoofjlilegieeihmetjappbisqgrjhglzgffqrdqcwfmmwqecxlqfpvgtvcddvmwkplmwadgiyckrfjddxnegvmxravaunzwhpfpyzuyyavwwtgykwfszasvlbwojetvcygectelwkputfczgsfsbclnkzzcjfywitooygjwqujseflqyvqgyzpvknddzemkegrjjrshbouqxcmixnqhgsgdwgzwzmgzfajymbcfezqxndbmzwnxjeevgtpjtcwgbzptozflrwvuopohbvpmpaifnyyfvbzzdsdlznusarkmmtazptbjbqdkrsnrpgdffemnpehoapiiudokczwrvpsonybfpaeyorrgjdmgvkvupdtkrequicexqkoikygepawmwsdcrhivoegynnhodfhryeqbebtbqnwhogdfrsrksntqjbocvislhgrgchkhpaiugpbdygwkhrtyniufabdnqhtnwreiascfvmuhettfpbowbjadfxnbtzhobnxsnf&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Assume a program expects an identifier as its input.  Would it expect such a long identifier?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Fuzzing-External-Programs">Fuzzing External Programs<a class="anchor-link" href="#Fuzzing-External-Programs">&#182;</a></h2><p>Let us see what happens if we actually invoke an external program with fuzzed inputs.  To this end, let us proceed in two steps.  First, we create an <em>input file</em> with fuzzed test data; then we feed this input file into a program of choice.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Creating-Input-Files">Creating Input Files<a class="anchor-link" href="#Creating-Input-Files">&#182;</a></h3><p>Let us obtain a temporary file name such that we do not clutter the file system.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">tempfile</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">basename</span> <span class="o">=</span> <span class="s2">&quot;input.txt&quot;</span>
<span class="n">tempdir</span> <span class="o">=</span> <span class="n">tempfile</span><span class="o">.</span><span class="n">mkdtemp</span><span class="p">()</span>
<span class="n">FILE</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tempdir</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">FILE</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now open this file for writing.  The Python <code>open()</code> function opens a file into which we can then write arbitrary contents.  It is commonly used in conjunction with the <code>with</code> statement, which ensures that the file is closed as soon as it is no longer needed.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">FILE</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can verify that the file was actually created by reading its contents:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">contents</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">FILE</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">contents</span><span class="p">)</span>
<span class="k">assert</span><span class="p">(</span><span class="n">contents</span> <span class="o">==</span> <span class="n">data</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>!6&#34;*-2,$994,%*:&#34;$25!2=!+!2#&#39;&#39;6/3&#39;4!6%7056&#39;??2#7;75&gt;27&#39;15#-4.?*&lt;?6&amp;&#34; !3&#39;7-5&gt;18%
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Invoking-External-Programs">Invoking External Programs<a class="anchor-link" href="#Invoking-External-Programs">&#182;</a></h3><p>Now that we have an input file, we can invoke a program on it.  For the fun of it, let us test the <code>bc</code> calculator program, which takes an arithmetic expression and evaluates it.</p>
<p>To invoke <code>bc</code>, let us use the Python <code>subprocess</code> module.  This is how this works:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">program</span> <span class="o">=</span> <span class="s2">&quot;bc&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">FILE</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;2 + 2</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="n">program</span><span class="p">,</span> <span class="n">FILE</span><span class="p">],</span>
                        <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
                        <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                        <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                        <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>From the <code>result</code>, we can check the program output, which in this case consists of a set of typesetting commands:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">stdout</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;4\n&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can also check the status. A value of 0 indicates that the program terminated correctly.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">returncode</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>0
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Any error messages would be available in <code>results.stderr</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span><span class="o">.</span><span class="n">stderr</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Instead of <code>bc</code>, you can actually put in any program you like.  Be aware, though, that if your program is able to change or even damage your system, there's quite a risk that the fuzzed input contains data or commands that do precisely this.</p>
<p>Just for the fun of it, imagine you would test a file removal program.  What is the chance of the fuzzer producing a valid file name?  (Note that <code>.</code> and <code>/</code> may be  valid directory names already.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Long-Running-Fuzzing">Long-Running Fuzzing<a class="anchor-link" href="#Long-Running-Fuzzing">&#182;</a></h3><p>Let us now feed a large number of inputs into our tested program, to see whether it might crash on some.  We store all results in the <code>runs</code> variable as pairs of input data and the actual result. (Note: running this may take a while.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">program</span> <span class="o">=</span> <span class="s2">&quot;bc&quot;</span>

<span class="n">runs</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">FILE</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="n">program</span><span class="p">,</span> <span class="n">FILE</span><span class="p">],</span>
                            <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">DEVNULL</span><span class="p">,</span>
                            <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                            <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                            <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">runs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now query <code>runs</code> for some statistics.  For instance, we can query how many runs actually passed -- that is, there were no error messages.  We use a <em>list comprehension</em> here: The form <em>expression</em> <code>for</code> <em>element</em> <code>in</code> <em>list</em> <code>if</code> <em>condition</em> returns a list of evaluated <em>expressions</em> in which each <em>element</em> comes from <em>list</em> if the <em>condition</em> was true.  Here, we have the <em>expression</em> be 1 for all elements where <em>condition</em> holds, and we use <code>sum()</code> to sum over all elements in the list.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="ow">in</span> <span class="n">runs</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>4
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Most inputs apparently are invalid – not a big surprise, as it is unlikely that a random input contains a valid arithmetic expression.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us take a look at the first error message:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">errors</span> <span class="o">=</span> <span class="p">[(</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="ow">in</span> <span class="n">runs</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">]</span>
<span class="p">(</span><span class="n">first_data</span><span class="p">,</span> <span class="n">first_result</span><span class="p">)</span> <span class="o">=</span> <span class="n">errors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

<span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">first_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">first_result</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;5*,55&amp;8&gt;&#34;86,?&#34;/7!1%5-**&amp;-$&amp;)$91;&#34;21(\&#39;8&#34;(%$&#39;
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: parse error
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: &amp;
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: parse error
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: &amp;
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: $
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: &amp;
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: $
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: parse error
/var/folders/xl/yjwn73155k9cw4mxxxrgqp4w0000gn/T/tmpqsee_nzk/input.txt 1: illegal character: $
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Are there any runs with messages other than <code>illegal character</code> or <code>parse error</code>?  (Say, something like <code>crash</code> or <code>you found a fatal bug</code>?)  Not very many:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[</span><span class="n">result</span><span class="o">.</span><span class="n">stderr</span> <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="ow">in</span> <span class="n">runs</span> <span class="k">if</span>
 <span class="n">result</span><span class="o">.</span><span class="n">stderr</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span>
 <span class="ow">and</span> <span class="s2">&quot;illegal character&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span>
 <span class="ow">and</span> <span class="s2">&quot;parse error&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">result</span><span class="o">.</span><span class="n">stderr</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Maybe a crash would be indicated by <code>bc</code> just crashing.  Unfortunately, the return code is never nonzero:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span> <span class="k">for</span> <span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">result</span><span class="p">)</span> <span class="ow">in</span> <span class="n">runs</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>0
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How about we let the above <code>bc</code> test run for some more?  While it is running, let us take a look on how the state of the art was in 1989.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Bugs-Fuzzers-Find">Bugs Fuzzers Find<a class="anchor-link" href="#Bugs-Fuzzers-Find">&#182;</a></h2><p>When Miller and his students ran their first fuzzers in 1989, they found an alarming result: About <strong>a third of the UNIX utilities</strong> they fuzzed had issues – they crashed, hung, or otherwise failed when confronted with fuzzing input [<a href="https://doi.org/10.1145/96267.96279">Miller <em>et al</em>, 1990.</a>].  This also included the <code>bc</code> program, above.  (Apparently, the bugs have now been fixed!)</p>
<p>Considering that many of these UNIX utilities were used in scripts that would also process network input, this was an alarming result.  Programmers quickly built and ran their own fuzzers, rushed to fix the reported errors, and learned not to trust external inputs anymore.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What kind of problems did Miller's fuzzing experiment find?  It turns out that the mistakes programmers made in 1990 are still the same mistakes being made today.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Buffer-Overflows">Buffer Overflows<a class="anchor-link" href="#Buffer-Overflows">&#182;</a></h3><p>Many programs have built-in maximum lengths for inputs and input elements.  In languages like C, it is easy to excess these lengths without the program (or the programmer) even noticing, triggering so-called <strong>buffer overflows</strong>.  The following code, for instance, happily copies the <code>input</code> string into a <code>weekday</code> string even if <code>input</code> has more than eight characters:</p>
<div class="highlight"><pre><span></span><span class="kt">char</span> <span class="n">weekday</span><span class="p">[</span><span class="mi">9</span><span class="p">];</span> <span class="c1">// 8 characters + trailing &#39;\0&#39; terminator</span>
<span class="n">strcpy</span> <span class="p">(</span><span class="n">weekday</span><span class="p">,</span> <span class="n">input</span><span class="p">);</span>
</pre></div>
<p>Ironically, this already fails if <code>input</code> is <code>"Wednesday"</code> (9 characters); any excess characters (here, <code>'y'</code> and the following <code>'\0'</code> string terminator) are simply copied to whatever resides in memory after <code>weekday</code>, triggering arbitrary behavior; maybe some boolean character variable which would be set from <code>'n'</code> to <code>'y'</code>.  With fuzzing, it is very easy to produce arbitrary long inputs and input elements.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can easily simulate this buffer overflow behavior in a Python function:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">crash_if_too_long</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">buffer</span> <span class="o">=</span> <span class="s2">&quot;Thursday&quot;</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">buffer</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>And yes, it quickly crashes.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
        <span class="n">crash_if_too_long</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-22-f83db3d59a06&gt;&#34;, line 5, in &lt;module&gt;
    crash_if_too_long(s)
  File &#34;&lt;ipython-input-20-928c2d2de976&gt;&#34;, line 4, in crash_if_too_long
    raise ValueError
ValueError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>with ExpectError()</code> line in the above code ensures that the error message is printed, yet execution continues; this is to differentiate this "expected" error from "unexpected" errors in other code examples.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Missing-Error-Checks">Missing Error Checks<a class="anchor-link" href="#Missing-Error-Checks">&#182;</a></h3><p>Many programming languages do not have exceptions, but instead have functions return special <strong>error codes</strong> in exceptional circumstances.  The C function <code>getchar()</code>, for instance, normally returns a character from the standard input; if no input is available anymore, it returns the special value <code>EOF</code> (end of file).  Now assume a programmer is scanning the input for the next character, skipping space characters:</p>
<div class="highlight"><pre><span></span><span class="kt">char</span> <span class="nf">read_next_nonspace</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">char</span> <span class="n">lastc</span><span class="p">;</span>

    <span class="k">do</span> <span class="p">{</span>
        <span class="n">lastc</span> <span class="o">=</span> <span class="n">getchar</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">lastc</span> <span class="o">!=</span> <span class="sc">&#39; &#39;</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">(</span><span class="n">lastc</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>What happens if the input ends prematurely, as would perfectly be feasible with fuzzing?  Well, <code>getchar()</code> returns <code>EOF</code>, and keeps on returning <code>EOF</code> when called again; so the code above simply enters an infinite loop.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, we can simulate such missing error checks.  Here's a function that will effectively hang if no space is present in the input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">hang_if_no_space</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span><span class="p">:</span>
                <span class="k">break</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using the timeout mechanism from our <a href="Intro_Testing.html">Introduction to Testing</a>, we can interrupt this function after some time.  And yes, it does hang after a few fuzzing inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectTimeout</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">100</span>
<span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
        <span class="n">hang_if_no_space</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-25-8e40f7d62a1b&gt;&#34;, line 5, in &lt;module&gt;
    hang_if_no_space(s)
  File &#34;&lt;ipython-input-23-5f437edacff4&gt;&#34;, line 7, in hang_if_no_space
    i += 1
  File &#34;&lt;ipython-input-23-5f437edacff4&gt;&#34;, line 7, in hang_if_no_space
    i += 1
  File &#34;&lt;string&gt;&#34;, line 14, in check_time
TimeoutError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>with ExpectTimeout()</code> line in the above code ensures that execution of the enclosed code is interrupted after two seconds, printing the error message.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Rogue-Numbers">Rogue Numbers<a class="anchor-link" href="#Rogue-Numbers">&#182;</a></h3><p>With fuzzing, it is easy to generate <strong>uncommon values</strong> in the input, causing all kinds of interesting behavior.  Consider the following code, again in the C language, which first reads a buffer size from the input, and then allocates a buffer of the given size:</p>
<div class="highlight"><pre><span></span><span class="kt">char</span> <span class="o">*</span><span class="nf">read_input</span><span class="p">()</span> <span class="p">{</span>
    <span class="kt">size_t</span> <span class="n">size</span> <span class="o">=</span> <span class="n">read_buffer_size</span><span class="p">();</span>
    <span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="p">)</span><span class="n">malloc</span><span class="p">(</span><span class="n">size</span><span class="p">);</span>
    <span class="c1">// fill buffer</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">buffer</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
<p>What happens if <code>size</code> is very large, exceeding program memory?  What happens if <code>size</code> is less than the number of characters following?  What happens if <code>size</code> is negative?  By providing a random number here, fuzzing can create all kinds of damages.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, we can easily simulate such rogue numbers in Python.  The function <code>collapse_if_too_large()</code> fails if the passed value (a string) is too large after having been converted to an integer.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">collapse_if_too_large</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can have <code>fuzzer()</code> create a string of digits:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">long_number</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">long_number</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>7056414967099541967374507745748918952640135045
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we feed such numbers into <code>collapse_if_too_large()</code>, it will very soon fail.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">collapse_if_too_large</span><span class="p">(</span><span class="n">long_number</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-28-7a1817f3dbfc&gt;&#34;, line 2, in &lt;module&gt;
    collapse_if_too_large(long_number)
  File &#34;&lt;ipython-input-26-2c22a83a4dca&gt;&#34;, line 3, in collapse_if_too_large
    raise ValueError
ValueError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we really wanted to allocate that much memory on a system, having it quickly fail as above actually would be the better option.  In reality, running out of memory may dramatically slow systems down, up to the point that they become totally unresponsive – and restarting is the only option.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One might argue that these are all problems of bad programming, or of bad programming languages.  But then, there's thousands of people starting to program every day, and all of them make the same mistakes again and again, even today.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Catching-Errors">Catching Errors<a class="anchor-link" href="#Catching-Errors">&#182;</a></h2><p>When Miller and his students built their first fuzzer, they could identify errors simply because the program would crash or hang – two conditions that are easy to identify.  If the failures are more subtle, though, we need to come up with additional checks.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Generic-Checkers">Generic Checkers<a class="anchor-link" href="#Generic-Checkers">&#182;</a></h3><p>Buffer overflows, as <a href="#Buffer-Overflows">discussed above</a>, are a particular instance of a more general problem: In languages like C, a program can access arbitrary parts of its memory – even those parts that are uninitialized and possibly not even meant to be accessed.  This is necessary if you want to write an operating system, and great if you want a maximum of performance or control, but pretty bad if you want to avoid mistakes.  Fortunately, there are tools that help catching such issues at runtime, and they are great when combined with fuzzing.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To catch problematic memory accesses during testing, one can run C programs in special <em>memory-checking</em> environments; at runtime, these check for each and every memory read whether it accesses valid and initialized memory.  A popular example of such a tool is the <a href="https://clang.llvm.org/docs/MemorySanitizer.html">LLVM Memory Sanitizer</a>.  Compiling a C program with</p>
<div class="highlight"><pre><span></span>$ clang -fsanitize<span class="o">=</span>memory -o program program.c
</pre></div>
<p>can then reveal errors during execution:</p>
<div class="highlight"><pre><span></span>$ ./program
WARNING: MemorySanitizer: use-of-uninitialized-value
    <span class="c1">#0 0x7f45944b418a in main umr.cc:6</span>
    <span class="c1">#1 0x7f45938b676c in __libc_start_main libc-start.c:226</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you want to find errors in a C program, turning on memory checking during fuzzing is a non-brainer.  It will slow down execution by a certain factor (typical values are 3–5$\times$) and also consume more memory, but CPU cycles are dead cheap compared to the human effort it takes to find these bugs – not to speak of the potential <em>damage</em> they cause.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us illustrate this "damage" by only one example.  The <a href="https://en.wikipedia.org/wiki/Heartbleed">HeartBleed bug</a> was a security bug in the OpenSSL library, implementing cryptographic protocols that provide communications security over a computer network.  (If you read this text in a browser, it is likely encrypted using these protocols.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The HeartBleed bug was exploited by sending a specially crafted command to the SSL <em>heartbeat</em> service.  A heartbeat service is used to check if the server on the other end is still alive.  A client would send the service a string like</p>

<pre><code>BIRD (4 letters)</code></pre>
<p>to which the server would reply with <code>BIRD</code>, and the client would know the server is alive.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Unfortunately, this service could be exploited by asking the server to reply with <em>more</em> than the requested set of letters.  This is very well explained in this <a href="https://xkcd.com/1354/">XKCD comic</a>:</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="PICS/xkcd_heartbleed_1.png" alt="XKCD Comic"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="PICS/xkcd_heartbleed_2.png" alt="XKCD Comic"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="PICS/xkcd_heartbleed_3.png" alt="XKCD Comic"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can actually simulate the bug in a Python program.  To start with, let us create some program memory filled with actual data and random data:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;space for reply&gt;&quot;</span> <span class="o">+</span> <span class="n">fuzzer</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
     <span class="o">+</span> <span class="s2">&quot;&lt;secret-certificate&gt;&quot;</span> <span class="o">+</span> <span class="n">fuzzer</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
     <span class="o">+</span> <span class="s2">&quot;&lt;secret-key&gt;&quot;</span> <span class="o">+</span> <span class="n">fuzzer</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&lt;other-secrets&gt;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We add more "memory" characters to <code>s</code>, filled with <code>"deadbeef"</code> as marker for uninitialized memory:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">uninitialized_memory_marker</span> <span class="o">=</span> <span class="s2">&quot;deadbeef&quot;</span>
<span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">2048</span><span class="p">:</span>
    <span class="n">s</span> <span class="o">+=</span> <span class="n">uninitialized_memory_marker</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now convert this string into a modifiable list of characters.  (In C, both would be the same.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">memory</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="n">memory</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The heartbeat service would now take a reply to be sent back, as well as a length.  It would store the reply to be sent in memory, and then send it back with the given length.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">heartbeat</span><span class="p">(</span><span class="n">reply</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">memory</span>

    <span class="c1"># Store reply in memory</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">reply</span><span class="p">)):</span>
        <span class="n">memory</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">reply</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="n">memory</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span>

    <span class="c1"># Send back heartbeat</span>
    <span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="n">memory</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This perfectly works for standard strings:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">heartbeat</span><span class="p">(</span><span class="s2">&quot;potato&quot;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;potato&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">heartbeat</span><span class="p">(</span><span class="s2">&quot;bird&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;bird&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, if the length is greater than the length of the reply string, additional contents of memory spill out:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">heartbeat</span><span class="p">(</span><span class="s2">&quot;hat&quot;</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;hat\n\no\nfor reply&gt;#,,!3?30&gt;#61)$4--8=&lt;7)4 )03/%,5+! &#34;4)0?.9+?3();&lt;42?=?0&lt;secret-certificate&gt;7(+/+((1)#/0\&#39;4!&gt;/&lt;#=78%6$!!$&lt;-&#34;3&#34;\&#39;-?1?85!05629%/); *)1\&#39;/=9%&lt;secret-key&gt;.(#.4%&lt;other-secrets&gt;deadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadbeefdeadb&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the OpenSSL implementation, these memory contents could involve cryptographic certificates, private keys, and more – and worse, no one would notice that this memory just had been accessed.  When the HeartBleed bug was discovered, it had been around for many years, and none would know whether and which secrets had already leaked.  The quickly set up <a href="http://heartbleed.com/">HeartBleed announcement page</a> said it all:</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="PICS/Heartbleed-announce.png" alt="Heartbleed Announcement"></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>But how was HeartBleed discovered?  Very simple.  Researchers both at the Codenomicon company as well as with Google compiled the OpenSSL library with a memory sanitizer, and then happily flooded it with fuzzed commands.  The memory sanitizer would then notice whether uninitialized memory had been accessed – and actually, it would very quickly discover this.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can again simulate this in our Python example.  Let us simply assume that if some string contains the uninitialized memory marker, we have been accessing memory out of bounds:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">heartbeat</span><span class="p">(</span><span class="n">fuzzer</span><span class="p">(),</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">500</span><span class="p">))</span>
        <span class="k">assert</span> <span class="ow">not</span> <span class="n">s</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">uninitialized_memory_marker</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-37-acbbca5ca20f&gt;&#34;, line 4, in &lt;module&gt;
    assert not s.find(uninitialized_memory_marker)
AssertionError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In combination with a memory checker, this indeed would find the bug within seconds.  If only OpenSSL had been fuzzed right before release...</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As a rule of thumb, you should always <em>enable as many automatic checkers as possible</em> during fuzzing.  CPU cycles are cheap, and errors are expensive.  If you only execute the program without an option to actually detect errors, you will be missing several opportunities.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Program-Specific-Checkers">Program-Specific Checkers<a class="anchor-link" href="#Program-Specific-Checkers">&#182;</a></h3><p>Besides generic checkers that apply to <em>all</em> programs on a given platform or in a given language, you can also devise <em>specific</em> checkers that apply to your program, or a subsystem.  In the <a href="Intro_Testing.html">chapter on testing</a>, we already have hinted at techniques of <a href="Intro_Testing.ipynb#Runtime-Verification">runtime verification</a> that check function results at runtime for correctness.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One key concept for detecting errors early is <em>assertions</em> that check the input (precondition) and result (postcondition) of important functions.  The more assertions you have in your program, the higher your chances to detect errors during execution that would go undetected by generic checkers – notably during fuzzing.  If you worry about the impact of assertions on performance, keep in mind that assertions can be turned off in production code (although it can be helpful to leave the most critical checks active).</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One of the most important use of assertions for finding errors is <em>checking the integrity of complex data structures.</em>  Let us illustrate the concept using a simple example.  Suppose we have a mapping of airport codes to airports, as in</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">airport_codes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;YVR&quot;</span><span class="p">:</span> <span class="s2">&quot;Vancouver&quot;</span><span class="p">,</span>
    <span class="s2">&quot;JFK&quot;</span><span class="p">:</span> <span class="s2">&quot;New York-JFK&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CDG&quot;</span><span class="p">:</span> <span class="s2">&quot;Paris-Charles de Gaulle&quot;</span><span class="p">,</span>
    <span class="s2">&quot;CAI&quot;</span><span class="p">:</span> <span class="s2">&quot;Cairo&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LED&quot;</span><span class="p">:</span> <span class="s2">&quot;St. Petersburg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;PEK&quot;</span><span class="p">:</span> <span class="s2">&quot;Beijing&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HND&quot;</span><span class="p">:</span> <span class="s2">&quot;Tokyo-Haneda&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AKL&quot;</span><span class="p">:</span> <span class="s2">&quot;Auckland&quot;</span>
<span class="p">}</span>  <span class="c1"># plus many more</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">airport_codes</span><span class="p">[</span><span class="s2">&quot;YVR&quot;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;Vancouver&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="s2">&quot;AKL&quot;</span> <span class="ow">in</span> <span class="n">airport_codes</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This list of airport codes may be pretty critical: If we have a spelling mistake in any of the airport codes, this may impact whatever application we have.  We therefore introduce a function that checks the list for consistency.  The consistency condition is called a <em>representation invariant</em>, and functions (or methods) that check it are therefore typically named <code>repOK()</code> for "the representation is ok".</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>First, let's have a checker for individual airport codes.  The checker fails if the code is inconsistent.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">code_repOK</span><span class="p">(</span><span class="n">code</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="o">==</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;Airport code must have three characters: &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">code</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">c</span><span class="o">.</span><span class="n">isalpha</span><span class="p">(),</span> <span class="s2">&quot;Non-letter in airport code: &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">c</span><span class="o">.</span><span class="n">isupper</span><span class="p">(),</span> <span class="s2">&quot;Lowercase letter in airport code: &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">code_repOK</span><span class="p">(</span><span class="s2">&quot;SEA&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now use <code>code_repOK()</code> to check all elements in the list:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">airport_codes_repOK</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">code</span> <span class="ow">in</span> <span class="n">airport_codes</span><span class="p">:</span>
        <span class="k">assert</span> <span class="n">code_repOK</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">airport_codes_repOK</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we add an invalid element to the list, our check would fail:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">airport_codes</span><span class="p">[</span><span class="s2">&quot;YMML&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;Melbourne&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">assert</span> <span class="n">airport_codes_repOK</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-46-21eb3b08ef3e&gt;&#34;, line 2, in &lt;module&gt;
    assert airport_codes_repOK()
  File &#34;&lt;ipython-input-43-f8128f7dc918&gt;&#34;, line 3, in airport_codes_repOK
    assert code_repOK(code)
  File &#34;&lt;ipython-input-41-345123a45730&gt;&#34;, line 2, in code_repOK
    assert len(code) == 3, &#34;Airport code must have three characters: &#34; + repr(code)
AssertionError: Airport code must have three characters: &#39;YMML&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Of course, rather than manipulating the list directly, we'd have a special function for adding elements; this could then also check whether the code is valid:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add_new_airport</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">code_repOK</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="n">airport_codes</span><span class="p">[</span><span class="n">code</span><span class="p">]</span> <span class="o">=</span> <span class="n">city</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>  <span class="c1"># For BER, ExpectTimeout would be more appropriate</span>
    <span class="n">add_new_airport</span><span class="p">(</span><span class="s2">&quot;BER&quot;</span><span class="p">,</span> <span class="s2">&quot;Berlin&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This check also allows us to find out errors in argument lists:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">add_new_airport</span><span class="p">(</span><span class="s2">&quot;London-Heathrow&quot;</span><span class="p">,</span> <span class="s2">&quot;LHR&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-49-6aeb45bf2b91&gt;&#34;, line 2, in &lt;module&gt;
    add_new_airport(&#34;London-Heathrow&#34;, &#34;LHR&#34;)
  File &#34;&lt;ipython-input-47-f4d30ab4bf9e&gt;&#34;, line 2, in add_new_airport
    assert code_repOK(code)
  File &#34;&lt;ipython-input-41-345123a45730&gt;&#34;, line 2, in code_repOK
    assert len(code) == 3, &#34;Airport code must have three characters: &#34; + repr(code)
AssertionError: Airport code must have three characters: &#39;London-Heathrow&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>For maximum checking, though, the <code>add_new_airport()</code> function would also ensure the correct representation of the list of airport codes – <em>before</em> and <em>after</em> changing it.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">add_new_airport</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">city</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">code_repOK</span><span class="p">(</span><span class="n">code</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">airport_codes_repOK</span><span class="p">()</span>
    <span class="n">airport_codes</span><span class="p">[</span><span class="n">code</span><span class="p">]</span> <span class="o">=</span> <span class="n">city</span>
    <span class="k">assert</span> <span class="n">airport_codes_repOK</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This catches the inconsistency introduced earlier:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">add_new_airport</span><span class="p">(</span><span class="s2">&quot;IST&quot;</span><span class="p">,</span> <span class="s2">&quot;Istanbul Yeni Havalimanı&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-51-a80a619d120e&gt;&#34;, line 2, in &lt;module&gt;
    add_new_airport(&#34;IST&#34;, &#34;Istanbul Yeni Havalimanı&#34;)
  File &#34;&lt;ipython-input-50-93da9120109e&gt;&#34;, line 3, in add_new_airport
    assert airport_codes_repOK()
  File &#34;&lt;ipython-input-43-f8128f7dc918&gt;&#34;, line 3, in airport_codes_repOK
    assert code_repOK(code)
  File &#34;&lt;ipython-input-41-345123a45730&gt;&#34;, line 2, in code_repOK
    assert len(code) == 3, &#34;Airport code must have three characters: &#34; + repr(code)
AssertionError: Airport code must have three characters: &#39;YMML&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The more <code>repOK()</code> assertions exist in your code, the more errors you will catch – even those specific to only your domain and problem.  On top, such assertions document the <em>assumptions you made</em> during programming and thus help other programmers to understand your code and prevent errors.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As a final example, let us consider a rather complex data structure – a <a href="https://en.wikipedia.org/wiki/Red–black_tree">red-black tree</a>, a self-balancing binary search tree.  Implementing a red-black tree is not too hard, but getting it correct can be a task of several hours even for experienced programmers.  A <code>repOK()</code> method, however, documents all the assumptions and checks them as well:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">RedBlackTree</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">repOK</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootHasNoParent</span><span class="p">()</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootIsBlack</span><span class="p">()</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">rootNodesHaveOnlyBlackChildren</span><span class="p">()</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">treeIsAcyclic</span><span class="p">()</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">parentsAreConsistent</span><span class="p">()</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">rootIsBlack</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">color</span> <span class="o">==</span> <span class="n">BLACK</span>
        <span class="k">return</span> <span class="kc">True</span>

    <span class="k">def</span> <span class="nf">add_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">repOK</span><span class="p">()</span>
        <span class="c1"># Add the element</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">repOK</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">delete_element</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">elem</span><span class="p">):</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">repOK</span><span class="p">()</span>
        <span class="c1"># Delete the element</span>
        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">repOK</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here, <code>repOK()</code> is a method that runs on an object of the <code>RedBlackTree</code> class.  It runs five different checks, all of which have their own assertions.  Whenever an element is added or deleted, all these consistency checks are run automatically.  If you have an error in any of these, the checkers will find them – if you run the tree through sufficiently many fuzzed inputs, of course.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Static-Code-Checkers">Static Code Checkers<a class="anchor-link" href="#Static-Code-Checkers">&#182;</a></h3><p>Many of the benefits from <code>repOK()</code> assertions can also be obtained by using <em>static type checkers</em> on your code.  In Python, for instance, the <a href="http://mypy-lang.org">MyPy</a> static checker can find type errors as soon as types of arguments are properly declared:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">Dict</span>

<span class="n">airport_codes</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;YVR&quot;</span><span class="p">:</span> <span class="s2">&quot;Vancouver&quot;</span><span class="p">,</span>  <span class="c1"># etc</span>
<span class="p">}</span>  <span class="c1"># type: Dict[str, str]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we now add a key with a non-string type, as in</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">airport_codes</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;First&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>this would be caught by MyPy immediately:</p>
<div class="highlight"><pre><span></span>$ mypy airports.py
airports.py: error: Invalid index <span class="nb">type</span> <span class="s2">&quot;int&quot;</span> <span class="k">for</span> <span class="s2">&quot;Dict[str, str]&quot;</span><span class="p">;</span> expected <span class="nb">type</span> <span class="s2">&quot;str&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Statically checking more advanced properties such as the airport code consisting of exactly three uppercase characters or a tree being acyclic, however, quickly reach the limits of static checking.  Your <code>repOK()</code> assertions will still be needed – best in conjunction with a good test generator.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Fuzzing-Architecture">A Fuzzing Architecture<a class="anchor-link" href="#A-Fuzzing-Architecture">&#182;</a></h2><p>Since we'd like to reuse some parts of this chapter in the following ones, let us define things in a way that are easier to reuse, and in particular easier to <em>extend</em>.  To this end, we introduce a number of <em>classes</em> that encapsulate the functionality above in a reusable way.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Runner-Classes">Runner Classes<a class="anchor-link" href="#Runner-Classes">&#182;</a></h3><p>The first thing we introduce is the notion of a <code>Runner</code> – that is, an object whose job it is to execute some object with a given input.  A runner typically is some program or function under test, but we can also have simpler runners.</p>
<p>Let us start with a base class for runners.  A runner essentially provides a method <code>run(input)</code> that is used to pass <code>input</code> (a string) to the runner.  <code>run()</code> returns a result; by default, this is the input.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Runner</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize&quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the consumer with the given input&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">inp</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>A more interesting class is <code>PrintRunner</code>, which simply prints out everything that is given to it.  This is the default runner in many situations.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">PrintRunner</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Print the given input&quot;&quot;&quot;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">inp</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">p</span> <span class="o">=</span> <span class="n">PrintRunner</span><span class="p">()</span>
<span class="n">result</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;Some input&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Some input
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;Some input&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>ProgramRunner</code> class sends the input to the standard input of a program instead.  The program is specified when creating a <code>ProgramRunner</code> object.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ProgramRunner</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">program</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.  `program` is a program spec as passed to `subprocess.run()`&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">program</span> <span class="o">=</span> <span class="n">program</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the program with `inp` as input.  Return result of `subprocess.run()`.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                                     <span class="nb">input</span><span class="o">=</span><span class="n">inp</span><span class="p">,</span>
                                     <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                                     <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                                     <span class="n">universal_newlines</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's a variant for binary (i.e., non-textual) input and output.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">BinaryProgramRunner</span><span class="p">(</span><span class="n">ProgramRunner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run the program with `inp` as input.  Return result of `subprocess.run()`.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">program</span><span class="p">,</span>
                                     <span class="nb">input</span><span class="o">=</span><span class="n">inp</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                                     <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
                                     <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us demonstrate a <code>ProgramRunner</code> using the <code>cat</code> program – a program that copies its input to its output.
We see that the output of <code>cat</code> is the same as its input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cat</span> <span class="o">=</span> <span class="n">ProgramRunner</span><span class="p">(</span><span class="n">program</span><span class="o">=</span><span class="s2">&quot;cat&quot;</span><span class="p">)</span>
<span class="n">cat</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;hello&#39;, stderr=&#39;&#39;)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Fuzzer-Classes">Fuzzer Classes<a class="anchor-link" href="#Fuzzer-Classes">&#182;</a></h3><p>Let us now define <em>fuzzers</em> that actually feed data into a consumer.  The base class for fuzzers provides one central method <code>fuzz()</code> that creates some input.  The <code>run()</code> function then sends the fuzz() input to a consumer, returning the result; <code>runs()</code> does this for a given number (<code>trials</code>) of times.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Fuzzer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">fuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return fuzz input&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="n">Runner</span><span class="p">()):</span>
        <span class="sd">&quot;&quot;&quot;Run `runner` with fuzz input&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">runs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runner</span><span class="o">=</span><span class="n">PrintRunner</span><span class="p">(),</span> <span class="n">trials</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run `runner` with fuzz input, `trials` times&quot;&quot;&quot;</span>
        <span class="c1"># Note: the list comprehension below does not invoke self.run() for subclasses</span>
        <span class="c1"># return [self.run(runner) for i in range(trials)]</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
            <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">runner</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">results</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>By default, <code>Fuzzer</code> objects do not do much, as their <code>fuzz()</code> function is merely an abstract placeholder.  The subclass <code>RandomFuzzer</code>, however, implements the functionality of the <code>fuzzer()</code> function, above, adding an additional parameter <code>min_length</code> to specify a minimum length.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">RandomFuzzer</span><span class="p">(</span><span class="n">Fuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">min_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                 <span class="n">char_start</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">char_range</span><span class="o">=</span><span class="mi">32</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_length</span> <span class="o">=</span> <span class="n">min_length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span> <span class="o">=</span> <span class="n">max_length</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">char_start</span> <span class="o">=</span> <span class="n">char_start</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">char_range</span> <span class="o">=</span> <span class="n">char_range</span>

    <span class="k">def</span> <span class="nf">fuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;A string of `min_length` to `max_length` characters</span>
<span class="sd">           in the range [`char_start`, `char_start` + `char_range`]&quot;&quot;&quot;</span>
        <span class="n">string_length</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_length</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_length</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="n">out</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">string_length</span><span class="p">):</span>
            <span class="n">out</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">char_start</span><span class="p">,</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">char_start</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">char_range</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">out</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With <code>RandomFuzzer</code>, we can now create a fuzzer whose configuration needs to be specified only once when creating the fuzzer.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">random_fuzzer</span> <span class="o">=</span> <span class="n">RandomFuzzer</span><span class="p">(</span><span class="n">min_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">random_fuzzer</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;&gt;23&gt;33)(&amp;&#34;09.377.*3
*+:5 ? (?1$4&lt;&gt;!?3&gt;.&#39;
4+3/(3 (0%!&gt;!(+9%,#$
/51$2964&gt;;)2417&lt;9&#34;2&amp;
907.. !7:&amp;--&#34;=$7&#39;,7*
(5=5&#39;.!*+&amp;&gt;&#34;)6%9)=,/
?:&amp;5) &#34;;.0!=6&gt;3+&gt;)=,
6&amp;,?:!#2))- ?:)=63&#39;-
,)9#839%)?&amp;(0&lt;6(&#34;*;)
4?!(49+8=-&#39;&amp;499%?&lt; &#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now send such generated inputs to our previously defined <code>cat</code> runner, verifying that <code>cat</code> actually does copy its (fuzzed) input to its output.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">inp</span> <span class="o">=</span> <span class="n">random_fuzzer</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">cat</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span><span class="o">.</span><span class="n">stdout</span> <span class="o">==</span> <span class="n">inp</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Combining a <code>Fuzzer</code> with a <code>Runner</code>, however, is so common that we can use the <code>run()</code> method supplied by the <code>Fuzzer</code> class for this purpose:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">random_fuzzer</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">cat</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;?:+= % &lt;1&lt;6$:(&gt;=:9)5&#39;, stderr=&#39;&#39;)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With <code>runs()</code>, we can repeat a fuzzing run a number of times, obtaining a list of results.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">random_fuzzer</span><span class="o">.</span><span class="n">runs</span><span class="p">(</span><span class="n">cat</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;3976%%&amp;+%6=(1)3&amp;3:&lt;9&#39;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;33$#42$ 11=*%$20=&lt;.-&#39;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;&#34;?&lt;\&#39;#8 &lt;/:*%9.--\&#39;97!&#39;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#34;/0-#(03/!#60&#39;+6&gt;&amp;&amp;72&#34;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#34;=,+:,6&#39;5:950+&gt;&lt;3(*()&#34;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#34; 379+0?&#39;%3137=2:4605&#34;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#34;02&gt;!$&lt;/&#39;*81.#&lt;/22&gt;+:&#34;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#34;=-&lt;&#39;3-#88*%&amp;*9&lt; +1&amp;&amp;&#34;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;2;;0=3&amp;6=8&amp;30&amp;&lt;-;?*;&#39;, stderr=&#39;&#39;),
 CompletedProcess(args=&#39;cat&#39;, returncode=0, stdout=&#39;/#05=*3($&gt;::#7!0=12+&#39;, stderr=&#39;&#39;)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this, we have all in place to create fuzzers – starting with the simple random fuzzers introduced in this chapter, but even far more advanced ones.  Stay tuned!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>Randomly generating inputs ("fuzzing") is a simple, cost-effective way to quickly test arbitrary programs for their robustness.</li>
<li>Bugs fuzzers find are mainly due to errors and deficiencies in <em>input processing</em>.</li>
<li>To catch errors, have as many <em>consistency checkers</em> as possible.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We're done, so don't forget to clean up:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">os</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">FILE</span><span class="p">)</span>
<span class="n">os</span><span class="o">.</span><span class="n">removedirs</span><span class="p">(</span><span class="n">tempdir</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>From here, you can explore how to</p>
<ul>
<li><a href="MutationFuzzer.html">use <em>mutations</em> on existing inputs to get more valid inputs</a></li>
<li><a href="Grammars.html">use <em>grammars</em> to specify the input format and thus get many more valid inputs</a></li>
<li><a href="Reducing.html">reduce <em>failing inputs</em> for efficient debugging</a></li>
</ul>
<p>Enjoy the read!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One of the errors found by Miller et al. [<a href="https://doi.org/10.1145/96267.96279">Miller <em>et al</em>, 1990.</a>] involves the <em>troff</em> typesetting system.  <em>Troff</em> takes as input a text consisting of lines; a line beginning with a dot (<code>.</code>) includes typesetting commands, as in</p>

<pre><code>.NH
Some Heading
.LP
Some paragraph</code></pre>
<p>which would produce (using <code>nroff -ms</code>) the text</p>

<pre><code>1.  Some Heading

Some paragraph</code></pre>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At the time of Miller et al., <em>troff</em> would fail if its input included</p>
<ol>
<li>The input sequence <code>\D</code> (backslash + D) followed by a non-printable character</li>
<li>A single character of 8-bit input, followed by a newline character</li>
<li>A single dot (<code>.</code>), followed by a newline character.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Simulate-Troff">Exercise 1: Simulate Troff<a class="anchor-link" href="#Exercise-1:-Simulate-Troff">&#182;</a></h3><p>For each of the above, write a Python function <code>f(s)</code> that fails if <code>s</code> fulfills the failure criterion.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Run-Simulated-Troff">Exercise 2: Run Simulated Troff<a class="anchor-link" href="#Exercise-2:-Run-Simulated-Troff">&#182;</a></h3><p>Create a class <code>TroffRunner</code> as subclass of <code>Runner</code> that checks for the above predicates.  Run it with <code>Fuzzer</code>.  Be sure to have the <code>Fuzzer</code> object produce the entire range of characters.  Count how frequently the individual predicates fail.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-3:-Run-Real-Troff">Exercise 3: Run Real Troff<a class="anchor-link" href="#Exercise-3:-Run-Real-Troff">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using <code>BinaryProgramRunner</code>, apply the fuzzer you configured on the real <code>troff</code> program.  Check if you can produce any run whose output code is non-zero, indicating a failure or a crash.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Getting-Coverage">Getting Coverage<a class="anchor-link" href="#Getting-Coverage">&#182;</a></h1><p>In the <a href="Fuzzer.html">previous chapter</a>, we introduced <em>basic fuzzing</em> – that is, generating random inputs to test programs.  How do we measure the effectiveness of these tests?  One way would be to check the number (and seriousness) of bugs found; but if bugs are scarce, we need a <em>proxy for the likelihood of a test to uncover a bug.</em>  In this chapter, we introduce the concept of <em>code coverage</em>, measuring which parts of a program are actually executed during a test run.  Measuring such coverage is also crucial for test generators that attempt to cover as much code as possible.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You need basic understanding of how a program is executed.</li>
<li>You should have learned about basic fuzzing in the <a href="Fuzzer.html">previous chapter</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-CGI-Decoder">A CGI Decoder<a class="anchor-link" href="#A-CGI-Decoder">&#182;</a></h2><p>We start by introducing a simple Python function that decodes a CGI-encoded string.  CGI encoding is used in URLs (i.e., Web addresses) to encode characters that would be invalid in a URL, such as blanks and certain punctuation:</p>
<ul>
<li>Blanks are replaced by <code>'+'</code></li>
<li>Other invalid characters are replaced by '<code>%xx</code>', where <code>xx</code> is the two-digit hexadecimal equivalent.</li>
</ul>
<p>In CGI encoding, the string <code>"Hello, world!"</code> would thus become <code>"Hello%2c+world%21"</code> where <code>2c</code> and <code>21</code> are the hexadecimal numbers of <code>','</code> and <code>'!'</code>, respectively.</p>
<p>The function <code>cgi_decode()</code> takes such an encoded string and decodes it back to its original form.  Our implementation replicates the code from [<a href="http://ix.cs.uoregon.edu/~michal/book/">Pezzè <em>et al</em>, 2008.</a>].  (It even includes its bugs – but we won't reveal them at this point.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">cgi_decode</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Decode the CGI-encoded string `s`:</span>
<span class="sd">       * replace &quot;+&quot; by &quot; &quot;</span>
<span class="sd">       * replace &quot;%xx&quot; by the character with hex number xx.</span>
<span class="sd">       Return the decoded string.  Raise `ValueError` for invalid inputs.&quot;&quot;&quot;</span>

    <span class="c1"># Mapping of hex digits to their integer values</span>
    <span class="n">hex_values</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;4&#39;</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="s1">&#39;5&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span> <span class="s1">&#39;6&#39;</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;7&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">,</span> <span class="s1">&#39;8&#39;</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;f&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
        <span class="s1">&#39;A&#39;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s1">&#39;B&#39;</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span> <span class="s1">&#39;C&#39;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span> <span class="s1">&#39;D&#39;</span><span class="p">:</span> <span class="mi">13</span><span class="p">,</span> <span class="s1">&#39;E&#39;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span> <span class="s1">&#39;F&#39;</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
    <span class="p">}</span>

    <span class="n">t</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">+=</span> <span class="s1">&#39; &#39;</span>
        <span class="k">elif</span> <span class="n">c</span> <span class="o">==</span> <span class="s1">&#39;%&#39;</span><span class="p">:</span>
            <span class="n">digit_high</span><span class="p">,</span> <span class="n">digit_low</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">],</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span>
            <span class="n">i</span> <span class="o">+=</span> <span class="mi">2</span>
            <span class="k">if</span> <span class="n">digit_high</span> <span class="ow">in</span> <span class="n">hex_values</span> <span class="ow">and</span> <span class="n">digit_low</span> <span class="ow">in</span> <span class="n">hex_values</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="n">hex_values</span><span class="p">[</span><span class="n">digit_high</span><span class="p">]</span> <span class="o">*</span> <span class="mi">16</span> <span class="o">+</span> <span class="n">hex_values</span><span class="p">[</span><span class="n">digit_low</span><span class="p">]</span>
                <span class="n">t</span> <span class="o">+=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Invalid encoding&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">t</span> <span class="o">+=</span> <span class="n">c</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">return</span> <span class="n">t</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here is an example of how <code>cgi_decode()</code> works:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;Hello+world&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;Hello world&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we want to systematically test <code>cgi_decode()</code>, how would we proceed?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The testing literature distinguishes two ways of deriving tests: <em>Black-box testing</em> and <em>White-box testing.</em></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Black-Box-Testing">Black-Box Testing<a class="anchor-link" href="#Black-Box-Testing">&#182;</a></h2><p>The idea of <em>black-box testing</em> it to derive tests from the <em>specification</em>.  In the above case, we thus would have to test <code>cgi_decode()</code> by the features specified and documented, including</p>
<ul>
<li>testing for correct replacement of <code>'+'</code>;</li>
<li>testing for correct replacement of <code>"%xx"</code>;</li>
<li>testing for non-replacement of other characters; and</li>
<li>testing for recognition of illegal inputs.</li>
</ul>
<p>Here are four assertions (tests) that cover these four features.  We can see that they all pass:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span>
<span class="k">assert</span> <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;%20&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39; &#39;</span>
<span class="k">assert</span> <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;abc&#39;</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;%?a&#39;</span><span class="p">)</span>
    <span class="k">assert</span> <span class="kc">False</span>
<span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The advantage of black-box testing is that it finds errors in the <em>specified</em> behavior.  It is independent from a given implementation, and thus even allows to create test even before implementation.  The downside is that <em>implemented</em> behavior typically covers more ground than <em>specified</em> behavior, and thus tests based on specification alone typically do not cover all implementation details.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="White-Box-Testing">White-Box Testing<a class="anchor-link" href="#White-Box-Testing">&#182;</a></h2><p>In contrast to black-box testing, white-box testing derives tests from the <em>implementation</em>, notably the internal structure.  White-Box testing is closely tied to the concept of <em>covering</em> structural features of the code.  If a statement in the code is not executed during testing, for instance, this means that an error in this statement cannot be triggered either.  White-Box testing thus introduces a number of <em>coverage criteria</em> that have to be fulfilled before the test can be said to be sufficient.  The most frequently used coverage criteria are</p>
<ul>
<li><strong>Statement testing</strong> – each statement in the code must be executed at least once.</li>
<li><strong>Branch testing</strong> – each branch in the code must be taken at least once.  (This translates to each <code>if</code> and <code>while</code> decision once being true, and once being false.)</li>
</ul>
<p>Besides these, there are far more coverage criteria, including sequences of branches taken, loop iterations taken (zero, one, many), data flows between variable definitions and usages, and many more; [<a href="http://ix.cs.uoregon.edu/~michal/book/">Pezzè <em>et al</em>, 2008.</a>] has a great overview.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us consider <code>cgi_decode()</code>, above, and reason what we have to do such that each statement of the code is executed at least once.  We'd have to cover</p>
<ul>
<li>The block following <code>if c == '+'</code></li>
<li>The two blocks following <code>if c == '%'</code> (one for valid input, one for invalid)</li>
<li>The final <code>else</code> case for all other characters.</li>
</ul>
<p>This results in the same conditions as with black-box testing, above; again, the assertions above indeed would cover every statement in the code.  Such a correspondence is actually pretty common, since programmers tend to implement different behaviors in different code locations; and thus, covering these locations will lead to test cases that cover the different (specified) behaviors.</p>
<p>The advantage of white-box testing is that it finds errors in <em>implemented</em> behavior.  It can be conducted even in cases where the specification does not provide sufficient details; actually, it helps in identifying (and thus specifying) corner cases in the specification.  The downside is that it may miss <em>non-implemented</em> behavior: If some specified functionality is missing, white-box testing will not find it.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Tracing-Executions">Tracing Executions<a class="anchor-link" href="#Tracing-Executions">&#182;</a></h2><p>One nice feature of white-box testing is that one can actually automatically assess whether some program feature was covered.  To this end, one <em>instruments</em> the execution of the program such that during execution, a special functionality keeps track of which code was executed.  After testing, this information can be passed to the programmer, who can then focus on writing tests that cover the yet uncovered code.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In most programming languages, it is rather difficult to set up programs such that one can trace their execution.  Not so in Python.  The function <code>sys.settrace(f)</code> allows to define a function <code>f()</code> that is called for each and every line executed.  Even better, it gets access to the current function and its name, current variable contents, and more.  It is thus an ideal tool for <em>dynamic analysis</em> – that is, the analysis of what actually happens during an execution.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To illustrate how this works, let us again look into a specific execution of <code>cgi_decode()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;a+b&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;a b&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To track how the execution proceeds through <code>cgi_decode()</code>, we make use of <code>sys.settrace()</code>.  First, we define the <em>tracing function</em> that will be called for each line.  It has three parameters:</p>
<ul>
<li>the current <em>frame</em>, allowing access to the current location and variables;</li>
<li>the current <em>event</em>, a string with values including <code>"line"</code> (a new line has been reached) or <code>"call"</code> (a function is being called)</li>
<li>an additional <em>argument</em> for some events.</li>
</ul>
<p>We use the tracing function for simply reporting the current line executed, which we access through the <code>frame</code> argument.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">coverage</span> <span class="o">=</span> <span class="p">[]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">traceit</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;line&quot;</span><span class="p">:</span>
        <span class="k">global</span> <span class="n">coverage</span>
        <span class="n">function_name</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>
        <span class="n">lineno</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_lineno</span>
        <span class="n">coverage</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lineno</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">traceit</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can switch tracing on and off with <code>sys.settrace()</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">cgi_decode_traced</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">coverage</span>
    <span class="n">coverage</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="n">traceit</span><span class="p">)</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When we compute <code>cgi_decode("a+b")</code>, we can now see how the execution progresses through <code>cgi_decode()</code>.  After the initialization of <code>hex_values</code>, <code>t</code>, and <code>i</code>, we see that the <code>while</code> loop is taken three times – one for every character in the input.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode_traced</span><span class="p">(</span><span class="s2">&quot;a+b&quot;</span><span class="p">)</span>
<span class="n">coverage</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[9,
 10,
 11,
 12,
 15,
 16,
 17,
 18,
 19,
 21,
 30,
 31,
 17,
 18,
 19,
 20,
 31,
 17,
 18,
 19,
 21,
 30,
 31,
 17,
 32]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Which lines are these, actually?  To this end, we encode the source code into an array <code>cgi_decode_lines</code>.  (An actual coverage tool could also access the source code file directly.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">def cgi_decode(s):</span>
<span class="s2">    </span><span class="se">\&quot;\&quot;\&quot;</span><span class="s2">Decode the CGI-encoded string `s`:</span>
<span class="s2">       * replace &quot;+&quot; by &quot; &quot;</span>
<span class="s2">       * replace &quot;</span><span class="si">%x</span><span class="s2">x&quot; by the character with hex number xx.</span>
<span class="s2">       Return the decoded string.  Raise `ValueError` for invalid inputs.</span><span class="se">\&quot;\&quot;\&quot;</span><span class="s2"></span>

<span class="s2">    # Mapping of hex digits to their integer values</span>
<span class="s2">    hex_values = {</span>
<span class="s2">        &#39;0&#39;: 0, &#39;1&#39;: 1, &#39;2&#39;: 2, &#39;3&#39;: 3, &#39;4&#39;: 4,</span>
<span class="s2">        &#39;5&#39;: 5, &#39;6&#39;: 6, &#39;7&#39;: 7, &#39;8&#39;: 8, &#39;9&#39;: 9,</span>
<span class="s2">        &#39;a&#39;: 10, &#39;b&#39;: 11, &#39;c&#39;: 12, &#39;d&#39;: 13, &#39;e&#39;: 14, &#39;f&#39;: 15,</span>
<span class="s2">        &#39;A&#39;: 10, &#39;B&#39;: 11, &#39;C&#39;: 12, &#39;D&#39;: 13, &#39;E&#39;: 14, &#39;F&#39;: 15,</span>
<span class="s2">    }</span>

<span class="s2">    t = &quot;&quot;</span>
<span class="s2">    i = 0</span>
<span class="s2">    while i &lt; len(s):</span>
<span class="s2">        c = s[i]</span>
<span class="s2">        if c == &#39;+&#39;:</span>
<span class="s2">            t += &#39; &#39;</span>
<span class="s2">        elif c == &#39;%&#39;:</span>
<span class="s2">            digit_high, digit_low = s[i + 1], s[i + 2]</span>
<span class="s2">            i += 2</span>
<span class="s2">            if digit_high in hex_values and digit_low in hex_values:</span>
<span class="s2">                v = hex_values[digit_high] * 16 + hex_values[digit_low]</span>
<span class="s2">                t += chr(v)</span>
<span class="s2">            else:</span>
<span class="s2">                raise ValueError(&quot;Invalid encoding&quot;)</span>
<span class="s2">        else:</span>
<span class="s2">            t += c</span>
<span class="s2">        i += 1</span>
<span class="s2">    return t</span>
<span class="s2">&quot;&quot;&quot;</span>

<span class="n">cgi_decode_lines</span> <span class="o">=</span> <span class="n">cgi_decode_code</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that the first line (9) executed is actually the initialization of <code>hex_values</code>...</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode_lines</span><span class="p">[</span><span class="mi">9</span><span class="p">:</span><span class="mi">13</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#34;        &#39;0&#39;: 0, &#39;1&#39;: 1, &#39;2&#39;: 2, &#39;3&#39;: 3, &#39;4&#39;: 4,&#34;,
 &#34;        &#39;5&#39;: 5, &#39;6&#39;: 6, &#39;7&#39;: 7, &#39;8&#39;: 8, &#39;9&#39;: 9,&#34;,
 &#34;        &#39;a&#39;: 10, &#39;b&#39;: 11, &#39;c&#39;: 12, &#39;d&#39;: 13, &#39;e&#39;: 14, &#39;f&#39;: 15,&#34;,
 &#34;        &#39;A&#39;: 10, &#39;B&#39;: 11, &#39;C&#39;: 12, &#39;D&#39;: 13, &#39;E&#39;: 14, &#39;F&#39;: 15,&#34;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>... followed by the initialization of <code>t</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_decode_lines</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;    t = &#34;&#34;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To see which lines actually have been covered at least once, we can convert <code>coverage</code> into a set:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">covered_lines</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">coverage</span><span class="p">)</span>
<span class="n">covered_lines</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{9, 10, 11, 12, 15, 16, 17, 18, 19, 20, 21, 30, 31, 32}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us print out the code, annotating lines not covered with '#':</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">lineno</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">cgi_decode_lines</span><span class="p">)):</span>
    <span class="k">if</span> <span class="n">lineno</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">covered_lines</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;# &quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;  &quot;</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%2d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">lineno</span><span class="p">,</span> <span class="n">cgi_decode_lines</span><span class="p">[</span><span class="n">lineno</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>#  1 def cgi_decode(s):
#  2     &#34;&#34;&#34;Decode the CGI-encoded string `s`:
#  3        * replace &#34;+&#34; by &#34; &#34;
#  4        * replace &#34;%xx&#34; by the character with hex number xx.
#  5        Return the decoded string.  Raise `ValueError` for invalid inputs.&#34;&#34;&#34;
#  6 
#  7     # Mapping of hex digits to their integer values
#  8     hex_values = {
   9         &#39;0&#39;: 0, &#39;1&#39;: 1, &#39;2&#39;: 2, &#39;3&#39;: 3, &#39;4&#39;: 4,
  10         &#39;5&#39;: 5, &#39;6&#39;: 6, &#39;7&#39;: 7, &#39;8&#39;: 8, &#39;9&#39;: 9,
  11         &#39;a&#39;: 10, &#39;b&#39;: 11, &#39;c&#39;: 12, &#39;d&#39;: 13, &#39;e&#39;: 14, &#39;f&#39;: 15,
  12         &#39;A&#39;: 10, &#39;B&#39;: 11, &#39;C&#39;: 12, &#39;D&#39;: 13, &#39;E&#39;: 14, &#39;F&#39;: 15,
# 13     }
# 14 
  15     t = &#34;&#34;
  16     i = 0
  17     while i &lt; len(s):
  18         c = s[i]
  19         if c == &#39;+&#39;:
  20             t += &#39; &#39;
  21         elif c == &#39;%&#39;:
# 22             digit_high, digit_low = s[i + 1], s[i + 2]
# 23             i += 2
# 24             if digit_high in hex_values and digit_low in hex_values:
# 25                 v = hex_values[digit_high] * 16 + hex_values[digit_low]
# 26                 t += chr(v)
# 27             else:
# 28                 raise ValueError(&#34;Invalid encoding&#34;)
# 29         else:
  30             t += c
  31         i += 1
  32     return t
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that a number of lines (notably comments) have not been executed, simply because they are not executable.  However, we also see that the lines under <code>if c == '%'</code> have <em>not</em> been executed yet.  If <code>"a+b"</code> were our only test case so far, this missing coverage would now encourage us to create another test case that actually covers these lines.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Coverage-Class">A Coverage Class<a class="anchor-link" href="#A-Coverage-Class">&#182;</a></h2><p>In this book, we will make use of coverage again and again – to <em>measure</em> the effectiveness of different test generation techniques, but also to <em>guide</em> test generation towards code coverage.  Our previous implementation with a global <code>coverage</code> variable is a bit cumbersome for that.  We therefore implement some functionality that will help us measuring coverage easily.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The key idea of getting coverage is to make use of the Python <code>with</code> statement.  The general form</p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">OBJECT</span> <span class="p">[</span><span class="k">as</span> <span class="n">VARIABLE</span><span class="p">]:</span>
    <span class="n">BODY</span>
</pre></div>
<p>executes <code>BODY</code> with <code>OBJECT</code> being defined (and stored in <code>VARIABLE</code>).  The interesting thing is that at the beginning and end of <code>BODY</code>, the special methods <code>OBJECT.__enter__()</code> and <code>OBJECT.__exit__()</code> are automatically invoked; even if <code>BODY</code> raises an exception.  This allows us to define a <code>Coverage</code> object where <code>Coverage.__enter__()</code> automatically turns on tracing and <code>Coverage.__exit__()</code> automatically turns off tracing again.  After tracing, we can make use of special methods to access the coverage.  This is what this looks like during usage:</p>
<div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov</span><span class="p">:</span>
    <span class="n">function_to_be_traced</span><span class="p">()</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">cov</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>
<p>Here, tracing is automatically turned on during <code>function_to_be_traced()</code> and turned off again after the <code>with</code> block; afterwards, we can access the set of lines executed.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's the full implementation with all its bells and whistles.  You don't have to get everything; it suffices that you know how to use it:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Coverage</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># Trace function</span>
    <span class="k">def</span> <span class="nf">traceit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="s2">&quot;line&quot;</span><span class="p">:</span>
            <span class="n">function_name</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_code</span><span class="o">.</span><span class="n">co_name</span>
            <span class="n">lineno</span> <span class="o">=</span> <span class="n">frame</span><span class="o">.</span><span class="n">f_lineno</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_trace</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">function_name</span><span class="p">,</span> <span class="n">lineno</span><span class="p">))</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">traceit</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_trace</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="c1"># Start of `with` block</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">gettrace</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traceit</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># End of `with` block</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">trace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The list of executed lines, as (function_name, line_number) pairs&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_trace</span>

    <span class="k">def</span> <span class="nf">coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;The set of executed lines, as (function_name, line_number) pairs&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">trace</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us put this to use:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;a+b&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">cov</span><span class="o">.</span><span class="n">coverage</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>{(&#39;cgi_decode&#39;, 16), (&#39;cgi_decode&#39;, 10), (&#39;cgi_decode&#39;, 17), (&#39;cgi_decode&#39;, 11), (&#39;cgi_decode&#39;, 30), (&#39;cgi_decode&#39;, 31), (&#39;cgi_decode&#39;, 9), (&#39;cgi_decode&#39;, 32), (&#39;cgi_decode&#39;, 20), (&#39;cgi_decode&#39;, 21), (&#39;cgi_decode&#39;, 15), (&#39;cgi_decode&#39;, 18), (&#39;__exit__&#39;, 25), (&#39;cgi_decode&#39;, 12), (&#39;cgi_decode&#39;, 19)}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As you can see, the <code>Coverage()</code> class not only keeps track of lines executed, but also of function names.  This is useful if you have a program that spans multiple files.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Comparing-Coverage">Comparing Coverage<a class="anchor-link" href="#Comparing-Coverage">&#182;</a></h2><p>Since we represent coverage as a set of executed lines, we can also apply <em>set operations</em> on these.  For instance, we can find out which lines are covered by individual test cases, but not others:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov_plus</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;a+b&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov_standard</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;abc&quot;</span><span class="p">)</span>

<span class="n">cov_plus</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">cov_standard</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{(&#39;cgi_decode&#39;, 20)}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is the single line in the code that is executed only in the <code>'a+b'</code> input.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can also compare sets to find out which lines still need to be covered.  Let us define <code>cov_max</code> as the maximum coverage we can achieve. (Here, we do this by executing the "good" test cases we already have.  In practice, one would statically analyze code structure, which we introduce in the chapter on <a href="Static_Analysis.html">"Static Analysis"</a>.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov_max</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;+&#39;</span><span class="p">)</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;%20&#39;</span><span class="p">)</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;abc&#39;</span><span class="p">)</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">cgi_decode</span><span class="p">(</span><span class="s1">&#39;%?a&#39;</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Then, we can easily see which lines are <em>not</em> yet covered by a test case:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cov_max</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">cov_plus</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{(&#39;cgi_decode&#39;, 22),
 (&#39;cgi_decode&#39;, 23),
 (&#39;cgi_decode&#39;, 24),
 (&#39;cgi_decode&#39;, 25),
 (&#39;cgi_decode&#39;, 26),
 (&#39;cgi_decode&#39;, 28)}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, these would be the lines handling <code>"%xx"</code>, which we have not yet had in the input.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Coverage-of-Basic-Fuzzing">Coverage of Basic Fuzzing<a class="anchor-link" href="#Coverage-of-Basic-Fuzzing">&#182;</a></h2><p>We can now use our coverage tracing to assess the <em>effectiveness</em> of testing methods – in particular, of course, test <em>generation</em> methods.  Our challenge is to achieve maximum coverage in <code>cgi_decode()</code> just with random inputs.  In principle, we should <em>eventually</em> get there, as eventually, we will have produced every possible string in the universe – but exactly how long is this?  To this end, let us run just one fuzzing iteration on <code>cgi_decode()</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sample</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
<span class="n">sample</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;!7#%&#34;*#0=)$;%6*;&gt;638:*&gt;80&#34;=&lt;/&gt;(/*:-(2&lt;4 !:5*6856&amp;?&#34;&#34;11&lt;7+%&lt;%7,4.8,*+&amp;,,$,.&#34;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's the invocation and the coverage we achieve.  We wrap <code>cgi_decode()</code> in a <code>try...except</code> block such that we can ignore <code>ValueError</code> exceptions raised by illegal <code>%xx</code> formats.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov_fuzz</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">cgi_decode</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">pass</span>
<span class="n">cov_fuzz</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{(&#39;__exit__&#39;, 25),
 (&#39;cgi_decode&#39;, 9),
 (&#39;cgi_decode&#39;, 10),
 (&#39;cgi_decode&#39;, 11),
 (&#39;cgi_decode&#39;, 12),
 (&#39;cgi_decode&#39;, 15),
 (&#39;cgi_decode&#39;, 16),
 (&#39;cgi_decode&#39;, 17),
 (&#39;cgi_decode&#39;, 18),
 (&#39;cgi_decode&#39;, 19),
 (&#39;cgi_decode&#39;, 21),
 (&#39;cgi_decode&#39;, 22),
 (&#39;cgi_decode&#39;, 23),
 (&#39;cgi_decode&#39;, 24),
 (&#39;cgi_decode&#39;, 28),
 (&#39;cgi_decode&#39;, 30),
 (&#39;cgi_decode&#39;, 31)}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Is this already the maximum coverage?  Apparently, there are still lines missing:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cov_max</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">cov_fuzz</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{(&#39;cgi_decode&#39;, 20),
 (&#39;cgi_decode&#39;, 25),
 (&#39;cgi_decode&#39;, 26),
 (&#39;cgi_decode&#39;, 32)}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us try again, increasing coverage over 100 random inputs.  We use an array <code>cumulative_coverage</code> to store the coverage achieved over time; <code>cumulative_coverage[0]</code> is the total number of lines covered after input 1, 
<code>cumulative_coverage[1]</code> is the number of lines covered after inputs 1–2, and so on.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">population_coverage</span><span class="p">(</span><span class="n">population</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
    <span class="n">cumulative_coverage</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">all_coverage</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">population</span><span class="p">:</span>
        <span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">function</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="n">all_coverage</span> <span class="o">|=</span> <span class="n">cov</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
        <span class="n">cumulative_coverage</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">all_coverage</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">all_coverage</span><span class="p">,</span> <span class="n">cumulative_coverage</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's how the coverage increases with each input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">hundred_inputs</span><span class="p">():</span>
    <span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">fuzzer</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">population</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_coverage</span><span class="p">,</span> <span class="n">cumulative_coverage</span> <span class="o">=</span> <span class="n">population_coverage</span><span class="p">(</span>
    <span class="n">hundred_inputs</span><span class="p">(),</span> <span class="n">cgi_decode</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cumulative_coverage</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Coverage of cgi_decode() with random inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;# of inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;lines covered&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is just <em>one</em> run, of course; so let's repeat this a number of times and plot the averages.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">runs</span> <span class="o">=</span> <span class="mi">100</span>

<span class="c1"># Create an array with TRIALS elements, all zero</span>
<span class="n">sum_coverage</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">trials</span>

<span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">runs</span><span class="p">):</span>
    <span class="n">all_coverage</span><span class="p">,</span> <span class="n">coverage</span> <span class="o">=</span> <span class="n">population_coverage</span><span class="p">(</span><span class="n">hundred_inputs</span><span class="p">(),</span> <span class="n">cgi_decode</span><span class="p">)</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">coverage</span><span class="p">)</span> <span class="o">==</span> <span class="n">trials</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="n">sum_coverage</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+=</span> <span class="n">coverage</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="n">average_coverage</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="n">average_coverage</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">sum_coverage</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">/</span> <span class="n">runs</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">average_coverage</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Average coverage of cgi_decode() with random inputs&#39;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;# of inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;lines covered&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that on average, we get full coverage after 40–60 fuzzing inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Getting-Coverage-from-External-Programs">Getting Coverage from External Programs<a class="anchor-link" href="#Getting-Coverage-from-External-Programs">&#182;</a></h2><p>Of course, not all the world in programming in Python.  The good news is that the problem of obtaining coverage is ubiquitous, and almost every programming language has some facility to measure coverage.  Just as an example, let us therefore demonstrate how to obtain coverage for a C program.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our C program (again) implements <code>cgi_decode</code>; this time as a program to be executed from the command line:</p>
<div class="highlight"><pre><span></span>$ ./cgi_decode <span class="s1">&#39;Hello+World&#39;</span>
Hello World
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here comes the C code, first as a Python string.  We start with the usual C includes:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_c_code</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">/* CGI decoding as C program */</span>

<span class="s2">#include &lt;stdlib.h&gt;</span>
<span class="s2">#include &lt;string.h&gt;</span>
<span class="s2">#include &lt;stdio.h&gt;</span>

<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here comes the initialization of <code>hex_values</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_c_code</span> <span class="o">+=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">int hex_values[256];</span>

<span class="s2">void init_hex_values() {</span>
<span class="s2">    for (int i = 0; i &lt; sizeof(hex_values) / sizeof(int); i++) {</span>
<span class="s2">        hex_values[i] = -1;</span>
<span class="s2">    }</span>
<span class="s2">    hex_values[&#39;0&#39;] = 0; hex_values[&#39;1&#39;] = 1; hex_values[&#39;2&#39;] = 2; hex_values[&#39;3&#39;] = 3;</span>
<span class="s2">    hex_values[&#39;4&#39;] = 4; hex_values[&#39;5&#39;] = 5; hex_values[&#39;6&#39;] = 6; hex_values[&#39;7&#39;] = 7;</span>
<span class="s2">    hex_values[&#39;8&#39;] = 8; hex_values[&#39;9&#39;] = 9;</span>

<span class="s2">    hex_values[&#39;a&#39;] = 10; hex_values[&#39;b&#39;] = 11; hex_values[&#39;c&#39;] = 12; hex_values[&#39;d&#39;] = 13;</span>
<span class="s2">    hex_values[&#39;e&#39;] = 14; hex_values[&#39;f&#39;] = 15;</span>

<span class="s2">    hex_values[&#39;A&#39;] = 10; hex_values[&#39;B&#39;] = 11; hex_values[&#39;C&#39;] = 12; hex_values[&#39;D&#39;] = 13;</span>
<span class="s2">    hex_values[&#39;E&#39;] = 14; hex_values[&#39;F&#39;] = 15;</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's the actual implementation of <code>cgi_decode()</code>, using pointers for input source (<code>s</code>) and output target (<code>t</code>):</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_c_code</span> <span class="o">+=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">int cgi_decode(char *s, char *t) {</span>
<span class="s2">    while (*s != &#39;\0&#39;) {</span>
<span class="s2">        if (*s == &#39;+&#39;)</span>
<span class="s2">            *t++ = &#39; &#39;;</span>
<span class="s2">        else if (*s == &#39;%&#39;) {</span>
<span class="s2">            int digit_high = *++s;</span>
<span class="s2">            int digit_low = *++s;</span>
<span class="s2">            if (hex_values[digit_high] &gt;= 0 &amp;&amp; hex_values[digit_low] &gt;= 0) {</span>
<span class="s2">                *t++ = hex_values[digit_high] * 16 + hex_values[digit_low];</span>
<span class="s2">            }</span>
<span class="s2">            else</span>
<span class="s2">                return -1;</span>
<span class="s2">        }</span>
<span class="s2">        else</span>
<span class="s2">            *t++ = *s;</span>
<span class="s2">        s++;</span>
<span class="s2">    }</span>
<span class="s2">    *t = &#39;\0&#39;;</span>
<span class="s2">    return 0;</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Finally, here's a driver which takes the first argument and invokes <code>cgi_decode</code> with it:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_c_code</span> <span class="o">+=</span> <span class="sa">r</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">int main(int argc, char *argv[]) {</span>
<span class="s2">    init_hex_values();</span>

<span class="s2">    if (argc &gt;= 2) {</span>
<span class="s2">        char *s = argv[1];</span>
<span class="s2">        char *t = malloc(strlen(s)); /* output is at most as long as input */</span>
<span class="s2">        int ret = cgi_decode(s, t);</span>
<span class="s2">        printf(&quot;</span><span class="si">%s</span><span class="s2">\n&quot;, t);</span>
<span class="s2">        return ret;</span>
<span class="s2">    }</span>
<span class="s2">    else</span>
<span class="s2">    {</span>
<span class="s2">        printf(&quot;cgi_decode: usage: cgi_decode STRING\n&quot;);</span>
<span class="s2">        return 1;</span>
<span class="s2">    }</span>
<span class="s2">}</span>
<span class="s2">&quot;&quot;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us create the C source code:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>rm -f cgi_decode.*
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;cgi_decode.c&quot;</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">cgi_c_code</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now compile the C code into an executable.  The <code>--coverage</code> option instructs the C compiler to instrument the code such that at runtime, coverage information will be collected.  (The exact options vary from compiler to compiler.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>cc --coverage -o cgi_decode cgi_decode.c
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When we now execute the program, coverage information will automatically be collected and stored in auxiliary files:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>./cgi_decode <span class="s1">&#39;Send+mail+to+me%40fuzzingbook.org&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Send mail to me@fuzzingbook.org
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The coverage information is collected by the <code>gcov</code> program.  For every source file given, it produces a new <code>.gcov</code> file with coverage information.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>gcov cgi_decode.c
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>File &#39;cgi_decode.c&#39;
Lines executed:91.89% of 37
cgi_decode.c:creating &#39;cgi_decode.c.gcov&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the <code>.gcov</code> file, each line is prefixed with the number of times it was called (<code>-</code> stands for a non-executable line, <code>#####</code> stands for zero) as well as the line number.  We can take a look at <code>cgi_decode()</code>, for instance, and see that the only code not executed yet is the <code>return -1</code> for an illegal input.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;cgi_decode.c.gcov&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">50</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>        -:   26:int cgi_decode(char *s, char *t) {
       64:   27:    while (*s != &#39;\0&#39;) {
       31:   28:        if (*s == &#39;+&#39;)
        3:   29:            *t++ = &#39; &#39;;
       28:   30:        else if (*s == &#39;%&#39;) {
        1:   31:            int digit_high = *++s;
        1:   32:            int digit_low = *++s;
        2:   33:            if (hex_values[digit_high] &gt;= 0 &amp;&amp; hex_values[digit_low] &gt;= 0) {
        1:   34:                *t++ = hex_values[digit_high] * 16 + hex_values[digit_low];
        1:   35:            }
        -:   36:            else
    #####:   37:                return -1;
        1:   38:        }
        -:   39:        else
       27:   40:            *t++ = *s;
       31:   41:        s++;
        -:   42:    }
        1:   43:    *t = &#39;\0&#39;;
        1:   44:    return 0;
        1:   45:}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us read in this file to obtain a coverage set:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">read_gcov_coverage</span><span class="p">(</span><span class="n">c_file</span><span class="p">):</span>
    <span class="n">gcov_file</span> <span class="o">=</span> <span class="n">c_file</span> <span class="o">+</span> <span class="s2">&quot;.gcov&quot;</span>
    <span class="n">coverage</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="n">gcov_file</span><span class="p">)</span><span class="o">.</span><span class="n">readlines</span><span class="p">():</span>
        <span class="n">elems</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;:&#39;</span><span class="p">)</span>
        <span class="n">covered</span> <span class="o">=</span> <span class="n">elems</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">line_number</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">elems</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">covered</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">covered</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;#&#39;</span><span class="p">):</span>
            <span class="k">continue</span>
        <span class="n">coverage</span><span class="o">.</span><span class="n">add</span><span class="p">((</span><span class="n">c_file</span><span class="p">,</span> <span class="n">line_number</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">coverage</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">coverage</span> <span class="o">=</span> <span class="n">read_gcov_coverage</span><span class="p">(</span><span class="s1">&#39;cgi_decode.c&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">coverage</span><span class="p">)[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;cgi_decode.c&#39;, 62),
 (&#39;cgi_decode.c&#39;, 31),
 (&#39;cgi_decode.c&#39;, 41),
 (&#39;cgi_decode.c&#39;, 22),
 (&#39;cgi_decode.c&#39;, 32)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this set, we can now do the same coverage computations as with our Python programs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Finding-Errors-with-Basic-Fuzzing">Finding Errors with Basic Fuzzing<a class="anchor-link" href="#Finding-Errors-with-Basic-Fuzzing">&#182;</a></h2><p>Given sufficient time, we can indeed cover each and every line within <code>cgi_decode()</code>, whatever the programming language would be.  This does not mean that they would be error-free, though.  Since we do not check the result of <code>cgi_decode()</code>, the function could return any value without us checking or noticing.  To catch such errors, we would have to set up a <em>results checker</em> (commonly called an <em>oracle</em>) that would verify test results.  In our case, we could compare the C and Python implementations of <code>cgi_decode()</code> and see whether both produce the same results.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Where fuzzing is great at, though, is in finding <em>internal errors</em> that can be detected even without checking the result.  Actually, if one runs our <code>fuzzer()</code> on <code>cgi_decode()</code>, one quickly finds such an error, as the following code shows:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
            <span class="n">cgi_decode</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-48-086d4892c70e&gt;&#34;, line 5, in &lt;module&gt;
    cgi_decode(s)
  File &#34;&lt;ipython-input-1-4d0fb90b50b4&gt;&#34;, line 22, in cgi_decode
    digit_high, digit_low = s[i + 1], s[i + 2]
IndexError: string index out of range (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>So, it is possible to cause <code>cgi_decode()</code> to crash.  Why is that?  Let's take a look at its input:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">s</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;82 202*&amp;&lt;1&amp;($34\&#39;&#34;/\&#39;.&lt;5/!8&#34;\&#39;5:!4))%;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The problem here is at the end of the string.  After a <code>'%'</code> character, our implementation will always attempt to access two more (hexadecimal) characters, but if these are not there, we will get an <code>IndexError</code> exception.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This problem is also present in our C variant, which inherits it from the original implementation [<a href="http://ix.cs.uoregon.edu/~michal/book/">Pezzè <em>et al</em>, 2008.</a>]:</p>
<div class="highlight"><pre><span></span><span class="kt">int</span> <span class="n">digit_high</span> <span class="o">=</span> <span class="o">*++</span><span class="n">s</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">digit_low</span> <span class="o">=</span> <span class="o">*++</span><span class="n">s</span><span class="p">;</span>
</pre></div>
<p>Here, <code>s</code> is a pointer to the character to be read; <code>++</code> increments it by one character.
In the C implementation, the problem is actually much worse.  If the <code>'%'</code> character is at the end of the string, the above code will first read a terminating character (<code>'\0'</code> in C strings) and then the following character, which may be any memory content after the string, and which thus may cause the program to fail uncontrollably.  The somewhat good news is that <code>'\0'</code> is not a valid hexadecimal character, and thus, the C version will "only" read one character beyond the end of the string.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Interestingly enough, none of the manual tests we had designed earlier would trigger this bug.  Actually, neither statement nor branch coverage, nor any of the coverage criteria commonly discussed in literature would find it.  However, a simple fuzzing run can identify the error with a few runs – <em>if</em> appropriate run-time checks are in place that find such overflows.  This definitely calls for more fuzzing!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>Coverage metrics are a simple and fully automated means to approximate how much functionality of a program is actually executed during a test run.</li>
<li>A number of coverage metrics exist, the most important ones being statement coverage and branch coverage.</li>
<li>In Python, it is very easy to access the program state during execution, including the currently executed code.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At the end of the day, let's clean up:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>rm -f cgi_decode cgi_decode.*
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>Coverage is not only a tool to <em>measure</em> test effectiveness, but also a great tool to <em>guide</em> test generation towards specific goals – in particular uncovered code.  We use coverage to</p>
<ul>
<li><a href="MutationFuzzer.html">guide <em>mutations</em> of existing inputs towards better coverage in the chapter on mutation fuzzing</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Fixing-cgi_decode">Exercise 1: Fixing cgi_decode<a class="anchor-link" href="#Exercise-1:-Fixing-cgi_decode">&#182;</a></h3><p>Create an appropriate test to reproduce the <code>IndexError</code> discussed above.  Fix <code>cgi_decode()</code> to prevent the bug.  Show that your test (and additional <code>fuzzer()</code> runs) no longer expose the bug.  Do the same for the C variant.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Branch-Coverage">Exercise 2: Branch Coverage<a class="anchor-link" href="#Exercise-2:-Branch-Coverage">&#182;</a></h3><p>Besides statement coverage, <em>branch coverage</em> is one of the most frequently used criteria to determine the quality of a test.  In a nutshell, branch coverage measures how many different <em>control decisions</em> are made in code.  In the statement</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">CONDITION</span><span class="p">:</span>
    <span class="n">do_a</span><span class="p">()</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">do_b</span><span class="p">()</span>
</pre></div>
<p>for instance, both the cases where <code>CONDITION</code> is true (branching to <code>do_a()</code>) and where <code>CONDITION</code> is false (branching to <code>do_b()</code>) have to be covered.  This holds for all control statements with a condition (<code>if</code>, <code>while</code>, etc.).</p>
<p>How is branch coverage different from statement coverage?  In the above example, there is actually no difference.  In this one, though, there is:</p>
<div class="highlight"><pre><span></span><span class="k">if</span> <span class="n">CONDITION</span><span class="p">:</span>
    <span class="n">do_a</span><span class="p">()</span>
<span class="n">something_else</span><span class="p">()</span>
</pre></div>
<p>Using statement coverage, a single test case where <code>CONDITION</code> is true suffices to cover the call to <code>do_a()</code>.  Using branch coverage, however, we would also have to create a test case where <code>do_a()</code> is <em>not</em> invoked.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using our <code>Coverage</code> infrastructure, we can simulate branch coverage by considering  <em>pairs of subsequent lines executed</em>.  The <code>trace()</code> method gives us the list of lines executed one after the other:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov</span><span class="p">:</span>
    <span class="n">cgi_decode</span><span class="p">(</span><span class="s2">&quot;a+b&quot;</span><span class="p">)</span>
<span class="n">trace</span> <span class="o">=</span> <span class="n">cov</span><span class="o">.</span><span class="n">trace</span><span class="p">()</span>
<span class="n">trace</span><span class="p">[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;cgi_decode&#39;, 9),
 (&#39;cgi_decode&#39;, 10),
 (&#39;cgi_decode&#39;, 11),
 (&#39;cgi_decode&#39;, 12),
 (&#39;cgi_decode&#39;, 15)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-Compute-branch-coverage">Part 1: Compute branch coverage<a class="anchor-link" href="#Part-1:-Compute-branch-coverage">&#182;</a></h4><p>Define a function <code>branch_coverage()</code> that takes a trace and returns the set of pairs of subsequent lines in a trace – in the above example, this would be</p>
<div class="highlight"><pre><span></span><span class="nb">set</span><span class="p">(</span>
<span class="p">((</span><span class="s1">&#39;cgi_decode&#39;</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;cgi_decode&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span>
<span class="p">((</span><span class="s1">&#39;cgi_decode&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;cgi_decode&#39;</span><span class="p">,</span> <span class="mi">11</span><span class="p">)),</span>
<span class="c1"># more_pairs</span>
<span class="p">)</span>
</pre></div>
<p>Bonus for advanced Python programmers: Define <code>BranchCoverage</code> as subclass of <code>Coverage</code> and make <code>branch_coverage()</code> as above a <code>coverage()</code> method of <code>BranchCoverage</code>.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Comparing-statement-coverage-and-branch-coverage">Part 2: Comparing statement coverage and branch coverage<a class="anchor-link" href="#Part-2:-Comparing-statement-coverage-and-branch-coverage">&#182;</a></h4><p>Use <code>branch_coverage()</code> to repeat the experiments in this chapter with branch coverage rather than statement coverage.  Do the manually written test cases cover all branches?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-3:-Average-coverage">Part 3: Average coverage<a class="anchor-link" href="#Part-3:-Average-coverage">&#182;</a></h4><p>Again, repeat the above experiments with branch coverage.  Does <code>fuzzer()</code> cover all branches, and if so, how many tests does it take on average?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Mutation-Based-Fuzzing">Mutation-Based Fuzzing<a class="anchor-link" href="#Mutation-Based-Fuzzing">&#182;</a></h1><p>Most <a href="Fuzzer.html">randomly generated inputs</a> are syntactically <em>invalid</em> and thus are quickly rejected by the processing program.  To exercise functionality beyond input processing, we must increase chances to obtain valid inputs.  One such way is by <em>mutating</em> existing valid inputs – that is, introducing small changes that may still keep the input valid, yet exercise new behavior.  We show how to create such mutations, and how to guide them towards yet uncovered code, applying central concepts from the popular AFL fuzzer.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should know how basic fuzzing works; for instance, from the <a href="Fuzzer.html">"Fuzzing"</a> chapter.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Fuzzing-a-URL-Parser">Fuzzing a URL Parser<a class="anchor-link" href="#Fuzzing-a-URL-Parser">&#182;</a></h2><p>Many programs expect their inputs to come in a very specific format before they would actually process them.  As an example, think of a program that accepts a URL (a Web address).  The URL has to be in a valid format (i.e., the URL format) such that the program can deal with it.  When fuzzing with random inputs, what are our chances to actually produce a valid URL?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To get deeper into the problem, let us explore what URLs are made of.  A URL consists of a number of elements:</p>

<pre><code>scheme://netloc/path?query#fragment

</code></pre>
<p>where</p>
<ul>
<li><code>scheme</code> is the protocol to be used, including <code>http</code>, <code>https</code>, <code>ftp</code>, <code>file</code>...</li>
<li><code>netloc</code> is the name of the host to connect to, such as <code>www.google.com</code></li>
<li><code>path</code> is the path on that very host, such as <code>search</code></li>
<li><code>query</code> is a list of key/value pairs, such as <code>q=fuzzing</code></li>
<li><code>fragment</code> is a marker for a location in the retrieved document, such as <code>#result</code></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In Python, we can use the <code>urlparse()</code> function to parse and decompose a URL into its parts.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urlparse</span> <span class="k">import</span> <span class="n">urlparse</span>      <span class="c1"># Python 2</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">urlparse</span>  <span class="c1"># Python 3</span>

<span class="n">urlparse</span><span class="p">(</span><span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>ParseResult(scheme=&#39;http&#39;, netloc=&#39;www.google.com&#39;, path=&#39;/search&#39;, params=&#39;&#39;, query=&#39;q=fuzzing&#39;, fragment=&#39;&#39;)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see how the result encodes the individual parts of the URL in different attributes.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now assume we have a program that takes a URL as input.  To simplify things, we won't let it do very much; we simply have it check the passed URL for validity.  If the URL is valid, it returns True; otherwise, it raises an exception.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">http_program</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="n">supported_schemes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">urlparse</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">scheme</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">supported_schemes</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Scheme must be one of &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">supported_schemes</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">netloc</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Host must be non-empty&quot;</span><span class="p">)</span>

    <span class="c1"># Do something with the URL</span>
    <span class="k">return</span> <span class="kc">True</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now go and fuzz <code>http_program()</code>.  To fuzz, we use the full range of printable ASCII characters, such that <code>:</code>, <code>/</code>, and lowercase letters are included.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzzer</span><span class="p">(</span><span class="n">char_start</span><span class="o">=</span><span class="mi">32</span><span class="p">,</span> <span class="n">char_range</span><span class="o">=</span><span class="mi">96</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&#34;N&amp;+slk%h\x7fyp5o\&#39;@[3(rW*M5W]tMFPU4\\P@tz%[X?uo\\1?b4T;1bDeYtHx #UJ5w}pMmPodJM,_&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's try to fuzz with 1000 random inputs and see whether we have some success.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">url</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">http_program</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Success!&quot;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What are the chances of actually getting a valid URL?  We need our string to start with <code>"http://"</code> or <code>"https://"</code>.  Let's take the <code>"http://"</code> case first.  That's seven very specific characters we need to start with.  The chances of producing these seven characters randomly (with a character range of 96 different characters) is $1 : 96^7$, or</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">96</span> <span class="o">**</span> <span class="mi">7</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>75144747810816
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The odds of producing a <code>"https://"</code> prefix are even worse, at $1 : 96^8$:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">96</span> <span class="o">**</span> <span class="mi">8</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>7213895789838336
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>which gives us a total chance of</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">likelihood</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">96</span> <span class="o">**</span> <span class="mi">7</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">/</span> <span class="p">(</span><span class="mi">96</span> <span class="o">**</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">likelihood</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>1.344627131107667e-14
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>And this is the number of runs (on average) we'd need to produce a valid URL:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="mi">1</span> <span class="o">/</span> <span class="n">likelihood</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>74370059689055.02
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's measure how long one run of <code>http_program()</code> takes:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Timer</span> <span class="k">import</span> <span class="n">Timer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">url</span> <span class="o">=</span> <span class="n">fuzzer</span><span class="p">()</span>
            <span class="n">result</span> <span class="o">=</span> <span class="n">http_program</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Success!&quot;</span><span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">pass</span>

<span class="n">duration_per_run_in_seconds</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">()</span> <span class="o">/</span> <span class="n">trials</span>
<span class="n">duration_per_run_in_seconds</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>6.43049089703709e-05
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That's pretty fast, isn't it?  Unfortunately, we have a lot of runs to cover.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seconds_until_success</span> <span class="o">=</span> <span class="n">duration_per_run_in_seconds</span> <span class="o">*</span> <span class="p">(</span><span class="mi">1</span> <span class="o">/</span> <span class="n">likelihood</span><span class="p">)</span>
<span class="n">seconds_until_success</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>4782359918.425733
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>which translates into</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">hours_until_success</span> <span class="o">=</span> <span class="n">seconds_until_success</span> <span class="o">/</span> <span class="mi">3600</span>
<span class="n">days_until_success</span> <span class="o">=</span> <span class="n">hours_until_success</span> <span class="o">/</span> <span class="mi">24</span>
<span class="n">years_until_success</span> <span class="o">=</span> <span class="n">days_until_success</span> <span class="o">/</span> <span class="mf">365.25</span>
<span class="n">years_until_success</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>151.54384105336695
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Even if we parallelize things a lot, we're still in for months to years of waiting.  And that's for getting <em>one</em> successful run that will get deeper into <code>http_program()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What basic fuzzing will do well is to test <code>urlparse()</code>, and if there is an error in this parsing function, it has good chances of uncovering it.  But as long as we cannot produce a valid input, we are out of luck in reaching any deeper functionality.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Mutating-Inputs">Mutating Inputs<a class="anchor-link" href="#Mutating-Inputs">&#182;</a></h2><p>The alternative to generating random strings from scratch is to start with a given <em>valid</em> input, and then to subsequently <em>mutate</em> it.  A <em>mutation</em> in this context is a simple string manipulation - say, inserting a (random) character, deleting a character, or flipping a bit in a character representation.  Here are some mutations to get you started:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">delete_random_character</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns s with a random character deleted&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="n">pos</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="c1"># print(&quot;Deleting&quot;, repr(s[pos]), &quot;at&quot;, pos)</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="n">pos</span><span class="p">]</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed_input</span> <span class="o">=</span> <span class="s2">&quot;A quick brown fox&quot;</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">x</span> <span class="o">=</span> <span class="n">delete_random_character</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;A uick brown fox&#39;
&#39;A quic brown fox&#39;
&#39;A quick brown fo&#39;
&#39;A quic brown fox&#39;
&#39;A quick bown fox&#39;
&#39;A quick bown fox&#39;
&#39;A quick brown fx&#39;
&#39;A quick brown ox&#39;
&#39;A quick brow fox&#39;
&#39;A quic brown fox&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">insert_random_character</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns s with a random character inserted&quot;&quot;&quot;</span>
    <span class="n">pos</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="n">random_character</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">))</span>
    <span class="c1"># print(&quot;Inserting&quot;, repr(random_character), &quot;at&quot;, pos)</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="n">pos</span><span class="p">]</span> <span class="o">+</span> <span class="n">random_character</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">:]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">insert_random_character</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;A quick brvown fox&#39;
&#39;A quwick brown fox&#39;
&#39;A qBuick brown fox&#39;
&#39;A quick broSwn fox&#39;
&#39;A quick brown fvox&#39;
&#39;A quick brown 3fox&#39;
&#39;A quick brNown fox&#39;
&#39;A quick brow4n fox&#39;
&#39;A quick brown fox8&#39;
&#39;A equick brown fox&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">flip_random_character</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Returns s with a random bit flipped in a random position&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">s</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">s</span>

    <span class="n">pos</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">c</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span>
    <span class="n">bit</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
    <span class="n">new_c</span> <span class="o">=</span> <span class="nb">chr</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="o">^</span> <span class="n">bit</span><span class="p">)</span>
    <span class="c1"># print(&quot;Flipping&quot;, bit, &quot;in&quot;, repr(c) + &quot;, giving&quot;, repr(new_c))</span>
    <span class="k">return</span> <span class="n">s</span><span class="p">[:</span><span class="n">pos</span><span class="p">]</span> <span class="o">+</span> <span class="n">new_c</span> <span class="o">+</span> <span class="n">s</span><span class="p">[</span><span class="n">pos</span> <span class="o">+</span> <span class="mi">1</span><span class="p">:]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">flip_random_character</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;A quick bRown fox&#39;
&#39;A quici brown fox&#39;
&#39;A&#34;quick brown fox&#39;
&#39;A quick brown$fox&#39;
&#39;A quick bpown fox&#39;
&#39;A quick brown!fox&#39;
&#39;A 1uick brown fox&#39;
&#39;@ quick brown fox&#39;
&#39;A quic+ brown fox&#39;
&#39;A quick bsown fox&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now create a random mutator that randomly chooses which mutation to apply:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return s with a random mutation applied&quot;&quot;&quot;</span>
    <span class="n">mutators</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">delete_random_character</span><span class="p">,</span>
        <span class="n">insert_random_character</span><span class="p">,</span>
        <span class="n">flip_random_character</span>
    <span class="p">]</span>
    <span class="n">mutator</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">mutators</span><span class="p">)</span>
    <span class="c1"># print(mutator)</span>
    <span class="k">return</span> <span class="n">mutator</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">mutate</span><span class="p">(</span><span class="s2">&quot;A quick brown fox&quot;</span><span class="p">)))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&#39;A qzuick brown fox&#39;
&#39; quick brown fox&#39;
&#39;A quick Brown fox&#39;
&#39;A qMuick brown fox&#39;
&#39;A qu_ick brown fox&#39;
&#39;A quick bXrown fox&#39;
&#39;A quick brown fx&#39;
&#39;A quick!brown fox&#39;
&#39;A! quick brown fox&#39;
&#39;A quick brownfox&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The idea is now that <em>if</em> we have some valid input(s) to begin with, we may create more input candidates by applying one of the above mutations.  To see how this works, let's get back to URLs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Mutating-URLs">Mutating URLs<a class="anchor-link" href="#Mutating-URLs">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now get back to our URL parsing problem.  Let us create a function <code>is_valid_url()</code> that checks whether <code>http_program()</code> accepts the input.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_valid_url</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">http_program</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">is_valid_url</span><span class="p">(</span><span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">is_valid_url</span><span class="p">(</span><span class="s2">&quot;xyzzy&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now apply the <code>mutate()</code> function on a given URL and see how many valid inputs we obtain.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed_input</span> <span class="o">=</span> <span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span>
<span class="n">valid_inputs</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
<span class="n">trials</span> <span class="o">=</span> <span class="mi">20</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="n">inp</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">is_valid_url</span><span class="p">(</span><span class="n">inp</span><span class="p">):</span>
        <span class="n">valid_inputs</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now observe that by <em>mutating</em> the original input, we get a high proportion of valid inputs:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">valid_inputs</span><span class="p">)</span> <span class="o">/</span> <span class="n">trials</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>0.8
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What are the odds of also producing a <code>https:</code> prefix by mutating a <code>http:</code> sample seed input?  We have to insert ($1 : 3$) the right character <code>'s'</code> ($1 : 96$) into the correct position ($1 : l$), where $l$ is the length of our seed input.  This means that on average, we need this many runs:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="mi">96</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)</span>
<span class="n">trials</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>10944
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can actually afford this.  Let's try:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Timer</span> <span class="k">import</span> <span class="n">Timer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">trials</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">inp</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">seed_input</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">inp</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;https://&quot;</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;Success after&quot;</span><span class="p">,</span>
                <span class="n">trials</span><span class="p">,</span>
                <span class="s2">&quot;trials in&quot;</span><span class="p">,</span>
                <span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">(),</span>
                <span class="s2">&quot;seconds&quot;</span><span class="p">)</span>
            <span class="k">break</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Success after 3659 trials in 0.012454434065148234 seconds
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Of course, if we wanted to get, say, an <code>"ftp://"</code> prefix, we would need more mutations and more runs – most important, though, we would need to apply <em>multiple</em> mutations.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Multiple-Mutations">Multiple Mutations<a class="anchor-link" href="#Multiple-Mutations">&#182;</a></h2><p>So far, we have only applied one single mutation on a sample string.  However, we can also apply <em>multiple</em> mutations, further changing it.  What happens, for instance, if we apply, say, 20 mutations on our sample string?</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed_input</span> <span class="o">=</span> <span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span>
<span class="n">mutations</span> <span class="o">=</span> <span class="mi">50</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">inp</span> <span class="o">=</span> <span class="n">seed_input</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">mutations</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;mutations:&quot;</span><span class="p">,</span> <span class="nb">repr</span><span class="p">(</span><span class="n">inp</span><span class="p">))</span>
    <span class="n">inp</span> <span class="o">=</span> <span class="n">mutate</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 mutations: &#39;http://www.google.com/search?q=fuzzing&#39;
5 mutations: &#39;http:/L/www.googlej.com/seaRchq=fuz:ing&#39;
10 mutations: &#39;http:/L/www.ggoWglej.com/seaRchqfu:in&#39;
15 mutations: &#39;http:/L/wwggoWglej.com/seaR3hqf,u:in&#39;
20 mutations: &#39;htt://wwggoVgle&#34;j.som/seaR3hqf,u:in&#39;
25 mutations: &#39;htt://fwggoVgle&#34;j.som/eaRd3hqf,u^:in&#39;
30 mutations: &#39;htv://&gt;fwggoVgle&#34;j.qom/ea0Rd3hqf,u^:i&#39;
35 mutations: &#39;htv://&gt;fwggozVle&#34;\x7fj.qom/eapRd[3hqf,u^:i&#39;
40 mutations: &#39;htv\\://&gt;fwegozTle&#34;\x7fj.qom/eapd[38hqf,u^:i&#39;
45 mutations: &#39;htv\\://&gt;fweg]ozTle&#34;\x7fjM.qom/eap[8hqf,u^:i&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As you see, the original seed input is hardly recognizable anymore.  By mutating the input again and again, we get a higher variety in the input.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To implement such multiple mutations in a single package, let us introduce a <code>MutationFuzzer</code> class.  It takes a seed (a list of strings) and a minimum and maximum number of mutations.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">Fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MutationFuzzer</span><span class="p">(</span><span class="n">Fuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seed</span><span class="p">,</span> <span class="n">min_mutations</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_mutations</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seed</span> <span class="o">=</span> <span class="n">seed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_mutations</span> <span class="o">=</span> <span class="n">min_mutations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_mutations</span> <span class="o">=</span> <span class="n">max_mutations</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seed_index</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the following, let us develop <code>MutationFuzzer</code> further by adding more methods to it.  The Python language requires us to define an entire class with all methods as a single, continuous unit; however, we would like to introduce one method after another.  To avoid this problem, we use a special hack: Whenever we want to introduce a new method to some class <code>C</code>, we use the construct</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">new_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>This seems to define <code>C</code> as a subclass of itself, which would make no sense – but actually, it introduces a new <code>C</code> class as subclass of the old <code>C</code> class, and then shadowing the old <code>C</code> definition.  What this gets us is a <code>C</code> class with <code>new_method()</code> as a method, which is just what we want.  (<code>C</code> objects defined earlier will retain the earlier <code>C</code> definition, though, and thus must be rebuilt.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using this hack, we can now add a <code>mutate()</code> method that actually invokes the above <code>mutate()</code> function.  Having <code>mutate()</code> as a method is useful when we want to extend a <code>MutationFuzzer</code> later.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MutationFuzzer</span><span class="p">(</span><span class="n">MutationFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">mutate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">mutate</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's get back to our strategy, maximizing <em>diversity in coverage</em> in our population.  First, let us create a method <code>create_candidate()</code>, which randomly picks some input from our current population (<code>self.population</code>), and then applies between <code>min_mutations</code> and <code>max_mutations</code> mutation steps, returning the final result:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MutationFuzzer</span><span class="p">(</span><span class="n">MutationFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">create_candidate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">candidate</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="p">)</span>
        <span class="n">trials</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">min_mutations</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_mutations</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
            <span class="n">candidate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mutate</span><span class="p">(</span><span class="n">candidate</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">candidate</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The <code>fuzz()</code> method is set to first pick the seeds; when these are gone, we mutate:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MutationFuzzer</span><span class="p">(</span><span class="n">MutationFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed_index</span> <span class="o">&lt;</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">):</span>
            <span class="c1"># Still seeding</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seed</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">seed_index</span><span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">seed_index</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Mutating</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">inp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_candidate</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">inp</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed_input</span> <span class="o">=</span> <span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span>
<span class="n">mutation_fuzzer</span> <span class="o">=</span> <span class="n">MutationFuzzer</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="p">[</span><span class="n">seed_input</span><span class="p">])</span>
<span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;http://www.google.com/search?q=fuzzing&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;http://www.goglg.om/sarch?q=tzzine&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;htotq://www0.goo;@ge.cyom/earch?=fuzzi0ng&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With every new invocation of <code>fuzz()</code>, we get another variant with multiple mutations applied.  The higher variety in inputs, though, increases the risk of having an invalid input.  The key to success lies in the idea of <em>guiding</em> these mutations – that is, <em>keeping those that are especially valuable.</em></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Guiding-by-Coverage">Guiding by Coverage<a class="anchor-link" href="#Guiding-by-Coverage">&#182;</a></h2><p>To cover as much functionality as possible, one can rely on either <em>specified</em> or <em>implemented</em> functionality, as discussed in the <a href="Coverage.html">"Coverage"</a> chapter.  For now, we will not assume that there is a specification of program behavior (although it <em>definitely</em> would be good to have one!).  We <em>will</em> assume, though, that the program to be tested exists – and that we can leverage its structure to guide test generation.</p>
<p>Since testing always executes the program at hand, one can always gather information about its execution – the least is the information needed to decide whether a test passes or fails.  Since coverage is frequently measured as well to determine test quality, let us also assume we can retrieve coverage of a test run.  The question is then: <em>How can we leverage coverage to guide test generation?</em></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One particularly successful idea is implemented in the popular fuzzer named <a href="http://lcamtuf.coredump.cx/afl/"><em>American fuzzy lop</em></a>, or AFL for short.  Just like our examples above, AFL evolves test cases that have been successful – but for AFL, "success" means <em>finding a new path through the program execution</em>.  This way, AFL can keep on mutating inputs that so far have found new paths; and if an input finds another path, it will be retained as well.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us build such a strategy.  We start with introducing a <code>Runner</code> class that captures the coverage for a given function.  First, a <code>FunctionRunner</code> class:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">Runner</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">FunctionRunner</span><span class="p">(</span><span class="n">Runner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">function</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize.  `function` is a function to be executed&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">function</span> <span class="o">=</span> <span class="n">function</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">http_runner</span> <span class="o">=</span> <span class="n">FunctionRunner</span><span class="p">(</span><span class="n">http_program</span><span class="p">)</span>
<span class="n">http_runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;https://foo.bar/&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now extend the <code>FunctionRunner</code> class such that it also measures coverage.  After invoking <code>run()</code>, the <code>coverage()</code> method returns the coverage achieved in the last run, and <code>valid_input()</code> returns whether the input was accepted by the program.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Coverage</span> <span class="k">import</span> <span class="n">Coverage</span><span class="p">,</span> <span class="n">population_coverage</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">FunctionCoverageRunner</span><span class="p">(</span><span class="n">FunctionRunner</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">inp</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">with</span> <span class="n">Coverage</span><span class="p">()</span> <span class="k">as</span> <span class="n">cov</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">function</span><span class="p">(</span><span class="n">inp</span><span class="p">)</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_valid_input</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_valid_input</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_coverage</span> <span class="o">=</span> <span class="n">cov</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">result</span>

    <span class="k">def</span> <span class="nf">coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_coverage</span>

    <span class="k">def</span> <span class="nf">valid_input</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_valid_input</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">http_runner</span> <span class="o">=</span> <span class="n">FunctionCoverageRunner</span><span class="p">(</span><span class="n">http_program</span><span class="p">)</span>
<span class="n">http_runner</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="s2">&quot;https://foo.bar/&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's some of the locations covered:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">http_runner</span><span class="o">.</span><span class="n">coverage</span><span class="p">())[:</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;urlsplit&#39;, 405),
 (&#39;urlparse&#39;, 374),
 (&#39;_noop&#39;, 99),
 (&#39;urlparse&#39;, 370),
 (&#39;urlsplit&#39;, 400)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now for the main class.  We maintain the population and a set of coverages already achieved (<code>coverages_seen</code>).  The <code>fuzz()</code> helper function takes an input and runs the given <code>function()</code> on it.  If its coverage is new (i.e. not in <code>coverages_seen</code>), the input is added to <code>population</code> and the coverage to <code>coverages_seen</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">MutationCoverageFuzzer</span><span class="p">(</span><span class="n">MutationFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">reset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">coverages_seen</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">population</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">runner</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Run function(inp) while tracking coverage.</span>
<span class="sd">           If we reach new coverage,</span>
<span class="sd">           add inp to population and its coverage to population_coverage</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">runner</span><span class="p">)</span>
        <span class="n">new_coverage</span> <span class="o">=</span> <span class="nb">frozenset</span><span class="p">(</span><span class="n">runner</span><span class="o">.</span><span class="n">coverage</span><span class="p">())</span>
        <span class="k">if</span> <span class="n">runner</span><span class="o">.</span><span class="n">valid_input</span><span class="p">()</span> <span class="ow">and</span> <span class="n">new_coverage</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">coverages_seen</span><span class="p">:</span>
            <span class="c1"># We have new coverage</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">population</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">inp</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">coverages_seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">new_coverage</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">result</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now put this to use:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed_input</span> <span class="o">=</span> <span class="s2">&quot;http://www.google.com/search?q=fuzzing&quot;</span>
<span class="n">mutation_fuzzer</span> <span class="o">=</span> <span class="n">MutationCoverageFuzzer</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="p">[</span><span class="n">seed_input</span><span class="p">])</span>
<span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">runs</span><span class="p">(</span><span class="n">http_runner</span><span class="p">,</span> <span class="n">trials</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span>
<span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">population</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;http://www.google.com/search?q=fuzzing&#39;,
 &#39;http://w.google.com/search?q=fuzz`ing&#39;,
 &#39;Http://www.g/ogle.com/earchq=fuzzing&#39;,
 &#39;http://www.googme.com/sear#h?q=fuzzing&#39;,
 &#34;httP://www&gt;l&#39;oogle.CM&amp;m/search?q=fuzzing&#34;,
 &#34;httP://www&gt;l&#39;oogle.CM&amp;m/sefarch?q=;fuzzin&#34;,
 &#39;http://w.goglecom/sa3rchq=fuzinv|&#39;,
 &#39;http://www.gomgme.com\x0fser#h?q=fuzzing&#39;,
 &#39;http://wgoglecom/sa3rchq=fuzinv|&#39;,
 &#39;http://w&gt;woglecomsa3rchq=fuzinv|&#39;,
 &#39;HTtp://www.g/ogle.ckm/earchu=fu:ring&#39;,
 &#39;httP://www&gt;l%oogl.CM &amp;m/efrchq=;fuizzinT&#39;,
 &#39;httP://sww&gt;l#oom@gle.CI&amp;mg/searchx?q=fuzzingw&#39;,
 &#39;httP://sww&gt;l#oom@gle*CI&amp;mg/search:/1=fuzzingw&#39;,
 &#39;httP://www&gt;=l%oogl.M &amp;m/efrchq=;fuizzinT&#39;,
 &#39;http://w&gt;woglecTomqa3rchq=fuzinv&#39;,
 &#39;httP://www&gt;l%oogl&gt;CO&amp;oefrYchq=;fuizzinT&#39;,
 &#39;httP://www&gt;l%okl.C &amp;m/efrhqV=;fuizzinT/&#39;,
 &#39;httP://www&gt;l%oogm&gt;COI&amp;oerYchq=;fuizWinT&#39;,
 &#39;http://ww.gogle.bm/s;eqrh?q=fuzzi)ng&#39;,
 &#39;http://wwwf&gt;l%okl.C &amp;m/efrhqV=,;fuiz;zknT/&#39;,
 &#39;http://wwwf&gt;l%ol.C &amp;m/efrhqV=,;fuiz;zjnT/&#39;,
 &#39;http://wwwf&gt;l%okl.C fm/efrhyaV=,;fuiz;zknT&#39;,
 &#39;httP://www&gt;l%2ok.C &amp;m/efYrhqF=;firzinT/&#39;,
 &#39;httP://w&gt;l%too:gHl.\r &amp;mm/efrchq=;fui?zzinT&#39;,
 &#39;httP://w&gt;l%too:gHl.\r &amp;mm/efrchq=;fum?zzinT&#39;,
 &#39;http://wwwf&gt;%rok.C &amp;m/eJfrhqT=,;Efuiz;zkT+&#39;,
 &#39;httP://\x7fw\\w&gt;l%oogl.CM &amp;m/Fefrchq=;#GuDizzinT&#39;,
 &#39;http://wPwf.gmgme.com\x0fs?er#.1h?q=fuzzin&#39;,
 &#34;httP://www&gt;l&#39;oogle.CM&amp;m/sefcrc(/q=;fz#zin&#34;,
 &#39;http://wPwf.gmgme.com\x0f?er#.1h&gt;q=fuzzin&#39;,
 &#39;httP://wPwf&gt;gmgmg.com\x0f?e#.h?qfuzzien&#39;,
 &#39;http://ww.gogle.bm/s;eq;rh?q=f#uzzi)ng&#39;,
 &#34;httP://wPwf&gt;&#39;mgmg.com/?e#.?qfuzjien&#34;,
 &#39;http://wg.gOgLe.bm/{;feq;rh/q=f#uzz)ng&#39;,
 &#39;http://wg.gOgLe.bm/{;fq;rho q=f#uz)ng&#39;,
 &#39;http://w:.gOgLebm/{;f`eq;rh/q=f#uzGz)ng&#39;,
 &#39;http://ww.ogle.bm/s;eqrh@?q=fuzzi)ng&#39;,
 &#39;http://wg.gOgLe&gt;bm/{;fq;rho q=f#y8uz)n&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Success!  In our population, <em>each and every input</em> now is valid and has a different coverage, coming from various combinations of schemes, paths, queries, and fragments.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_coverage</span><span class="p">,</span> <span class="n">cumulative_coverage</span> <span class="o">=</span> <span class="n">population_coverage</span><span class="p">(</span>
    <span class="n">mutation_fuzzer</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">http_program</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cumulative_coverage</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Coverage of urlparse() with random inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;# of inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;lines covered&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The nice thing about this strategy is that, applied to larger programs, it will happily explore one path after the other – covering functionality after functionality.  All that is needed is a means to capture the coverage.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>Randomly generated inputs are frequently invalid – and thus exercise mostly input processing functionality.</li>
<li>Mutations from existing valid inputs have much higher chances to be valid, and thus to exercise functionality beyond input processing.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>Our aim is still to sufficiently cover functionality.  From here, we can continue with:</p>
<ol>
<li><p>Try to cover as much <em>implemented</em> functionality as possible.  To this end, we need to access the program implementation, measure which parts would actually be reached with our inputs, and use this <em>coverage</em> to guide our search.  We will explore this in the next chapter, which discusses <a href="Guided_Mutations.html">guided mutations</a>.</p>
</li>
<li><p>Try to cover as much <em>specified</em> functionality as possible.  Here, we would need a <em>specification of the input format,</em> distinguishing between individual input elements such as (in our case) numbers, operators, comments, and strings – and attempting to cover as many of these as possible.  We will explore this as it comes to <a href="Grammar_Testing.html">grammar-based testing</a>, and especially in <a href="Grammar_Mutations.html">grammar-based mutations</a>.</p>
</li>
</ol>
<p>Finally, the concept of a "population" that is systematically "evolved" through "mutations" will be explored in depth when discussing <a href="Search_Based_Testing.html">search-based testing</a>.  Enjoy!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Fuzzing-CGI-decode-with-Mutations">Exercise 1: Fuzzing CGI decode with Mutations<a class="anchor-link" href="#Exercise-1:-Fuzzing-CGI-decode-with-Mutations">&#182;</a></h3><p>Apply the above <em>guided</em> mutation-based fuzzing technique on <code>cgi_decode()</code> from the <a href="Coverage.html">"Coverage"</a> chapter.  How many trials do you need until you cover all variations of <code>+</code>, <code>%</code> (valid and invalid), and regular characters?</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Coverage</span> <span class="k">import</span> <span class="n">cgi_decode</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">seed</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Hello World&quot;</span><span class="p">]</span>
<span class="n">cgi_runner</span> <span class="o">=</span> <span class="n">FunctionCoverageRunner</span><span class="p">(</span><span class="n">cgi_decode</span><span class="p">)</span>
<span class="n">m</span> <span class="o">=</span> <span class="n">MutationCoverageFuzzer</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">runs</span><span class="p">(</span><span class="n">cgi_runner</span><span class="p">,</span> <span class="mi">10000</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span><span class="o">.</span><span class="n">population</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;Hello World&#39;, &#34;*He,&#39;n Wnrllf+&#34;, &#39;*H,%bfWnrLlf\t&#39;, &#39;*H-,%bfWoLVlb+&#39;]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">cgi_runner</span><span class="o">.</span><span class="n">coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{(&#39;__exit__&#39;, 25),
 (&#39;cgi_decode&#39;, 9),
 (&#39;cgi_decode&#39;, 10),
 (&#39;cgi_decode&#39;, 11),
 (&#39;cgi_decode&#39;, 12),
 (&#39;cgi_decode&#39;, 15),
 (&#39;cgi_decode&#39;, 16),
 (&#39;cgi_decode&#39;, 17),
 (&#39;cgi_decode&#39;, 18),
 (&#39;cgi_decode&#39;, 19),
 (&#39;cgi_decode&#39;, 20),
 (&#39;cgi_decode&#39;, 21),
 (&#39;cgi_decode&#39;, 30),
 (&#39;cgi_decode&#39;, 31),
 (&#39;cgi_decode&#39;, 32)}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_coverage</span><span class="p">,</span> <span class="n">cumulative_coverage</span> <span class="o">=</span> <span class="n">population_coverage</span><span class="p">(</span>
    <span class="n">m</span><span class="o">.</span><span class="n">population</span><span class="p">,</span> <span class="n">cgi_decode</span><span class="p">)</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">cumulative_coverage</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Coverage of cgi_decode() with random inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;# of inputs&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;lines covered&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>After 10,000 runs, we have managed to synthesize a <code>+</code> character and a valid <code>%xx</code> form.  We can still do better.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Fuzzing-bc-with-Mutations">Exercise 2: Fuzzing bc with Mutations<a class="anchor-link" href="#Exercise-2:-Fuzzing-bc-with-Mutations">&#182;</a></h3><p>Apply the above mutation-based fuzzing technique on <code>bc</code>, as in the chapter <a href="Fuzzer.html">"Introduction to Fuzzing"</a>.</p>
<h4 id="Part-1:-Non-Guided-Mutations">Part 1: Non-Guided Mutations<a class="anchor-link" href="#Part-1:-Non-Guided-Mutations">&#182;</a></h4><p>Start with non-guided mutations.  How many of the inputs are valid?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Guided-Mutations">Part 2: Guided Mutations<a class="anchor-link" href="#Part-2:-Guided-Mutations">&#182;</a></h4><p>Continue with <em>guided</em> mutations.  To this end, you will have to find a way to extract coverage from a C program such as <code>bc</code>.  Proceed in these steps:</p>
<p>First, get GNU bc <a href="https://www.gnu.org/software/bc/">from the source</a>; download, say, <code>bc-1.07.1.tar.gz</code> and unpack it:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>curl -O http://ftp.gnu.org/gnu/bc/bc-1.07.1.tar.gz
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current
                                 Dload  Upload   Total   Spent    Left  Speed
100  410k  100  410k    0     0   536k      0 --:--:-- --:--:-- --:--:--  535k
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>tar xfz bc-1.07.1.tar.gz
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Second, configure the package:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span><span class="nb">cd</span> bc-1.07.1<span class="p">;</span> ./configure
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>checking for a BSD-compatible install... /usr/local/bin/ginstall -c
checking whether build environment is sane... yes
checking for a thread-safe mkdir -p... /usr/local/bin/gmkdir -p
checking for gawk... no
checking for mawk... no
checking for nawk... no
checking for awk... awk
checking whether make sets $(MAKE)... yes
checking whether make supports nested variables... yes
checking for gcc... gcc
checking whether the C compiler works... yes
checking for C compiler default output file name... a.out
checking for suffix of executables... 
checking whether we are cross compiling... no
checking for suffix of object files... o
checking whether we are using the GNU C compiler... yes
checking whether gcc accepts -g... yes
checking for gcc option to accept ISO C89... none needed
checking whether gcc understands -c and -o together... yes
checking for style of include used by make... GNU
checking dependency style of gcc... gcc3
checking how to run the C preprocessor... gcc -E
checking for grep that handles long lines and -e... /usr/bin/grep
checking for egrep... /usr/bin/grep -E
checking for ANSI C header files... yes
checking for sys/types.h... yes
checking for sys/stat.h... yes
checking for stdlib.h... yes
checking for string.h... yes
checking for memory.h... yes
checking for strings.h... yes
checking for inttypes.h... yes
checking for stdint.h... yes
checking for unistd.h... yes
checking minix/config.h usability... no
checking minix/config.h presence... no
checking for minix/config.h... no
checking whether it is safe to define __EXTENSIONS__... yes
checking for flex... flex
checking lex output file root... lex.yy
checking lex library... -lfl
checking whether yytext is a pointer... yes
checking for ar... ar
checking the archiver (ar) interface... ar
checking for bison... bison -y
checking for ranlib... ranlib
checking whether make sets $(MAKE)... (cached) yes
checking for stdarg.h... yes
checking for stddef.h... yes
checking for stdlib.h... (cached) yes
checking for string.h... (cached) yes
checking for errno.h... yes
checking for limits.h... yes
checking for unistd.h... (cached) yes
checking for lib.h... no
checking for an ANSI C-conforming const... yes
checking for size_t... yes
checking for ptrdiff_t... yes
checking for vprintf... yes
checking for _doprnt... no
checking for isgraph... yes
checking for setvbuf... yes
checking for fstat... yes
checking for strtol... yes
Adding GCC specific compile flags.
checking that generated files are newer than configure... done
configure: creating ./config.status
config.status: creating Makefile
config.status: creating bc/Makefile
config.status: creating dc/Makefile
config.status: creating lib/Makefile
config.status: creating doc/Makefile
config.status: creating doc/texi-ver.incl
config.status: creating config.h
config.status: executing depfiles commands
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Third, compile the package with special flags:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span><span class="nb">cd</span> bc-1.07.1<span class="p">;</span> make <span class="nv">CFLAGS</span><span class="o">=</span><span class="s2">&quot;--coverage&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>/Applications/Xcode.app/Contents/Developer/usr/bin/make  all-recursive
Making all in lib
gcc -DHAVE_CONFIG_H  -I. -I..  -I. -I.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT getopt.o -MD -MP -MF .deps/getopt.Tpo -c -o getopt.o getopt.c
mv -f .deps/getopt.Tpo .deps/getopt.Po
gcc -DHAVE_CONFIG_H  -I. -I..  -I. -I.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT getopt1.o -MD -MP -MF .deps/getopt1.Tpo -c -o getopt1.o getopt1.c
mv -f .deps/getopt1.Tpo .deps/getopt1.Po
gcc -DHAVE_CONFIG_H  -I. -I..  -I. -I.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT vfprintf.o -MD -MP -MF .deps/vfprintf.Tpo -c -o vfprintf.o vfprintf.c
mv -f .deps/vfprintf.Tpo .deps/vfprintf.Po
gcc -DHAVE_CONFIG_H  -I. -I..  -I. -I.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT number.o -MD -MP -MF .deps/number.Tpo -c -o number.o number.c
mv -f .deps/number.Tpo .deps/number.Po
rm -f libbc.a
ar cru libbc.a getopt.o getopt1.o vfprintf.o number.o 
ranlib libbc.a
Making all in bc
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT main.o -MD -MP -MF .deps/main.Tpo -c -o main.o main.c
mv -f .deps/main.Tpo .deps/main.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT bc.o -MD -MP -MF .deps/bc.Tpo -c -o bc.o bc.c
mv -f .deps/bc.Tpo .deps/bc.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT scan.o -MD -MP -MF .deps/scan.Tpo -c -o scan.o scan.c
mv -f .deps/scan.Tpo .deps/scan.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT execute.o -MD -MP -MF .deps/execute.Tpo -c -o execute.o execute.c
mv -f .deps/execute.Tpo .deps/execute.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT load.o -MD -MP -MF .deps/load.Tpo -c -o load.o load.c
mv -f .deps/load.Tpo .deps/load.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT storage.o -MD -MP -MF .deps/storage.Tpo -c -o storage.o storage.c
mv -f .deps/storage.Tpo .deps/storage.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT util.o -MD -MP -MF .deps/util.Tpo -c -o util.o util.c
mv -f .deps/util.Tpo .deps/util.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT warranty.o -MD -MP -MF .deps/warranty.Tpo -c -o warranty.o warranty.c
mv -f .deps/warranty.Tpo .deps/warranty.Po
echo &#39;{0}&#39; &gt; libmath.h
/Applications/Xcode.app/Contents/Developer/usr/bin/make global.o
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT global.o -MD -MP -MF .deps/global.Tpo -c -o global.o global.c
mv -f .deps/global.Tpo .deps/global.Po
gcc -g -O2 -Wall -funsigned-char --coverage   -o libmath.h -o fbc main.o bc.o scan.o execute.o load.o storage.o util.o warranty.o global.o ../lib/libbc.a -lfl  
./fbc -c ./libmath.b &lt;/dev/null &gt;libmath.h
./fix-libmath_h
2655
2793
rm -f ./fbc ./global.o
gcc -DHAVE_CONFIG_H -I. -I..  -I. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT global.o -MD -MP -MF .deps/global.Tpo -c -o global.o global.c
mv -f .deps/global.Tpo .deps/global.Po
gcc -g -O2 -Wall -funsigned-char --coverage   -o bc main.o bc.o scan.o execute.o load.o storage.o util.o global.o warranty.o ../lib/libbc.a -lfl  
Making all in dc
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT dc.o -MD -MP -MF .deps/dc.Tpo -c -o dc.o dc.c
mv -f .deps/dc.Tpo .deps/dc.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT misc.o -MD -MP -MF .deps/misc.Tpo -c -o misc.o misc.c
mv -f .deps/misc.Tpo .deps/misc.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT eval.o -MD -MP -MF .deps/eval.Tpo -c -o eval.o eval.c
mv -f .deps/eval.Tpo .deps/eval.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT stack.o -MD -MP -MF .deps/stack.Tpo -c -o stack.o stack.c
mv -f .deps/stack.Tpo .deps/stack.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT array.o -MD -MP -MF .deps/array.Tpo -c -o array.o array.c
mv -f .deps/array.Tpo .deps/array.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT numeric.o -MD -MP -MF .deps/numeric.Tpo -c -o numeric.o numeric.c
mv -f .deps/numeric.Tpo .deps/numeric.Po
gcc -DHAVE_CONFIG_H -I. -I..  -I./.. -I./../h  -g -O2 -Wall -funsigned-char --coverage -MT string.o -MD -MP -MF .deps/string.Tpo -c -o string.o string.c
mv -f .deps/string.Tpo .deps/string.Po
gcc -g -O2 -Wall -funsigned-char --coverage   -o dc dc.o misc.o eval.o stack.o array.o numeric.o string.o ../lib/libbc.a 
Making all in doc
restore=: &amp;&amp; backupdir=&#34;.am$$&#34; &amp;&amp; \
	am__cwd=`pwd` &amp;&amp; CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd . &amp;&amp; \
	rm -rf $backupdir &amp;&amp; mkdir $backupdir &amp;&amp; \
	if (makeinfo --no-split --version) &gt;/dev/null 2&gt;&amp;1; then \
	  for f in bc.info bc.info-[0-9] bc.info-[0-9][0-9] bc.i[0-9] bc.i[0-9][0-9]; do \
	    if test -f $f; then mv $f $backupdir; restore=mv; else :; fi; \
	  done; \
	else :; fi &amp;&amp; \
	cd &#34;$am__cwd&#34;; \
	if makeinfo --no-split   -I . \
	 -o bc.info bc.texi; \
	then \
	  rc=0; \
	  CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd .; \
	else \
	  rc=$?; \
	  CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd . &amp;&amp; \
	  $restore $backupdir/* `echo &#34;./bc.info&#34; | sed &#39;s|[^/]*$||&#39;`; \
	fi; \
	rm -rf $backupdir; exit $rc
restore=: &amp;&amp; backupdir=&#34;.am$$&#34; &amp;&amp; \
	am__cwd=`pwd` &amp;&amp; CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd . &amp;&amp; \
	rm -rf $backupdir &amp;&amp; mkdir $backupdir &amp;&amp; \
	if (makeinfo --no-split --version) &gt;/dev/null 2&gt;&amp;1; then \
	  for f in dc.info dc.info-[0-9] dc.info-[0-9][0-9] dc.i[0-9] dc.i[0-9][0-9]; do \
	    if test -f $f; then mv $f $backupdir; restore=mv; else :; fi; \
	  done; \
	else :; fi &amp;&amp; \
	cd &#34;$am__cwd&#34;; \
	if makeinfo --no-split   -I . \
	 -o dc.info dc.texi; \
	then \
	  rc=0; \
	  CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd .; \
	else \
	  rc=$?; \
	  CDPATH=&#34;${ZSH_VERSION+.}:&#34; &amp;&amp; cd . &amp;&amp; \
	  $restore $backupdir/* `echo &#34;./dc.info&#34; | sed &#39;s|[^/]*$||&#39;`; \
	fi; \
	rm -rf $backupdir; exit $rc
make[3]: Nothing to be done for `all-am&#39;.
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The file <code>bc/bc</code> should now be executable...</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span><span class="nb">cd</span> bc-1.07.1/bc<span class="p">;</span> <span class="nb">echo</span> <span class="m">2</span> + <span class="m">2</span> <span class="p">|</span> ./bc
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>4
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>...and you should be able to run the <code>gcov</code> program to retrieve coverage information.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span><span class="nb">cd</span> bc-1.07.1/bc<span class="p">;</span> gcov main.c
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>File &#39;main.c&#39;
Lines executed:51.69% of 118
main.c:creating &#39;main.c.gcov&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>As sketched in the <a href="Coverage.html">"Coverage" chapter</a>, the file <a href="bc-1.07.1/bc/main.c.gcov">bc-1.07.1/bc/main.c.gcov</a> now holds the coverage information for <code>bc.c</code>.  Each line is prefixed with the number of times it was executed. <code>#####</code> means zero times; <code>-</code> means non-executable line.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Parse the GCOV file for <code>bc</code> and create a <code>coverage</code> set, as in <code>FunctionCoverageRunner</code>.  Make this a <code>ProgramCoverageRunner</code> class that would be constructed with a list of source files (<code>bc.c</code>, <code>main.c</code>, <code>load.c</code>) to run <code>gcov</code> on.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>When you're done, don't forget to clean up:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>rm -fr bc-1.07.1 bc-1.07.1.tar.gz
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-3">Exercise 3<a class="anchor-link" href="#Exercise-3">&#182;</a></h3><p>In this <a href="https://lcamtuf.blogspot.com/2014/08/binary-fuzzing-strategies-what-works.html">blog post</a>, the author of <em>American Fuzzy Lop</em> (AFL), a very popular mutation-based fuzzer discusses the efficiency of various mutation operators.  Implement four of them and evaluate their efficiency as in the examples above.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-4">Exercise 4<a class="anchor-link" href="#Exercise-4">&#182;</a></h3><p>When adding a new element to the list of candidates, AFL does actually not compare the <em>coverage</em>, but adds an element if it exercises a new <em>branch</em>.  Using branch coverage from the exercises of the <a href="Coverage.html">"Coverage"</a> chapter, implement this "branch" strategy and compare it against the "coverage" strategy, above.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-5">Exercise 5<a class="anchor-link" href="#Exercise-5">&#182;</a></h3><p>Design and implement a system that will gather a population of URLs from the Web.  Can you achieve a higher coverage with these samples?  What if you use them as initial population for further mutation?</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Fuzzing-with-Grammars">Fuzzing with Grammars<a class="anchor-link" href="#Fuzzing-with-Grammars">&#182;</a></h1><p>In the chapter on <a href="MutationFuzzer.html">"Mutation-Based Fuzzing"</a>, we have seen how to use extra hints – such as sample input files – to speed up test generation.  In this chapter, we take this idea one step further, by providing a <em>specification</em> of the legal inputs to a program.  These <em>grammars</em> allow for very systematic and efficient test generation, in particular for complex input formats.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should know how basic fuzzing works, e.g. from the <a href="Fuzzer.html">Chapter introducing fuzzing</a>.</li>
<li>Knowledge on <a href="MutationFuzzer.html">mutation-based fuzzing</a> and <a href="Coverage.html">coverage</a> is <em>not</em> required yet, but still recommended.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Input-Languages">Input Languages<a class="anchor-link" href="#Input-Languages">&#182;</a></h2><p>All possible behaviors of a program can be triggered by its input.  "Input" here can be a wide range of possible sources: We are talking about data read from files, from the environment, or over the network, data input by the user, or data acquired from interaction with other resources.  The set of all these inputs determines how the program will behave – including its failures.  When testing, it is thus very helpful to think about possible input sources, how to get them under control, and <em>how to systematically test them</em>.</p>
<p>For the sake of simplicity, we will assume for now that the program has only one source of inputs; this is the same assumption we have been using in the previous chapters, too.  The set of valid inputs to a program is called a <em>language</em>.  Languages range from the simple to the complex: the CSV language denotes the set of valid comma-separated inputs, whereas the Python language denotes the set of valid Python programs.  We commonly separate data languages and programming languages, although any program can also be treated as input data (say, to a compiler).  The <a href="https://en.wikipedia.org/wiki/List_of_file_formats">Wikipedia page on file formats</a> lists more than 1,000 different file formats, each of which is its own language.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To formally describe languages, the field of <em>formal languages</em> has devised a number of <em>language specifications</em> that describe a language.  <em>Regular expressions</em>, for instance, denote sets of strings: The regular expression <code>[a-z]*</code>, for instance, denotes a (possibly empty) sequence of lowercase letters.  <em>Automata theory</em> connects these languages to automata that accept these inputs; <em>finite state machines</em>, for instance, can be used to specify the same language as regular expressions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Regular expressions are great for not-too-complex input formats, and the associated finite state machine have many properties that make them great for reasoning.  To specify more complex inputs, though, they quickly encounter limitations.  On the other hand of the language spectrum, we have <em>universal grammars</em> that denote the language accepted by <em>Turing machines</em>.  A Turing machine can compute anything that can be computed; and with Python being a Turing-complete language, this means that we can also use a Python program $p$ to specify or even enumerate legal inputs.  But then, computer science theory also tells us that each such testing program has to be written specifically for the program to be tested, which is not the level of automation we want.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Grammars">Grammars<a class="anchor-link" href="#Grammars">&#182;</a></h2><p>The middle ground between regular expressions and Turing machines is covered by <em>grammars</em>.  Grammars are among the most popular (and best understood) formalisms to formally specify input languages.  Using a grammar, one can express a wide range of the properties of an input language.  Grammars are particularly great for expressing the <em>syntactical structure</em> of an input, and are the formalism of choice to express nested or recursive inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Rules-and-Expansions">Rules and Expansions<a class="anchor-link" href="#Rules-and-Expansions">&#182;</a></h3><p>A grammar consists of a <em>start symbol</em> and a set of <em>rules</em> which indicate how the start symbol (and other symbols) can be expanded.  As an example, consider the following grammar, denoting a sequence of two digits:</p>

<pre><code>&lt;start&gt; ::= &lt;digit&gt;&lt;digit&gt;
&lt;digit&gt; ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</code></pre>
<p>To read such a grammar, start with the starting symbol (<code>&lt;start&gt;</code>).  A rule <code>&lt;A&gt; ::= &lt;B&gt;</code> means that the symbol on the left side (<code>&lt;A&gt;</code>) can be replaced by the string on the right side (<code>&lt;B&gt;</code>).  In the above grammar, <code>&lt;start&gt;</code> would be replaced by <code>&lt;digit&gt;&lt;digit&gt;</code>.</p>
<p>In this string again, <code>&lt;digit&gt;</code> would be replaced by the string on the right side of the <code>&lt;digit&gt;</code> rule.  The special operator <code>|</code> denotes <em>alternatives</em>, meaning that any of the digits can be chosen for an expansion.  Each <code>&lt;digit&gt;</code> thus would be expanded into one of the given digits, eventually yielding a string between <code>00</code> and <code>99</code>.  There are no further expansions for <code>0</code> to <code>9</code>, so we are all set.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The interesting thing about grammars is that they can be <em>recursive</em>. That is, expansions can make use of symbols expanded earlier – which would then be expanded again.  As an example, consider a grammar that describes integers:</p>

<pre><code>&lt;start&gt;  ::= &lt;integer&gt;
&lt;integer&gt; ::= &lt;digit&gt; | &lt;digit&gt;&lt;integer&gt;
&lt;digit&gt;   ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</code></pre>
<p>Here, a <code>&lt;integer&gt;</code> is either a single digit, or a digit followed by another integer.  The number <code>1234</code> thus would be represented as a single digit <code>1</code>, followed by the integer <code>234</code>, which in turn is a digit <code>2</code>, followed by the integer <code>34</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If we wanted to express that an integer can be preceded by a sign (<code>+</code> or <code>-</code>), we would write the grammar as</p>

<pre><code>&lt;start&gt;   ::= &lt;number&gt;
&lt;number&gt;  ::= &lt;integer&gt; | +&lt;integer&gt; | -&lt;integer&gt;
&lt;integer&gt; ::= &lt;digit&gt; | &lt;digit&gt;&lt;integer&gt;
&lt;digit&gt;   ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</code></pre>
<p>These rules formally define the language: Anything that can be derived from the start symbol is part of the language; anything that cannot is not.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Arithmetic-Expressions">Arithmetic Expressions<a class="anchor-link" href="#Arithmetic-Expressions">&#182;</a></h3><p>Let us expand our grammar to cover full <em>arithmetic expressions</em> – a poster child example for a grammar.  We see that an expression (<code>&lt;expr&gt;</code>) is either a sum, or a difference, or a term; a term is either a product or a division, or a factor; and a factor is either a number or a parenthesized expression.  Almost all rules can have recursion, and thus allow arbitrary complex expressions such as <code>(1 + 2) * (3.4 / 5.6 - 789)</code>.</p>

<pre><code>&lt;start&gt;   ::= &lt;expr&gt;
&lt;expr&gt;    ::= &lt;term&gt; + &lt;expr&gt; | &lt;term&gt; - &lt;expr&gt; | &lt;term&gt;
&lt;term&gt;    ::= &lt;term&gt; * &lt;factor&gt; | &lt;term&gt; / &lt;factor&gt; | &lt;factor&gt;
&lt;factor&gt;  ::= +&lt;factor&gt; | -&lt;factor&gt; | (&lt;expr&gt;) | &lt;integer&gt; | &lt;integer&gt;.&lt;integer&gt;
&lt;integer&gt; ::= &lt;digit&gt;&lt;integer&gt; | &lt;digit&gt;
&lt;digit&gt;   ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</code></pre>
<p>In such a grammar, if we start with <code>&lt;start&gt;</code> and then expand one symbol after another, randomly choosing alternatives, we can quickly produce one valid arithmetic expression after another.  Such <em>grammar fuzzing</em> is highly effective as it comes to produce complex inputs, and this is what we will implement in this chapter.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Representing-Grammars-in-Python">Representing Grammars in Python<a class="anchor-link" href="#Representing-Grammars-in-Python">&#182;</a></h2><p>Our first step in building a grammar fuzzer is to find an appropriate format for grammars.  To make the writing of grammars as simple as possible, we use a mostly format that is mostly based on strings.  Our grammars in Python takes the format of a <em>mapping</em> between symbol names and expansions, where expansions are <em>lists</em> of alternatives.  A one-rule grammar for digits thus takes the form</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">DIGIT_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>whereas the full grammar for arithmetic expressions looks like this:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EXPR_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;term&gt; + &lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;term&gt; - &lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;factor&gt; * &lt;term&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;factor&gt; / &lt;term&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;factor&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;factor&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;+&lt;factor&gt;&quot;</span><span class="p">,</span>
         <span class="s2">&quot;-&lt;factor&gt;&quot;</span><span class="p">,</span>
         <span class="s2">&quot;(&lt;expr&gt;)&quot;</span><span class="p">,</span>
         <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">,</span>
         <span class="s2">&quot;&lt;integer&gt;.&lt;integer&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&lt;integer&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the grammar, we can access any rule by its symbol...</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EXPR_GRAMMAR</span><span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>....and we can check whether a symbol is in the grammar:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="s2">&quot;&lt;identifier&gt;&quot;</span> <span class="ow">in</span> <span class="n">EXPR_GRAMMAR</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>False
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Some-Definitions">Some Definitions<a class="anchor-link" href="#Some-Definitions">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We assume that the canonical start symbol is <code>&lt;start&gt;</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">START_SYMBOL</span> <span class="o">=</span> <span class="s2">&quot;&lt;start&gt;&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The handy <code>nonterminals()</code> function extracts the list of nonterminal symbols (i.e., anything between <code>&lt;</code> and <code>&gt;</code>, except spaces) from an expansion.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">RE_NONTERMINAL</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(&lt;[^&lt;&gt; ]*&gt;)&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
    <span class="c1"># In later chapters, we allow expansions to be tuples,</span>
    <span class="c1"># with the expansion being the first element</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">nonterminals</span><span class="p">(</span><span class="s2">&quot;&lt;term&gt; * &lt;factor&gt;&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;factor&gt;&quot;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">nonterminals</span><span class="p">(</span><span class="s2">&quot;&lt;digit&gt;&lt;integer&gt;&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">nonterminals</span><span class="p">(</span><span class="s2">&quot;1 &lt; 3 &gt; 2&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[]</span>
<span class="k">assert</span> <span class="n">nonterminals</span><span class="p">(</span><span class="s2">&quot;1 &lt;3&gt; 2&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;&lt;3&gt;&quot;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">nonterminals</span><span class="p">(</span><span class="s2">&quot;1 + 2&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[]</span>
<span class="k">assert</span> <span class="n">nonterminals</span><span class="p">((</span><span class="s2">&quot;&lt;1&gt;&quot;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;option&#39;</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">}))</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;&lt;1&gt;&quot;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Likewise, <code>is_nonterminal()</code> checks whether some symbol is a nonterminal:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_nonterminal</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">is_nonterminal</span><span class="p">(</span><span class="s2">&quot;&lt;abc&gt;&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">is_nonterminal</span><span class="p">(</span><span class="s2">&quot;&lt;symbol-1&gt;&quot;</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">is_nonterminal</span><span class="p">(</span><span class="s2">&quot;+&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="A-Simple-Grammar-Fuzzer">A Simple Grammar Fuzzer<a class="anchor-link" href="#A-Simple-Grammar-Fuzzer">&#182;</a></h2><p>Let us now put the above grammars to use.   We will build a very simple grammar fuzzer that starts with a start symbol (<code>"&lt;start&gt;"</code>) and then keeps on expanding it.  To avoid expansion to infinite inputs, we place a limit (<code>max_symbols</code>) on the number of symbols.  Furthermore, to avoid being stuck in a situation where we cannot reduce the number of symbols any further, we also limit the total number of expansion steps.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ExpansionError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="n">START_SYMBOL</span><span class="p">,</span>
                          <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_expansion_trials</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
                          <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">term</span> <span class="o">=</span> <span class="n">start_symbol</span>
    <span class="n">expansion_trials</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">(</span><span class="n">term</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">symbol_to_expand</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">(</span><span class="n">term</span><span class="p">))</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="n">grammar</span><span class="p">[</span><span class="n">symbol_to_expand</span><span class="p">]</span>
        <span class="n">expansion</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">expansions</span><span class="p">)</span>
        <span class="n">new_term</span> <span class="o">=</span> <span class="n">term</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="n">symbol_to_expand</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">nonterminals</span><span class="p">(</span><span class="n">new_term</span><span class="p">))</span> <span class="o">&lt;</span> <span class="n">max_nonterminals</span><span class="p">:</span>
            <span class="n">term</span> <span class="o">=</span> <span class="n">new_term</span>
            <span class="k">if</span> <span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%-40s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">symbol_to_expand</span> <span class="o">+</span> <span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="n">expansion</span><span class="p">),</span> <span class="n">term</span><span class="p">)</span>
            <span class="n">expansion_trials</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">expansion_trials</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="n">expansion_trials</span> <span class="o">&gt;=</span> <span class="n">max_expansion_trials</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ExpansionError</span><span class="p">(</span><span class="s2">&quot;Cannot expand &quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">term</span><span class="p">))</span>

    <span class="k">return</span> <span class="n">term</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us see how this simple grammar fuzzer obtains an arithmetic expression from the start symbol:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="o">=</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>&lt;start&gt; -&gt; &lt;expr&gt;                        &lt;expr&gt;
&lt;expr&gt; -&gt; &lt;term&gt; + &lt;expr&gt;                &lt;term&gt; + &lt;expr&gt;
&lt;term&gt; -&gt; &lt;factor&gt;                       &lt;factor&gt; + &lt;expr&gt;
&lt;factor&gt; -&gt; (&lt;expr&gt;)                     (&lt;expr&gt;) + &lt;expr&gt;
&lt;expr&gt; -&gt; &lt;term&gt;                         (&lt;term&gt;) + &lt;expr&gt;
&lt;term&gt; -&gt; &lt;factor&gt;                       (&lt;factor&gt;) + &lt;expr&gt;
&lt;factor&gt; -&gt; &lt;integer&gt;                    (&lt;integer&gt;) + &lt;expr&gt;
&lt;expr&gt; -&gt; &lt;term&gt;                         (&lt;integer&gt;) + &lt;term&gt;
&lt;term&gt; -&gt; &lt;factor&gt;                       (&lt;integer&gt;) + &lt;factor&gt;
&lt;factor&gt; -&gt; +&lt;factor&gt;                    (&lt;integer&gt;) + +&lt;factor&gt;
&lt;integer&gt; -&gt; &lt;digit&gt;                     (&lt;digit&gt;) + +&lt;factor&gt;
&lt;factor&gt; -&gt; -&lt;factor&gt;                    (&lt;digit&gt;) + +-&lt;factor&gt;
&lt;factor&gt; -&gt; (&lt;expr&gt;)                     (&lt;digit&gt;) + +-(&lt;expr&gt;)
&lt;digit&gt; -&gt; 7                             (7) + +-(&lt;expr&gt;)
&lt;expr&gt; -&gt; &lt;term&gt; + &lt;expr&gt;                (7) + +-(&lt;term&gt; + &lt;expr&gt;)
&lt;expr&gt; -&gt; &lt;term&gt;                         (7) + +-(&lt;term&gt; + &lt;term&gt;)
&lt;term&gt; -&gt; &lt;factor&gt;                       (7) + +-(&lt;factor&gt; + &lt;term&gt;)
&lt;factor&gt; -&gt; &lt;integer&gt;                    (7) + +-(&lt;integer&gt; + &lt;term&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;                     (7) + +-(&lt;digit&gt; + &lt;term&gt;)
&lt;digit&gt; -&gt; 3                             (7) + +-(3 + &lt;term&gt;)
&lt;term&gt; -&gt; &lt;factor&gt;                       (7) + +-(3 + &lt;factor&gt;)
&lt;factor&gt; -&gt; &lt;integer&gt;.&lt;integer&gt;          (7) + +-(3 + &lt;integer&gt;.&lt;integer&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;                     (7) + +-(3 + &lt;digit&gt;.&lt;integer&gt;)
&lt;digit&gt; -&gt; 7                             (7) + +-(3 + 7.&lt;integer&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;&lt;integer&gt;            (7) + +-(3 + 7.&lt;digit&gt;&lt;integer&gt;)
&lt;digit&gt; -&gt; 1                             (7) + +-(3 + 7.1&lt;integer&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;&lt;integer&gt;            (7) + +-(3 + 7.1&lt;digit&gt;&lt;integer&gt;)
&lt;digit&gt; -&gt; 3                             (7) + +-(3 + 7.13&lt;integer&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;&lt;integer&gt;            (7) + +-(3 + 7.13&lt;digit&gt;&lt;integer&gt;)
&lt;integer&gt; -&gt; &lt;digit&gt;                     (7) + +-(3 + 7.13&lt;digit&gt;&lt;digit&gt;)
&lt;digit&gt; -&gt; 3                             (7) + +-(3 + 7.133&lt;digit&gt;)
&lt;digit&gt; -&gt; 8                             (7) + +-(3 + 7.1338)
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;(7) + +-(3 + 7.1338)&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>By increasing the limit of nonterminals, we can quickly get much longer productions:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="o">=</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>+9 / 7 / -(+4) - (+(8)) + -++((-+1 - 5) / 1) / +2 * (+9 + (+(+(+1 + +3420 / -33) * +-6 / 2)))
(8) * (+3 * (19) - ++--+-+-(4 * +93) + 69.28024) - 1.0 - 8
74.5 * (((-+(-0 * +(----+-(+((+-930 / 1))))))) / (+-(-+++-(+(-1 + 4)))) * 8 * -(--5.52) * 5)
0 / (+0) / 3 - --(+((+(((0)))))) - +--5 / (--+-+(2) / +7) + +((5.6 + (+8.7 + 7.6 / ((((-(+-0))) + +-9) * ------((-++7.5)) * +--+-((47 / 34 * ((1) / 4 + +-+(-+9) + 9.1))) - +67))) * 8)
(+9) + +-6 / +(--3 * +(20)) + ++---(+((+--+(8) - (-6) + ((((9) + 35 - -+5.7) * (-(961.4 - -4 * +5.994))))) - ((-+8 * +8)))) / -7
+++--((-((++0)) + (0 * 9 + (63) / 9))) * +(-6) / 9 - -(+-81.7)
9 * --70 - 1 - 56
2 / 5 * +8 / --+--+--+--+-((-+((-2 / (-+4)) / 4 * 9692.2) / -9 + 5 * 62)) - +9 - -8 - 7
8.7 - 25.3 + -20.8
+-+(+(8)) * (1.4) + --(+---1.4 * -+5.901 * -+(++7 + -+5 - --7.0 - (6 + 6 * +24) * -3)) - +8
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that this fuzzer is rather inefficient due to the large number of search and replace operations.  On the other hand, the implementation is straightforward and does the job in most cases.  For this chapter, we'll stick to it; in the <a href="GrammarFuzzer.html">next chapter</a>, we'll show how to build a more efficient one.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Some-Grammars">Some Grammars<a class="anchor-link" href="#Some-Grammars">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With grammars, we can easily specify the format for several of the examples we discussed earlier.  The above arithmetic expressions, for instance, can be directly sent into <code>bc</code> (or any other program that takes arithmetic expressions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="A-CGI-Grammar">A CGI Grammar<a class="anchor-link" href="#A-CGI-Grammar">&#182;</a></h3><p>Let us create some more grammars.  Here's one for <code>cgi_decode()</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">CGI_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;letter&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;letter&gt;&lt;string&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;letter&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;plus&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;percent&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;other&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;plus&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;+&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;percent&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;%&lt;hexdigit&gt;&lt;hexdigit&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;hexdigit&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span>
            <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;f&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;other&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Actually, could be _all_ letters</span>
        <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="s2">&quot;c&quot;</span><span class="p">,</span> <span class="s2">&quot;d&quot;</span><span class="p">,</span> <span class="s2">&quot;e&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In contrast to <a href="Fuzzer.html">basic fuzzing</a> or <a href="MutationFuzzer.html">mutation-based fuzzing</a>, the grammar quickly produces all sorts of combinations:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="o">=</span><span class="n">CGI_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>%0e_++++ae
+
%bf
2
5
1
+
+%98
++
+%5b%51
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="A-URL-Grammar">A URL Grammar<a class="anchor-link" href="#A-URL-Grammar">&#182;</a></h3><p>The same properties we have seen for CGI input also hold for more complex inputs.  Let us use a grammar to produce a large number of valid URLs:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">URL_GRAMMAR</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;call&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;call&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;url&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;url&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;scheme&gt;://&lt;authority&gt;&lt;path&gt;&lt;query&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;scheme&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;http&quot;</span><span class="p">,</span> <span class="s2">&quot;https&quot;</span><span class="p">,</span> <span class="s2">&quot;ftp&quot;</span><span class="p">,</span> <span class="s2">&quot;ftps&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;authority&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;host&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;host&gt;:&lt;port&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;userinfo&gt;@&lt;host&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;userinfo&gt;@&lt;host&gt;:&lt;port&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;host&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Just a few</span>
        <span class="p">[</span><span class="s2">&quot;cispa.saarland&quot;</span><span class="p">,</span> <span class="s2">&quot;www.google.com&quot;</span><span class="p">,</span> <span class="s2">&quot;fuzzingbook.com&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;port&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;80&quot;</span><span class="p">,</span> <span class="s2">&quot;8080&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;nat&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;nat&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;digit&gt;&lt;digit&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;8&quot;</span><span class="p">,</span> <span class="s2">&quot;9&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;userinfo&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Just one</span>
        <span class="p">[</span><span class="s2">&quot;user:password&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;path&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Just a few</span>
        <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;/&quot;</span><span class="p">,</span> <span class="s2">&quot;/&lt;id&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;id&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Just a few</span>
        <span class="p">[</span><span class="s2">&quot;abc&quot;</span><span class="p">,</span> <span class="s2">&quot;def&quot;</span><span class="p">,</span> <span class="s2">&quot;x&lt;digit&gt;&lt;digit&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;query&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;?&lt;params&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;params&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;param&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;param&gt;&amp;&lt;params&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;param&gt;&quot;</span><span class="p">:</span>  <span class="c1"># Just a few</span>
        <span class="p">[</span><span class="s2">&quot;&lt;id&gt;=&lt;id&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;id&gt;=&lt;nat&gt;&quot;</span><span class="p">],</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, within milliseconds, we can produce plenty of valid inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="o">=</span><span class="n">URL_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ftp://www.google.com/?def=39
ftps://user:password@www.google.com:8080/abc
ftp://fuzzingbook.com:8080/abc?x25=abc
https://user:password@cispa.saarland/abc
https://fuzzingbook.com:78/
https://user:password@cispa.saarland/?abc=x45&amp;x91=37&amp;def=92&amp;x78=def&amp;abc=16&amp;x43=x47
http://user:password@www.google.com:80
ftps://fuzzingbook.com:8?abc=50
ftps://cispa.saarland/abc
https://user:password@cispa.saarland:80/
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Grammars-as-Mutation-Seeds">Grammars as Mutation Seeds<a class="anchor-link" href="#Grammars-as-Mutation-Seeds">&#182;</a></h2><p>One very useful property of grammars is that they produce mostly valid inputs.  From a syntactical standpoint, the inputs are actually <em>always</em> valid, as they satisfy the constraints of the given grammar.  (Of course, one needs a valid grammar in the first place.)  However, there are also <em>semantical</em> properties that cannot be easily expressed in a grammar.  If, say, for a URL, the port range is supposed to be between 1024 and 2048, this is hard to write in a grammar.  If one has to satisfy more complex constraints, one quickly reaches the limits of what a grammar can express.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>One way around this is to attach constraints to grammars, as we will discuss <a href="ConstraintFuzzer.html">later in this book</a>.  Another possibility is to put together the strengths of grammar-based fuzzing and <a href="MutationFuzzer.html">mutation-based fuzzing</a>.  The idea is to use the grammar-generated inputs as <em>seeds</em> for further mutation-based fuzzing.  This way, we can explore not only <em>valid</em> inputs, but also check out the <em>boundaries</em> between valid and invalid inputs – and, by the way, also again errors due to invalid inputs.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To use our generated inputs as seeds, we can feed them directly into the mutation fuzzers introduced earlier:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">MutationFuzzer</span> <span class="k">import</span> <span class="n">MutationFuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">number_of_seeds</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">seeds</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">simple_grammar_fuzzer</span><span class="p">(</span>
        <span class="n">grammar</span><span class="o">=</span><span class="n">URL_GRAMMAR</span><span class="p">,</span>
        <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number_of_seeds</span><span class="p">)]</span>
<span class="n">seeds</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;ftp://fuzzingbook.com&#39;,
 &#39;http://user:password@cispa.saarland&#39;,
 &#39;http://user:password@cispa.saarland/?x24=def&amp;def=3&amp;abc=9&#39;,
 &#39;http://cispa.saarland/&#39;,
 &#39;http://user:password@www.google.com/abc?def=abc&#39;,
 &#39;http://user:password@fuzzingbook.com&#39;,
 &#39;http://cispa.saarland:8080/&#39;,
 &#39;ftps://user:password@www.google.com:80/&#39;,
 &#39;https://cispa.saarland:80/&#39;,
 &#39;http://user:password@www.google.com:8080/x42&#39;]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">m</span> <span class="o">=</span> <span class="n">MutationFuzzer</span><span class="p">(</span><span class="n">seeds</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>ftp://fuzzingbook.com
http://user:password@cispa.saarland
http://user:password@cispa.saarland/?x24=def&amp;def=3&amp;abc=9
http://cispa.saarland/
http://user:password@www.google.com/abc?def=abc
http://user:password@fuzzingbook.com
http://cispa.saarland:8080/
ftps://user:password@www.google.com:80/
https://cispa.saarland:80/
http://user:password@www.google.com:8080/x42
ftp:m//fuvzz3ingbmookom
http://cispa.saaran:(080/
Yhttp://#ispa.scrLangd?
ftt:/u.uzeng&gt;book.co
ht://cispa.{aar&gt;land&#39;
vtp;//f}:{Hngbook1.om
http://wuser:password@cispa.saarland/x24=ef&amp;def=3y&amp;abc=9
ti:!//fuzz(ingcoo.aomK
httq3://ca9ispa.sarland:_80/
http//se:password@wwwgogle.cm/abc?def=.ab@c
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>While the first 10 <code>fuzz()</code> calls return the seeded inputs (as designed), the later ones again create arbitrary mutations.  Using <code>MutationCoverageFuzzer</code> instead of <code>MutationFuzzer</code>, we could again have our search guided by coverage – and thus bring together the best of multiple worlds.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Grammar-Shortcuts">Grammar Shortcuts<a class="anchor-link" href="#Grammar-Shortcuts">&#182;</a></h2><p>Let us now introduce a few techniques that help us writing grammars.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Escapes">Escapes<a class="anchor-link" href="#Escapes">&#182;</a></h3><p>With <code>&lt;</code> and <code>&gt;</code> delimiting non-terminals in our grammars, how can we actually express that some input should contain <code>&lt;</code> and <code>&gt;</code>?  The answer is simple: Just introduce a symbol for them.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonterminal_grammar</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;nonterminal&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;nonterminal&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;left-angle&gt;&lt;identifier&gt;&lt;right-angle&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;left-angle&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;right-angle&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&gt;&quot;</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In <code>nonterminal_grammar</code>, neither the expansion for <code>&lt;left-angle&gt;</code> nor the expansion for <code>right-angle</code> can be mistaken as a nonterminal.  Hence, we can produce as many as we want.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Character-Classes">Character Classes<a class="anchor-link" href="#Character-Classes">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the above <code>nonterminal_grammar</code>, we have left out the definition for <code>&lt;identifier&gt;</code>.  That is because enumerating all letters or digits in a grammar manually, as in <code>&lt;letter&gt; ::= 'a' | 'b' | 'c' ...</code> is a bit painful.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>However, remember that grammars are part of a program, and can thus also be constructed programmatically.  In Python, the constant <code>string.ascii_letters</code> contains all letters in the ASCII character set:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">string</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>From this, we can construct a list of all letters:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">srange</span><span class="p">(</span><span class="n">characters</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Construct a list with all characters in the string }`characters`&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">characters</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">srange</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">)[:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now use this in our grammar to define identifiers:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonterminal_grammar</span><span class="p">[</span><span class="s2">&quot;&lt;identifier&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&lt;idchar&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;idchar&gt;&lt;identifier&gt;&quot;</span><span class="p">]</span>
<span class="n">nonterminal_grammar</span><span class="p">[</span><span class="s2">&quot;&lt;idchar&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">srange</span><span class="p">(</span>
    <span class="n">string</span><span class="o">.</span><span class="n">ascii_letters</span><span class="p">)</span> <span class="o">+</span> <span class="n">srange</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span> <span class="o">+</span> <span class="n">srange</span><span class="p">(</span><span class="s2">&quot;-_&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="p">[</span><span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">nonterminal_grammar</span><span class="p">,</span> <span class="s2">&quot;&lt;identifier&gt;&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;0&#39;, &#39;rTMb&#39;, &#39;1o&#39;, &#39;-k&#39;, &#39;cHg&#39;, &#39;Kk&#39;, &#39;op9y&#39;, &#39;YQz&#39;, &#39;R&#39;, &#39;0&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The shortcut <code>crange(start, end)</code> returns a list of all characters in the ASCII range of <code>start</code> to (including) <code>end</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">crange</span><span class="p">(</span><span class="n">character_start</span><span class="p">,</span> <span class="n">character_end</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="nb">chr</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">ord</span><span class="p">(</span><span class="n">character_start</span><span class="p">),</span> <span class="nb">ord</span><span class="p">(</span><span class="n">character_end</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can use this to express ranges of characters:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">crange</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;]
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">crange</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;z&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">srange</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">ascii_lowercase</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Grammar-Shortcuts">Grammar Shortcuts<a class="anchor-link" href="#Grammar-Shortcuts">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the above <code>nonterminal_grammar</code>, as in other grammars, we have to express repetitions of characters using <em>recursion</em>, that is, by referring to the original definition:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonterminal_grammar</span><span class="p">[</span><span class="s2">&quot;&lt;identifier&gt;&quot;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;&lt;idchar&gt;&#39;, &#39;&lt;idchar&gt;&lt;identifier&gt;&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>It could be a bit easier if we simply could state that a nonterminal should be a non-empty sequence of letters – for instance, as in</p>

<pre><code>&lt;identifier&gt; = &lt;idchar&gt;+</code></pre>
<p>where <code>+</code> denotes a non-empty repetition of the symbol it follows.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Operators such as <code>+</code> are frequently introduced as handy <em>shortcuts</em> in grammars.  Formally, our grammars come in so-called <a href="https://en.wikipedia.org/wiki/Backus–Naur_form">Backus-Naur form</a>, or BNF for short.  Operators <em>extend</em> BNF to so-called <em>extended</em> BNF, or EBNF for short:</p>
<ul>
<li>The form <code>&lt;symbol&gt;?</code> indicates that <code>&lt;symbol&gt;</code> is optional – that is, it can occur 0 or 1 times.</li>
<li>The form <code>&lt;symbol&gt;+</code> indicates that <code>&lt;symbol&gt;</code> can occur 1 or more times repeatedly.</li>
<li>The form <code>&lt;symbol&gt;*</code> indicates that <code>&lt;symbol&gt;</code> can occur 0 or more times.  (In other words, it is an optional repetition.)</li>
</ul>
<p>To make matters even more interesting, we would like to use <em>parentheses</em> with the above shortcuts.  Thus, <code>(&lt;foo&gt;&lt;bar&gt;)?</code> indicates that the sequence of <code>&lt;foo&gt;</code> and <code>&lt;bar&gt;</code> is optional.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using such operators, we can define the identifier rule in a simpler way.  To this end, let us create a copy of the original grammar and modify the <code>&lt;identifier&gt;</code> rule:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">copy</span> <span class="k">import</span> <span class="n">deepcopy</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nonterminal_grammar_ebnf</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">nonterminal_grammar</span><span class="p">)</span>
<span class="n">nonterminal_grammar_ebnf</span><span class="p">[</span><span class="s2">&quot;&lt;identifier&gt;&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;&lt;idchar&gt;+&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Likewise, we can simplify the expression grammar.  Consider how signs are optional, and how integers can be expressed as sequences of digits.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">EXPR_GRAMMAR_EBNF</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;term&gt; + &lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;term&gt; - &lt;expr&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;factor&gt; * &lt;term&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;factor&gt; / &lt;term&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;factor&gt;&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;factor&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;sign&gt;?&lt;factor&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;(&lt;expr&gt;)&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;integer&gt;(.&lt;integer&gt;)?&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;sign&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;+&quot;</span><span class="p">,</span> <span class="s2">&quot;-&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span>
        <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;+&quot;</span><span class="p">],</span>

    <span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">:</span>
        <span class="n">srange</span><span class="p">(</span><span class="n">string</span><span class="o">.</span><span class="n">digits</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our aim is to convert EBNF grammars such as the ones above into a regular BNF grammar.  This is done by four rules:</p>
<ol>
<li>An expression <code>(content)op</code>, where <code>op</code> is one of <code>?</code>, <code>+</code>, <code>*</code>, becomes <code>&lt;new-symbol&gt;op</code>, with a new rule <code>&lt;new-symbol&gt; ::= content</code>.</li>
<li>An expression <code>&lt;symbol&gt;?</code> becomes <code>&lt;new-symbol&gt;</code>, where <code>&lt;new-symbol&gt; ::= &lt;empty&gt; | &lt;symbol&gt;</code>.</li>
<li>An expression <code>&lt;symbol&gt;+</code> becomes <code>&lt;new-symbol&gt;</code>, where <code>&lt;new-symbol&gt; ::= &lt;symbol&gt; | &lt;symbol&gt;&lt;new-symbol&gt;</code>.</li>
<li>An expression <code>&lt;symbol&gt;*</code> becomes <code>&lt;new-symbol&gt;</code>, where <code>&lt;new-symbol&gt; ::= &lt;empty&gt; | &lt;symbol&gt;&lt;new-symbol&gt;</code>.</li>
</ol>
<p>Here, <code>&lt;empty&gt;</code> expands to the empty string, as in <code>&lt;empty&gt; ::=</code></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If these operators remind you of <em>regular expressions</em>, this is not by accident: Actually, any basic regular expression can be converted into a grammar using the above rules (and character classes with <code>crange()</code>, as defined above).</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Applying these rules on the examples above yields the following results:</p>
<ul>
<li><code>&lt;idchar&gt;+</code> becomes <code>&lt;idchar&gt;&lt;new-symbol&gt;</code> with <code>&lt;new-symbol&gt; ::= &lt;idchar&gt; | &lt;idchar&gt;&lt;new-symbol&gt;</code>.  </li>
<li><code>&lt;integer&gt;(.&lt;integer&gt;)?</code> becomes <code>&lt;integer&gt;&lt;new-symbol&gt;</code> with <code>&lt;new-symbol&gt; ::= &lt;empty&gt; | .&lt;integer&gt;</code>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us implement these rules in three steps.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Creating-New-Symbols">Creating New Symbols<a class="anchor-link" href="#Creating-New-Symbols">&#182;</a></h4><p>First, we need a mechanism to create new symbols.  This is fairly straightforward.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">new_symbol</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">symbol_name</span><span class="o">=</span><span class="s2">&quot;&lt;symbol&gt;&quot;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return a new symbol for `grammar` based on `symbol_name`&quot;&quot;&quot;</span>
    <span class="n">count</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">tentative_symbol_name</span> <span class="o">=</span> <span class="n">symbol_name</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;-&quot;</span> <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">count</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;&gt;&quot;</span>
        <span class="k">if</span> <span class="n">tentative_symbol_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">grammar</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">tentative_symbol_name</span>
        <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">new_symbol</span><span class="p">(</span><span class="n">EXPR_GRAMMAR_EBNF</span><span class="p">,</span> <span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;&lt;expr-1&gt;&#39;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Expanding-Parenthesized-Expressions">Expanding Parenthesized Expressions<a class="anchor-link" href="#Expanding-Parenthesized-Expressions">&#182;</a></h4></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Next, we need a means to extract parenthesized expressions from our expansions and expand them according to the rules above.  Let's start with extracting expressions:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">RE_PARENTHESIZED_EXPR</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;\([^())]*\)[?+*]&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">parenthesized_expressions</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
    <span class="c1"># In later chapters, we allow expansions to be tuples,</span>
    <span class="c1"># with the expansion being the first element</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">RE_PARENTHESIZED_EXPR</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">parenthesized_expressions</span><span class="p">(</span><span class="s2">&quot;(&lt;foo&gt;)* (&lt;foo&gt;&lt;bar&gt;)+ (+&lt;foo&gt;)? &lt;integer&gt;(.&lt;integer&gt;)?&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span>
    <span class="s1">&#39;(&lt;foo&gt;)*&#39;</span><span class="p">,</span> <span class="s1">&#39;(&lt;foo&gt;&lt;bar&gt;)+&#39;</span><span class="p">,</span> <span class="s1">&#39;(+&lt;foo&gt;)?&#39;</span><span class="p">,</span> <span class="s1">&#39;(.&lt;integer&gt;)?&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now use these to apply rule number 1, above, introducing new symbols for expressions in parentheses.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">convert_ebnf_parentheses</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert a grammar in extended BNF to BNF&quot;&quot;&quot;</span>
    <span class="n">grammar</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">nonterminal</span> <span class="ow">in</span> <span class="n">ebnf_grammar</span><span class="p">:</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="n">ebnf_grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">expansions</span><span class="p">)):</span>
            <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

            <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
                <span class="n">parenthesized_exprs</span> <span class="o">=</span> <span class="n">parenthesized_expressions</span><span class="p">(</span><span class="n">expansion</span><span class="p">)</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">parenthesized_exprs</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="k">break</span>

                <span class="k">for</span> <span class="n">expr</span> <span class="ow">in</span> <span class="n">parenthesized_exprs</span><span class="p">:</span>
                    <span class="n">operator</span> <span class="o">=</span> <span class="n">expr</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span>
                    <span class="n">contents</span> <span class="o">=</span> <span class="n">expr</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

                    <span class="n">new_sym</span> <span class="o">=</span> <span class="n">new_symbol</span><span class="p">(</span><span class="n">grammar</span><span class="p">)</span>
                    <span class="n">expansion</span> <span class="o">=</span> <span class="n">grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                        <span class="n">expr</span><span class="p">,</span> <span class="n">new_sym</span> <span class="o">+</span> <span class="n">operator</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                    <span class="n">grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">expansion</span>
                    <span class="n">grammar</span><span class="p">[</span><span class="n">new_sym</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">contents</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">grammar</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This does the conversion as sketched above:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_ebnf_parentheses</span><span class="p">({</span><span class="s2">&quot;&lt;number&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;integer&gt;(.&lt;integer&gt;)?&quot;</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;number&gt;&#39;: [&#39;&lt;integer&gt;&lt;symbol-1&gt;?&#39;], &#39;&lt;symbol-1&gt;&#39;: [&#39;.&lt;integer&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This even works for nested parenthesized expressions:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_ebnf_parentheses</span><span class="p">({</span><span class="s2">&quot;&lt;foo&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;((&lt;foo&gt;)?)+&quot;</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;foo&gt;&#39;: [&#39;&lt;symbol-2&gt;+&#39;],
 &#39;&lt;symbol-1&gt;&#39;: [&#39;&lt;foo&gt;&#39;],
 &#39;&lt;symbol-2&gt;&#39;: [&#39;&lt;symbol-1&gt;?&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Expanding-Operators">Expanding Operators<a class="anchor-link" href="#Expanding-Operators">&#182;</a></h4><p>After expanding parenthesized expressions, we now need to take care of symbols followed by operators (<code>?</code>, <code>*</code>, <code>+</code>).  As with <code>convert_ebnf_parentheses()</code>, above, we first extract all symbols followed by an operator.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">RE_EXTENDED_NONTERMINAL</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(&lt;[^&lt;&gt; ]*&gt;[?+*])&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">extended_nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
    <span class="c1"># In later chapters, we allow expansions to be tuples,</span>
    <span class="c1"># with the expansion being the first element</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
        <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">RE_EXTENDED_NONTERMINAL</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">extended_nonterminals</span><span class="p">(</span>
    <span class="s2">&quot;&lt;foo&gt;* &lt;bar&gt;+ &lt;elem&gt;? &lt;none&gt;&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;&lt;foo&gt;*&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;bar&gt;+&#39;</span><span class="p">,</span> <span class="s1">&#39;&lt;elem&gt;?&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our converter extracts the symbol and the operator, and adds new symbols according to the rules laid out above.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">convert_ebnf_operators</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert a grammar in extended BNF to BNF&quot;&quot;&quot;</span>
    <span class="n">grammar</span> <span class="o">=</span> <span class="n">deepcopy</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">nonterminal</span> <span class="ow">in</span> <span class="n">ebnf_grammar</span><span class="p">:</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="n">ebnf_grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">expansions</span><span class="p">)):</span>
            <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansions</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">extended_symbols</span> <span class="o">=</span> <span class="n">extended_nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">extended_symbol</span> <span class="ow">in</span> <span class="n">extended_symbols</span><span class="p">:</span>
                <span class="n">operator</span> <span class="o">=</span> <span class="n">extended_symbol</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">:]</span>
                <span class="n">original_symbol</span> <span class="o">=</span> <span class="n">extended_symbol</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

                <span class="n">new_sym</span> <span class="o">=</span> <span class="n">new_symbol</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">original_symbol</span><span class="p">)</span>
                <span class="n">grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">][</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span>
                    <span class="n">extended_symbol</span><span class="p">,</span> <span class="n">new_sym</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

                <span class="k">if</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;?&#39;</span><span class="p">:</span>
                    <span class="n">grammar</span><span class="p">[</span><span class="n">new_sym</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">original_symbol</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;*&#39;</span><span class="p">:</span>
                    <span class="n">grammar</span><span class="p">[</span><span class="n">new_sym</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">original_symbol</span> <span class="o">+</span> <span class="n">new_sym</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">operator</span> <span class="o">==</span> <span class="s1">&#39;+&#39;</span><span class="p">:</span>
                    <span class="n">grammar</span><span class="p">[</span><span class="n">new_sym</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">original_symbol</span><span class="p">,</span> <span class="n">original_symbol</span> <span class="o">+</span> <span class="n">new_sym</span><span class="p">]</span>

    <span class="k">return</span> <span class="n">grammar</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_ebnf_operators</span><span class="p">({</span><span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;digit&gt;+&quot;</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;integer&gt;&#39;: [&#39;&lt;digit-1&gt;&#39;], &#39;&lt;digit-1&gt;&#39;: [&#39;&lt;digit&gt;&#39;, &#39;&lt;digit&gt;&lt;digit-1&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="All-Together">All Together<a class="anchor-link" href="#All-Together">&#182;</a></h4><p>We can combine the two, first extending parentheses and then operators:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">convert_ebnf_grammar</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">convert_ebnf_operators</span><span class="p">(</span><span class="n">convert_ebnf_parentheses</span><span class="p">(</span><span class="n">ebnf_grammar</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">convert_ebnf_grammar</span><span class="p">({</span><span class="s2">&quot;&lt;authority&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;(&lt;userinfo&gt;@)?&lt;host&gt;(:&lt;port&gt;)?&quot;</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;authority&gt;&#39;: [&#39;&lt;symbol-1-1&gt;&lt;host&gt;&lt;symbol-2-1&gt;&#39;],
 &#39;&lt;symbol-1&gt;&#39;: [&#39;&lt;userinfo&gt;@&#39;],
 &#39;&lt;symbol-2&gt;&#39;: [&#39;:&lt;port&gt;&#39;],
 &#39;&lt;symbol-1-1&gt;&#39;: [&#39;&#39;, &#39;&lt;symbol-1&gt;&#39;],
 &#39;&lt;symbol-2-1&gt;&#39;: [&#39;&#39;, &#39;&lt;symbol-2&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">expr_grammar</span> <span class="o">=</span> <span class="n">convert_ebnf_grammar</span><span class="p">(</span><span class="n">EXPR_GRAMMAR_EBNF</span><span class="p">)</span>
<span class="n">expr_grammar</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt;&#39;: [&#39;&lt;expr&gt;&#39;],
 &#39;&lt;expr&gt;&#39;: [&#39;&lt;term&gt; + &lt;expr&gt;&#39;, &#39;&lt;term&gt; - &lt;expr&gt;&#39;, &#39;&lt;term&gt;&#39;],
 &#39;&lt;term&gt;&#39;: [&#39;&lt;factor&gt; * &lt;term&gt;&#39;, &#39;&lt;factor&gt; / &lt;term&gt;&#39;, &#39;&lt;factor&gt;&#39;],
 &#39;&lt;factor&gt;&#39;: [&#39;&lt;sign-1&gt;&lt;factor&gt;&#39;, &#39;(&lt;expr&gt;)&#39;, &#39;&lt;integer&gt;&lt;symbol-1-1&gt;&#39;],
 &#39;&lt;sign&gt;&#39;: [&#39;+&#39;, &#39;-&#39;],
 &#39;&lt;integer&gt;&#39;: [&#39;&lt;digit-1&gt;&#39;],
 &#39;&lt;digit&gt;&#39;: [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;],
 &#39;&lt;symbol-1&gt;&#39;: [&#39;.&lt;integer&gt;&#39;],
 &#39;&lt;sign-1&gt;&#39;: [&#39;&#39;, &#39;&lt;sign&gt;&#39;],
 &#39;&lt;symbol-1-1&gt;&#39;: [&#39;&#39;, &#39;&lt;symbol-1&gt;&#39;],
 &#39;&lt;digit-1&gt;&#39;: [&#39;&lt;digit&gt;&#39;, &#39;&lt;digit&gt;&lt;digit-1&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Success! We have nicely converted the EBNF grammar into BNF.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With character classes and EBNF grammar conversion, we have two powerful tools that make the writing of grammars easier.  We will use these again and again as it comes to working with grammars.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Checking-Grammars">Checking Grammars<a class="anchor-link" href="#Checking-Grammars">&#182;</a></h2><p>Since grammars are represented as strings, it is fairly easy to introduce errors.  So let us introduce a helper function that checks a grammar for consistency.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The helper function <code>is_valid_grammar()</code> iterates over a grammar to check whether all used symbols are defined, and vice versa, which is very useful for debugging.  You don't have to delve into details here, but as always, it is important to get the input data straight before we make use of it.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">def_used_nonterminals</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="n">START_SYMBOL</span><span class="p">):</span>
    <span class="n">defined_nonterminals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="n">used_nonterminals</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">start_symbol</span><span class="p">])</span>

    <span class="k">for</span> <span class="n">defined_nonterminal</span> <span class="ow">in</span> <span class="n">grammar</span><span class="p">:</span>
        <span class="n">defined_nonterminals</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">defined_nonterminal</span><span class="p">)</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="n">grammar</span><span class="p">[</span><span class="n">defined_nonterminal</span><span class="p">]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansions</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">defined_nonterminal</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: expansion is not a list&quot;</span><span class="p">,</span>
                  <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">expansions</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">defined_nonterminal</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: expansion list empty&quot;</span><span class="p">,</span>
                  <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">for</span> <span class="n">expansion</span> <span class="ow">in</span> <span class="n">expansions</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
                <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
                <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">defined_nonterminal</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: &quot;</span>
                      <span class="o">+</span> <span class="nb">repr</span><span class="p">(</span><span class="n">expansion</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: not a string&quot;</span><span class="p">,</span>
                      <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
                <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

            <span class="k">for</span> <span class="n">used_nonterminal</span> <span class="ow">in</span> <span class="n">nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
                <span class="n">used_nonterminals</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">used_nonterminal</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">defined_nonterminals</span><span class="p">,</span> <span class="n">used_nonterminals</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">is_valid_grammar</span><span class="p">(</span><span class="n">grammar</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="n">START_SYMBOL</span><span class="p">):</span>
    <span class="n">defined_nonterminals</span><span class="p">,</span> <span class="n">used_nonterminals</span> <span class="o">=</span> <span class="n">def_used_nonterminals</span><span class="p">(</span>
        <span class="n">grammar</span><span class="p">,</span> <span class="n">start_symbol</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">defined_nonterminals</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">used_nonterminals</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">for</span> <span class="n">unused_nonterminal</span> <span class="ow">in</span> <span class="n">defined_nonterminals</span> <span class="o">-</span> <span class="n">used_nonterminals</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">unused_nonterminal</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: defined, but not used&quot;</span><span class="p">,</span>
              <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">undefined_nonterminal</span> <span class="ow">in</span> <span class="n">used_nonterminals</span> <span class="o">-</span> <span class="n">defined_nonterminals</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">undefined_nonterminal</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;: used, but not defined&quot;</span><span class="p">,</span>
              <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">used_nonterminals</span> <span class="o">==</span> <span class="n">defined_nonterminals</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our grammars defined above pass the test:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">is_valid_grammar</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">is_valid_grammar</span><span class="p">(</span><span class="n">CGI_GRAMMAR</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">is_valid_grammar</span><span class="p">(</span><span class="n">URL_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The check can also be applied to EBNF grammars:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">is_valid_grammar</span><span class="p">(</span><span class="n">EXPR_GRAMMAR_EBNF</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>These ones do not pass the test, though:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="ow">not</span> <span class="n">is_valid_grammar</span><span class="p">({</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;x&gt;&quot;</span><span class="p">],</span> <span class="s2">&quot;&lt;y&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;1&quot;</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&#39;&lt;y&gt;&#39;: defined, but not used
&#39;&lt;x&gt;&#39;: used, but not defined
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="ow">not</span> <span class="n">is_valid_grammar</span><span class="p">({</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="s2">&quot;123&quot;</span><span class="p">})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&#39;&lt;start&gt;&#39;: expansion is not a list
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="ow">not</span> <span class="n">is_valid_grammar</span><span class="p">({</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&#39;&lt;start&gt;&#39;: expansion list empty
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="ow">not</span> <span class="n">is_valid_grammar</span><span class="p">({</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]})</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>&#39;&lt;start&gt;&#39;: 1: not a string
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>From here on, we will always use <code>is_valid_grammar()</code> when defining a grammar.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li>Grammars are powerful tools to express and produce syntactically valid inputs.</li>
<li>Inputs produced from grammars can be used as is, or used as seeds for mutation-based fuzzing.</li>
<li>Grammars can be extended with character classes and operators to make writing easier.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>As they make a great foundation for generating software tests, we use grammars again and again in this work – and they become especially valuable when we can <em>infer</em> them automatically from a given domain, dropping the need to write them manually.  But before we get there, we first have to learn how to</p>
<ul>
<li><a href="GrammarFuzzer.html">create an efficient grammar fuzzer</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-A-JSON-Grammar">Exercise 1: A JSON Grammar<a class="anchor-link" href="#Exercise-1:-A-JSON-Grammar">&#182;</a></h3><p>Take a look at the <a href="http://www.json.org">JSON specification</a> and derive a grammar from it:</p>
<ul>
<li>Use <em>character classes</em> to express valid characters</li>
<li>Use EBNF to express repetitions and optional parts</li>
<li>Assume that<ul>
<li>a string is a sequence of digits, ASCII letters, punctuation and space characters without quotes or escapes</li>
<li>whitespace is just a single space.</li>
</ul>
</li>
<li>Use <code>is_valid_grammar()</code> to ensure the grammar is valid.</li>
</ul>
<p>Feed the grammar into <code>simple_grammar_fuzzer()</code>.  Do you encounter any errors, and why?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Finding-Bugs">Exercise 2: Finding Bugs<a class="anchor-link" href="#Exercise-2:-Finding-Bugs">&#182;</a></h3><p>The name <code>simple_grammar_fuzzer()</code> does not come by accident: The way it expands grammars is limited in several ways.  What happens if you apply <code>simple_gramar_fuzzer()</code> on <code>nonterminal_grammar</code> and <code>expr_grammar</code>, as defined above, and why?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-3:-Grammars-with-Regular-Expressions">Exercise 3: Grammars with Regular Expressions<a class="anchor-link" href="#Exercise-3:-Grammars-with-Regular-Expressions">&#182;</a></h3><p>In a <em>grammar extended with regular expressions</em>, we can use the special form</p>

<pre><code>/regex/</code></pre>
<p>to include regular expressions in expansions.  For instance, we can have a rule</p>

<pre><code>&lt;integer&gt; ::= /[+-]?[0-9]+/</code></pre>
<p>to quickly express that an integer is an optional sign, followed by a sequence of digits.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-1:-Convert-regular-expressions">Part 1: Convert regular expressions<a class="anchor-link" href="#Part-1:-Convert-regular-expressions">&#182;</a></h4><p>Write a converter <code>convert_regex(r)</code> that takes a regular expression <code>r</code> and creates an equivalent grammar.  Support the following regular expression constructs:</p>
<ul>
<li><code>*</code>, <code>+</code>, <code>?</code>, <code>()</code> should work just in EBNFs, above.</li>
<li><code>a|b</code> should translate into a list of alternatives <code>[a, b]</code>.</li>
<li><code>.</code> should match any character except newline.</li>
<li><code>[abc]</code> should translate into <code>srange("abc")</code></li>
<li><code>[^abc]</code> should translate into the set of ASCII characters <em>except</em> <code>srange("abc")</code>.</li>
<li><code>[a-b]</code> should translate into <code>crange(a, b)</code></li>
<li><code>[^a-b]</code> should translate into the set of ASCII characters <em>except</em> <code>crange(a, b)</code>.</li>
</ul>
<p>Example: <code>convert_regex(r"[0-9]+")</code> should yield a grammar such as</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;s1&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;s1&gt;&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;&lt;s2&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;s1&gt;&lt;s2&gt;&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;&lt;s2&gt;&quot;</span><span class="p">:</span> <span class="n">crange</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Part-2:-Identify-and-expand-regular-expressions">Part 2: Identify and expand regular expressions<a class="anchor-link" href="#Part-2:-Identify-and-expand-regular-expressions">&#182;</a></h4><p>Write a converter <code>convert_regex_grammar(g)</code> that takes a EBNF grammar <code>g</code> containing regular expressions in the form <code>/.../</code> and creates an equivalent BNF grammar.  Support the regular expression constructs as above.</p>
<p>Example: <code>convert_regex_grammar({ "&lt;integer&gt;" : "/[+-]?[0-9]+/" })</code> should yield a grammar such as</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;&lt;integer&gt;&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;&lt;s1&gt;&lt;s3&gt;&quot;</span><span class="p">],</span>
    <span class="s2">&quot;&lt;s1&gt;&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;s2&gt;&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;&lt;s2&gt;&quot;</span><span class="p">:</span> <span class="n">srange</span><span class="p">(</span><span class="s2">&quot;+-&quot;</span><span class="p">),</span>
    <span class="s2">&quot;&lt;s3&gt;&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;&lt;s4&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;s4&gt;&lt;s3&gt;&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;&lt;s4&gt;&quot;</span><span class="p">:</span> <span class="n">crange</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">,</span> <span class="s1">&#39;9&#39;</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Optional: Support <em>escapes</em> in regular expressions: <code>\c</code> translates to the literal character <code>c</code>; <code>\/</code> translates to <code>/</code> (and thus does not end the regular expression); <code>\\</code> translates to <code>\</code>.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-4:-Grammar-Annotations">Exercise 4: Grammar Annotations<a class="anchor-link" href="#Exercise-4:-Grammar-Annotations">&#182;</a></h3><p>Python 3.7 and later allow the use of <em>annotations</em> to attach Python snippets to arbitrary syntactic elements.  You can make use of such annotations to produce even nicer grammars, using <code>|</code> to separate alternatives:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="k">class</span> <span class="nc">expression_grammar</span><span class="p">:</span>
   <span class="n">start</span><span class="p">:</span> <span class="s2">&quot;&lt;expr&gt;&quot;</span>
   <span class="n">expr</span><span class="p">:</span> <span class="s2">&quot;&lt;term&gt; + &lt;expr&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;term&gt; - &lt;expr&gt;&quot;</span>
   <span class="n">term</span><span class="p">:</span> <span class="s2">&quot;&lt;factor&gt; * &lt;term&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;factor&gt; / &lt;term&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;factor&gt;&quot;</span>
   <span class="n">factor</span><span class="p">:</span> <span class="s2">&quot;+&lt;factor&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;-&lt;factor&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;(&lt;expr&gt;)&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;integer&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;integer&gt;.&lt;integer&gt;&quot;</span>
   <span class="n">integer</span><span class="p">:</span> <span class="s2">&quot;&lt;digit&gt;&lt;integer&gt;&quot;</span> <span class="o">|</span> <span class="s2">&quot;&lt;digit&gt;&quot;</span>
   <span class="n">digit</span><span class="p">:</span> <span class="s1">&#39;0&#39;</span> <span class="o">|</span> <span class="s1">&#39;1&#39;</span> <span class="o">|</span> <span class="s1">&#39;2&#39;</span> <span class="o">|</span> <span class="s1">&#39;3&#39;</span> <span class="o">|</span> <span class="s1">&#39;4&#39;</span> <span class="o">|</span> <span class="s1">&#39;5&#39;</span> <span class="o">|</span> <span class="s1">&#39;6&#39;</span> <span class="o">|</span> <span class="s1">&#39;7&#39;</span> <span class="o">|</span> <span class="s1">&#39;8&#39;</span> <span class="o">|</span> <span class="s1">&#39;9&#39;</span>
</pre></div>
<p>The annotation can be accessed using the <code>__annotations__</code> attribute:</p>
<div class="highlight"><pre><span></span><span class="k">print</span><span class="p">(</span><span class="n">expression_grammar</span><span class="o">.</span><span class="n">__annotations__</span><span class="p">)</span>
<span class="p">{</span><span class="s1">&#39;start&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&lt;expr&gt;&#39;&quot;</span><span class="p">,</span> <span class="s1">&#39;expr&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&lt;term&gt; + &lt;expr&gt;&#39; | &#39;&lt;term&gt; - &lt;expr&gt;&#39;&quot;</span><span class="p">,</span> 
 <span class="s1">&#39;term&#39;</span><span class="p">:</span> <span class="s2">&quot;&#39;&lt;factor&gt; * &lt;term&gt;&#39; | &#39;&lt;factor&gt; / &lt;term&gt;&#39; | &#39;&lt;factor&gt;&#39;&quot;</span><span class="p">,</span> 
 <span class="o">...</span><span class="p">}</span>
</pre></div>
<p>Using Python 3.7 or later, write a converter that takes a grammar class using the above syntax and convert it to the "portable" format described in this chapter.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Efficient-Grammar-Fuzzing">Efficient Grammar Fuzzing<a class="anchor-link" href="#Efficient-Grammar-Fuzzing">&#182;</a></h1><p>In the <a href="Grammars.html">chapter on grammars</a>, we have seen how to use <em>grammars</em> for very effective and efficient testing.  In this chapter, we refine the previous string-based algorithm into a tree-based algorithm, which is much faster and allows for much more control over the production of fuzz inputs.  The algorithm in this chapter serves as a foundation for several more techniques; this chapter thus is a "hub" in the book.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should know how grammar-based fuzzing works, e.g. from the <a href="Grammars.html">chapter on grammars</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="An-Insufficient-Algorithm">An Insufficient Algorithm<a class="anchor-link" href="#An-Insufficient-Algorithm">&#182;</a></h2><p>In the <a href="Grammars.html">last chapter</a>, we have introduced the <code>simple_grammar_fuzzer()</code> function which takes a grammar and automatically produces a syntactically valid string from it.  However, <code>simple_grammar_fuzzer()</code> is just what its name suggests – simple.  To illustrate the problem, let us get back to the <code>expr_grammar</code> we created from <code>EXPR_GRAMMAR_BNF</code> in the <a href="Grammars.html">chapter on grammars</a>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Grammars</span> <span class="k">import</span> <span class="n">EXPR_GRAMMAR_EBNF</span><span class="p">,</span> <span class="n">convert_ebnf_grammar</span><span class="p">,</span> <span class="n">simple_grammar_fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">expr_grammar</span> <span class="o">=</span> <span class="n">convert_ebnf_grammar</span><span class="p">(</span><span class="n">EXPR_GRAMMAR_EBNF</span><span class="p">)</span>
<span class="n">expr_grammar</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt;&#39;: [&#39;&lt;expr&gt;&#39;],
 &#39;&lt;expr&gt;&#39;: [&#39;&lt;term&gt; + &lt;expr&gt;&#39;, &#39;&lt;term&gt; - &lt;expr&gt;&#39;, &#39;&lt;term&gt;&#39;],
 &#39;&lt;term&gt;&#39;: [&#39;&lt;factor&gt; * &lt;term&gt;&#39;, &#39;&lt;factor&gt; / &lt;term&gt;&#39;, &#39;&lt;factor&gt;&#39;],
 &#39;&lt;factor&gt;&#39;: [&#39;&lt;sign-1&gt;&lt;factor&gt;&#39;, &#39;(&lt;expr&gt;)&#39;, &#39;&lt;integer&gt;&lt;symbol-1-1&gt;&#39;],
 &#39;&lt;sign&gt;&#39;: [&#39;+&#39;, &#39;-&#39;],
 &#39;&lt;integer&gt;&#39;: [&#39;&lt;digit-1&gt;&#39;],
 &#39;&lt;digit&gt;&#39;: [&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;],
 &#39;&lt;symbol-1&gt;&#39;: [&#39;.&lt;integer&gt;&#39;],
 &#39;&lt;sign-1&gt;&#39;: [&#39;&#39;, &#39;&lt;sign&gt;&#39;],
 &#39;&lt;symbol-1-1&gt;&#39;: [&#39;&#39;, &#39;&lt;symbol-1&gt;&#39;],
 &#39;&lt;digit-1&gt;&#39;: [&#39;&lt;digit&gt;&#39;, &#39;&lt;digit&gt;&lt;digit-1&gt;&#39;]}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><code>expr_grammar</code> has an interesting property.  If we feed it into <code>simple_grammar_fuzzer()</code>, the function gets stuck in an infinite expansion:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectTimeout</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
    <span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">grammar</span><span class="o">=</span><span class="n">expr_grammar</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-5-fbcda5f486bb&gt;&#34;, line 2, in &lt;module&gt;
    simple_grammar_fuzzer(grammar=expr_grammar, max_nonterminals=3)
  File &#34;&lt;string&gt;&#34;, line 10, in simple_grammar_fuzzer
  File &#34;/Users/rahul.gopinath/anaconda3/lib/python3.6/random.py&#34;, line 256, in choice
    i = self._randbelow(len(seq))
  File &#34;/Users/rahul.gopinath/anaconda3/lib/python3.6/random.py&#34;, line 235, in _randbelow
    r = getrandbits(k)
  File &#34;/Users/rahul.gopinath/anaconda3/lib/python3.6/random.py&#34;, line 235, in _randbelow
    r = getrandbits(k)
  File &#34;&lt;string&gt;&#34;, line 14, in check_time
TimeoutError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Why is that so?  The problem is in this rule:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">expr_grammar</span><span class="p">[</span><span class="s1">&#39;&lt;factor&gt;&#39;</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[&#39;&lt;sign-1&gt;&lt;factor&gt;&#39;, &#39;(&lt;expr&gt;)&#39;, &#39;&lt;integer&gt;&lt;symbol-1-1&gt;&#39;]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here, any choice except for <code>(expr)</code> increases the number of symbols, even if only temporary.  Since we place a hard limit on the number of symbols to expand, the only choice left for expanding <code>&lt;factor&gt;</code> is <code>(&lt;expr&gt;)</code>, which leads to an infinite addition of parentheses.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The problem of potentially infinite expansion is only one of the problems with <code>simple_grammar_fuzzer()</code>.  More problems include:</p>
<ol>
<li><p><em>It is inefficient</em>.  With each iteration, this fuzzer would go search the string produced so far for symbols to expand.  This becomes inefficient as the production string grows.</p>
</li>
<li><p><em>It is hard to control.</em>  Even while limiting the number of symbols, it is still possible to obtain very long strings – and even infinitely long ones, as discussed above.</p>
</li>
</ol>
<p>Let us illustrate both problems by plotting the time required for strings of different lengths.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Grammars</span> <span class="k">import</span> <span class="n">simple_grammar_fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Grammars</span> <span class="k">import</span> <span class="n">START_SYMBOL</span><span class="p">,</span> <span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">URL_GRAMMAR</span><span class="p">,</span> <span class="n">CGI_GRAMMAR</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Grammars</span> <span class="k">import</span> <span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">nonterminals</span><span class="p">,</span> <span class="n">is_nonterminal</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Timer</span> <span class="k">import</span> <span class="n">Timer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ys</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">simple_grammar_fuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
    <span class="n">xs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="n">ys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">average_time</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span> <span class="o">/</span> <span class="n">trials</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average time:&quot;</span><span class="p">,</span> <span class="n">average_time</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Average time: 0.19149707785574718
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Time required for generating an output&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAEICAYAAACktLTqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMi4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvhp/UCwAAHadJREFUeJzt3X+cXXV95/HXm0kCIyJBiEomCYkVUtFYg1NMxVZWwQRUkkYtoKyorFS37NZVsw3FYqQoKKu2rjykaFkEKQguplHjRrZgbVViBhPABCMRgcwEIQJBJFGS8Okf53vjmZt7596Zub/m3Pfz8ZhH7j0/P+fcyWe+9/M953sUEZiZWbEc0O4AzMys8ZzczcwKyMndzKyAnNzNzArIyd3MrICc3M3MCsjJvYkk/bWkL7Y7jkZr9HFJWiHpyyPMf5+khyX9WtLhjdrvRCTpCkl/0+44rPPJ17mPnaRf594+C/gtsDe9//OIuK71UU08klYAL4qIsyrMmwz8ClgQEXe2OrZ2kvRO4L9ExKvbHUurSDoR+HJEzOjE7U0kk9odwEQWEc8uvZZ0P9l/xP/fvoj2xTIpIvYUZN/PBw4CNo4hFpE1YJ5pYDwN0c7PyLqDyzJNlC83SJotKSS9S9JWSY9Leq+kP5R0l6Qdkj5Xtv67Jd2Tll0j6agq+ylt+xxJDwK3pukLJH0/bfvO1IoprTNH0r9KelLSLZI+l4v1REmDZfu4X9JJIxzXmPcNHFHluI4BNqe3OySVtv0qSeskPZH+fVVune9I+pik7wE7gRdW2O5xktan/d8k6SuSLs7Nf6OkDSn270t6Wdl5+FD6zJ5I6x40inX/StJdwFOSJklaLulnKZZNkv40Lfti4Argj1I5akeafnUp1tLnJOmDkh6R9JCkd+X2d7ikr0v6VTpPF0v690rnOi1/k6RfpOP6rqSX5OZdLelySd9Msa6V9HsjbOs0SRvTefhOOp7SvJD0orJtXyzpYOBbwPR0zL+WND39vn01nesnJf1I0h+MdXvVYi6ciPBPA36A+4GTyqatIPtKCDAbCLL/sAcBrwd+A6wEngf0AY8Ar0nLLwG2AC8m+4b1YeD7VfZd2vY1wMFAb9reo8CpZH/ET07vp6V1fgB8GjgQ+BPgyVysJwKD1Y6vynE1ZN8jHNuk9P65wOPAf07n5cz0/vA0/zvAg8BL0vzJZdubAjwA/CUwGVgKPA1cnOYflz6HVwI9wNnp2A/MnYcfAtNTLPcA7x3FuhuAmUBvmvbWtK0DgNOBp4Aj07x3Av9eFv/VuVhPBPYAF6VjOZXsD9phaf4N6edZwLHA1vLtlW373cAh6XP5O2BD2X4fA45P5/U64IYq2zkmHcfJKa7/Sfa7PCXND7IyXLVjKv/dWwHsBt6Stvch4Oelz3a02+uWH7fcW+9vI+I3EfFtsv8A10fEIxExBPwbMD8t9+fAJRFxT2Rf3z8OvFxVWu/Jioh4KiJ2AWcBqyNidUQ8ExG3AAPAqZJmAX8I/E1E/DYivgt8fZzH1ap9vwG4NyKujYg9EXE98BPgTbllro6IjWn+7rL1F5Alp89GxO6IuJksWZe8B/iHiFgbEXsj4ktkfSkLcst8NiK2RcRjKfaXj3Ldrek8ERE3pW09ExFfAe4lS6D12g1clI5lNfBrYK6kHuDNwEciYmdEbAK+NNKGIuKqiHgyIn5LllD/QNKhuUVujogfpt/H63LHXe504JsRcUs6//+L7I/+q6osX487IuKraXufJmsgLaixTldzcm+9h3Ovd1V4X6rjHwX8ffpau4Os1SSyVnE1W3OvjwLeWlo/bePVwJFkLcXHI+Kp3PIPjOloWr/v6RWWf4Dh52Ur1U0HhiI166rE/sGy2Gem9Up+kXu9k+GfWa11h8Um6R25Ms4O4KVUKVNV8WgMr92X4plG9kcsv7+q50VSj6RLU4noV2TfMiiLpdpxlxv2GUXW57GVkX93a9kXe9reIMPPq5Vxh2rn2gp8LEZ3xU15wro2It5TvlBq/R8m6eBckp2VW/8psq/ypeV7yJJFK/ZdyzayJJo3C/h/VWIp9xDQJ0m5BD8T+Fku9o9FxMfqjCevnnX3xZbOxReA1wE/iIi9kjaQ/RGvdRy1bCcr2cwAfpqmzRxh+bcBi4GTyBL7oWTlLo2wTjXbgHmlN5KU9j2UJu0k9/sFvIAsWUP1Y94Xu6QDyI5r2zi2V3huuXeuK4DzS51akg6V9NZRrP9l4E2SFqZW2UGpA25GRDxAVib5qKQpkl7N8LLGT4GDJL1B2aWIHyarw7Zi37WsBo6R9LbUIXk6WT35G3Wu/wOyy1XPS+svZngZ5AvAeyW9UpmD03k4pI5tj3bdg8mSz3aA1Bn60tz8h4EZkqbUeWz7RMRe4GZghaRnSfp94B0jrHIIWQnpUbJE+fHR7jPnRuANkl6Xfn8+mLb9/TR/A/C29LuxCHhNbt2HgcPLykEAr5C0VNIk4P1pe7ePY3uF5+TeoSLia8AngBvS1+QfA6eMYv2tZC2xvyZLHluBZfzuM38bWcffY8BHyDpES+s+AfxX4Itkra2n+F1LqKn7rmPbjwJvJEsYj5J11r0xIn5Z5/pPk3WingPsIOsf+AZZsiAiBshq558ja7luIevYrGfbo1o31cE/RfYH52Gy1u73covcSnYJ6C8k1XV8Zc4ja4H/ArgWuJ50nBVcQ1ZKGQI28bvEOWoRsZnsvP5v4Jdkf7zflM49ZJ3ZbyI7/28nu6igtO5PUpz3pVJVqfTyz2S1/FJn+tJcf8pYtld4vonJgJFvJCo6SWuBKyLi/7Q7lmaS9AngBRFxdrtjGY1u/t0cD7fcretIeo2kF6SyzNnAyxhesy8ESb8v6WWpRHQ82beVr7U7LmsNd6haN5pLVhd+NllH6lsi4qH2htQUh5CVJKaTXX//KbLyhnUBl2XMzArIZRkzswJqW1nmiCOOiNmzZ7dr92ZmE9Idd9zxy4iodd9J+5L77NmzGRgYaNfuzcwmJEl13dHtsoyZWQE5uZuZFZCTu5lZATm5m5kVkJO7mVkBObmbmRWQk7uZWQE5uZuZFZAHDjMza5GV64e4bM1mtu3YxfSpvSxbOJcl88fz9MHqnNzNzFpg5fohzr/5bnbt3gvA0I5dnH/z3QBNSfA1yzKSrpL0iKQfV5kvSZ+VtEXSXZKOa3iUZmYT3GVrNu9L7CW7du/lsjWbm7K/emruVwOLRph/CnB0+jkX+Pz4wzIzK5ZtO3aNavp41UzuEfFdsmddVrMYuCYytwNTJR3ZqADNzIpg+tTeUU0fr0ZcLdNH9gDkksE0bT+SzpU0IGlg+/btDdi1mdnEsGzhXHon9wyb1ju5h2UL5zZlf41I7qowreLjnSLiyojoj4j+adNqDkdsZlYYS+b3ccnSefRN7UVA39ReLlk6r6OvlhkEZubezwC2NWC7ZmaFsmR+X9OSeblGtNxXAe9IV80sAJ4o6MOGzcwmjJotd0nXAycCR0gaBD4CTAaIiCuA1cCpwBZgJ/CuZgVrZmb1qZncI+LMGvMD+IuGRWRmZuPmsWXMzArIyd3MrICc3M3MCsjJ3cysgJzczcwKyMndzKyAnNzNzArIyd3MrICc3M3MCsjJ3cysgJzczcwKyMndzKyAnNzNzArIyd3MrICc3M3MCsjJ3cysgJzczcwKyMndzKyAnNzNzArIyd3MrICc3M3MCsjJ3cysgJzczcwKyMndzKyAJrU7ADOzZlu5fojL1mxm245dTJ/ay7KFc1kyv6/dYTWVk7uZFdrK9UOcf/Pd7Nq9F4ChHbs4/+a7AQqd4F2WMbNCu2zN5n2JvWTX7r1ctmZzmyJqDSd3Myu0bTt2jWp6UTi5m1mhTZ/aO6rpRVFXcpe0SNJmSVskLa8wf5ak2yStl3SXpFMbH6qZdbuV64c44dJbmbP8m5xw6a2sXD9Uc51lC+fSO7ln2LTeyT0sWzi3WWF2hJodqpJ6gMuBk4FBYJ2kVRGxKbfYh4EbI+Lzko4FVgOzmxCvmXWpsXaMlub5apn9HQ9siYj7ACTdACwG8sk9gOek14cC2xoZpJnZSB2jtRL1kvl9hU/m5eopy/QBW3PvB9O0vBXAWZIGyVrt/63ShiSdK2lA0sD27dvHEK6Zdatu7Rgdq3qSuypMi7L3ZwJXR8QM4FTgWkn7bTsiroyI/ojonzZt2uijNbOu1a0do2NVT3IfBGbm3s9g/7LLOcCNABHxA+Ag4IhGBGhmBt3bMTpW9ST3dcDRkuZImgKcAawqW+ZB4HUAkl5MltxddzGzhlkyv49Lls6jb2ovAvqm9nLJ0nldV0uvV80O1YjYI+k8YA3QA1wVERslXQQMRMQq4IPAFyT9D7KSzTsjorx0Y2Y2Lt3YMTpWdY0tExGryTpK89MuzL3eBJzQ2NDMzGysfIeqmVkBObmbmRWQk7uZWQE5uZuZFZCTu5lZATm5m5kVkJO7mVkBObmbmRWQk7uZWQE5uZuZFZCTu5lZATm5m5kVUF0Dh5mZ1Wvl+qGue15pJ3JyN7OGGetDrK3xXJYxs4YZ6SHW1lpO7mbWMH6IdedwcjezhvFDrDuHk7uZNYwfYt053KFqZg1T6jT11TLt5+RuZg3lh1h3BpdlzMwKyMndzKyAnNzNzArIyd3MrIDcoWrWxTwOTHE5uZt1KY8DU2wuy5h1KY8DU2xO7mZdyuPAFJuTu1mX8jgwxVZXcpe0SNJmSVskLa+yzJ9J2iRpo6R/amyYZtZoHgem2Gp2qErqAS4HTgYGgXWSVkXEptwyRwPnAydExOOSntesgM2sMTwOTLHVc7XM8cCWiLgPQNINwGJgU26Z9wCXR8TjABHxSKMDNbPG8zgwxVVPWaYP2Jp7P5im5R0DHCPpe5Jul7So0oYknStpQNLA9u3bxxaxmZnVVE/LXRWmRYXtHA2cCMwA/k3SSyNix7CVIq4ErgTo7+8v34aZNYFvVOpO9ST3QWBm7v0MYFuFZW6PiN3AzyVtJkv26xoSpZmNiW9U6l71lGXWAUdLmiNpCnAGsKpsmZXAfwKQdARZmea+RgZqZqPnG5W6V83kHhF7gPOANcA9wI0RsVHSRZJOS4utAR6VtAm4DVgWEY82K2gzq49vVOpedY0tExGrgdVl0y7MvQ7gA+nHzDrE9Km9DFVI5L5Rqfh8h6pZgflGpe7lUSHNCsw3KnUvJ3ezgvONSt3JZRkzswJycjczKyAndzOzAnJyNzMrICd3M7MCcnI3MysgJ3czswJycjczKyAndzOzAnJyNzMrIA8/YNZifjKStYKTu1kL+clI1iouy5i1kJ+MZK3i5G7WQn4ykrWKk7tZC1V7ApKfjGSN5uRu1kJ+MpK1ijtUzVrIT0ayVnFyN2sxPxnJWsFlGTOzAnLL3ayBfIOSdQond7MGWLl+iI9+fSOP79y9b5pvULJ2clnGbJxKd53mE3uJb1CydnFyNxunSned5vkGJWsHJ3ezcRqqkbx9g5K1g2vuZmOQ7zgdiW9QsnZxcjcbpfKRHUdyydJ57ky1tqirLCNpkaTNkrZIWj7Ccm+RFJL6GxeiWWepVWMv6Zva68RubVMzuUvqAS4HTgGOBc6UdGyF5Q4B/juwttFBmnWSejpIXY6xdqun5X48sCUi7ouIp4EbgMUVlvtb4JPAbxoYn1nHqdZB2iMhsha7yzHWbvXU3PuArbn3g8Ar8wtImg/MjIhvSPpQtQ1JOhc4F2DWrFmjj9asAyxbOHe/mnvv5B4ndOso9bTcVWFa7JspHQB8BvhgrQ1FxJUR0R8R/dOmTas/SrMOsmR+H5csnUff1F631K1j1dNyHwRm5t7PALbl3h8CvBT4jiSAFwCrJJ0WEQONCtSsk3hkR+t09bTc1wFHS5ojaQpwBrCqNDMinoiIIyJidkTMBm4HnNjNzNqoZnKPiD3AecAa4B7gxojYKOkiSac1O0AzMxu9um5iiojVwOqyaRdWWfbE8Ydl1jwelte6ge9Qta5Sfneph+W1onJyt8Kq1EKvdHdpaVheJ3crEid3K6RqLfRqwwZ4WF4rGg/5a4VUrYXeo0q3bXhYXiseJ3crpGot8b0R9E7uGTbN48BYETm524Sycv0QJ1x6K3OWf5MTLr2VleuHKi5XrSVeupvUd5da0Skiai/VBP39/TEw4PucrH6VxlHvndzDm1/Rx20/2T6s4xTw+C9WSJLuiIiaw6q75W4TRrU6+nW3P8jQjl0Ewy9tdAvdupmvlrEJo1odvfy7Z+nSxu8tf62TuXUtt9xtwhjNFS2+tNG6nZO7TRjLFs7d70qXyhc2+tJGMyd3mzAqjaP+9gWzfGmjWQWuuduEUmkc9f6jnuuBwMzKOLnbhOcHZ5jtz2UZM7MCcnI3MysgJ3czswJycjczKyAndzOzAnJyNzMrICd3M7MCcnI3MysgJ3czswLyHarWcCvXD3k4ALM2c3K3hip/WlL+4RlO8Gat47KMNVS1pyVdtmZzmyIy605O7tZQ1R6S4YdnmLWWk7s1VLWHZPjhGWat5eRuDVXpaUl+eIZZ69WV3CUtkrRZ0hZJyyvM/4CkTZLukvQvko5qfKg2EVR6WtIlS+e5M9WsxWpeLSOpB7gcOBkYBNZJWhURm3KLrQf6I2KnpPcBnwROb0bA1vn88Ayz9qun5X48sCUi7ouIp4EbgMX5BSLitojYmd7eDsxobJhmZjYa9ST3PmBr7v1gmlbNOcC3Ks2QdK6kAUkD27dvrz9KMzMblXqSuypMi4oLSmcB/cBlleZHxJUR0R8R/dOmTas/SjMzG5V67lAdBGbm3s8AtpUvJOkk4ALgNRHx28aEZ2ZmY1FPy30dcLSkOZKmAGcAq/ILSJoP/ANwWkQ80vgwzcxsNGq23CNij6TzgDVAD3BVRGyUdBEwEBGryMowzwZukgTwYESc1sS4bQw8oJdZ96hr4LCIWA2sLpt2Ye71SQ2OyxrMA3qZdRffodolPKCXWXdxcu8SHtDLrLs4uXcJD+hl1l2c3LuEB/Qy6y5+EtMEMd4rXUrL+moZs+7g5D4BNOpKFw/oZdY9XJaZAHyli5mNlpP7BOArXcxstJzcJwBf6WJmo+WaexvlO0kP7Z2MBDt27t6vs3PZwrnDau7gK13MbGRO7m1S3km6Y9fuffPKO0x9pYuZjZaTe5tU6iTNK3WYlhK4r3Qxs9Fwzb1NhuroDHWHqZmNlZN7G6xcP1Tx8Vbl3GFqZmPl5N4Gl63ZXPk5hTnuMDWz8XDNfQxGGgpg5fohPvr1jTy+M+sgndo7mRWnvWRYvXykcovAHaZmNm5O7qM00lAAAw88xpdvf3DY8jt27WbZTXcCvxsqYPrU3oo1976pvXxv+WubGb6ZdQmXZUap2lAAH7hxw36JvWT3MzFsqACP0GhmzeaWe51KpZhqV7k8U6OIni/F+Lp1M2s2J/c6fHjl3VVb5fUqv/LF162bWTO5LFPDyvVD407skw+QSy5m1lJuuSfVroAZ77C6z5p8AB9f+jK30s2spZzcGfkKmNHcJTq5Rxw8ZRJP7Np/8C8zs1Zycmfkh2FUu2wRslb5YQcf6E5RM+s4XZfcK5VfRnoYxmdOfznLvnonu/cOvxzmAOFyi5l1rK5K7tXKL4f2Th425G7J9Km9+5J3rbtOzcw6SaGT+4dX3s31a7eyN4IeiQMniV27nxm2zK7dezlo8gH0Tu6p+jAMX7ZoZhNNYS+FLF2bvjeycsreCHaWJfaSHTt3c8nSefRN7UVkwwBcsnSeE7qZTVgTvuVe7RLG69durXsbpfKLk7mZFUVdyV3SIuDvgR7gixFxadn8A4FrgFcAjwKnR8T9jQ0VXvmxW3j4yaerzs9fwlhqsdfiMV3MrIhqlmUk9QCXA6cAxwJnSjq2bLFzgMcj4kXAZ4BPNDrQWom9pHQJY48qPw5DwuUXMyu8elruxwNbIuI+AEk3AIuBTbllFgMr0uuvAp+TpIg6m891qCexl2zbsYu3L5hVcdiAt79yFhcvmdeosMzMOlI9Hap9QL6APZimVVwmIvYATwCHl29I0rmSBiQNbN++fWwR12H61F4uXjKPsxbM2teC75E4a4ETu5l1h3pa7pXqG+Ut8nqWISKuBK4E6O/vb1irPi9fQ794yTwnczPrSvW03AeBmbn3M4Bt1ZaRNAk4FHisEQGWPP+QKTWXmdo72TV0MzPqS+7rgKMlzZE0BTgDWFW2zCrg7PT6LcCtjay3A6y94OSqCf7ASQfwd6e/nA0feb0Tu5kZdZRlImKPpPOANWSXQl4VERslXQQMRMQq4B+BayVtIWuxn9GMYNdecHIzNmtmVjh1XeceEauB1WXTLsy9/g3w1saGZmZmY1XY4QfMzLqZk7uZWQE5uZuZFZCTu5lZATm5m5kVkJO7mVkBObmbmRWQGnwjaf07lrYDD4xx9SOAXzYwnGbo9Bgd3/h0enzQ+TE6vrE5KiKm1Vqobcl9PCQNRER/u+MYSafH6PjGp9Pjg86P0fE1l8syZmYF5ORuZlZAEzW5X9nuAOrQ6TE6vvHp9Pig82N0fE00IWvuZmY2sonacjczsxE4uZuZFdCES+6SFknaLGmLpOUt3O9MSbdJukfSRkl/maavkDQkaUP6OTW3zvkpzs2SFjb7GCTdL+nuFMdAmvZcSbdIujf9e1iaLkmfTTHcJem43HbOTsvfK+nsavsbZWxzc+dog6RfSXp/u8+fpKskPSLpx7lpDTtnkl6RPpMtad1KzxsebXyXSfpJiuFrkqam6bMl7cqdyytqxVHtWMcZX8M+U2VPgFub4vuKsqfBjUqVGL+Si+9+SRvadQ6bJiImzA/Zk6B+BrwQmALcCRzbon0fCRyXXh8C/BQ4FlgBfKjC8sem+A4E5qS4e5p5DMD9wBFl0z4JLE+vlwOfSK9PBb5F9nDzBcDaNP25wH3p38PS68Oa8Dn+Ajiq3ecP+BPgOODHzThnwA+BP0rrfAs4pQHxvR6YlF5/Ihff7PxyZdupGEe1Yx1nfA37TIEbgTPS6yuA9zXiMy6b/yngwnadw2b9TLSW+/HAloi4LyKeBm4AFrdixxHxUET8KL1+ErgHGOmBrYuBGyLitxHxc2ALWfytPobFwJfS6y8BS3LTr4nM7cBUSUcCC4FbIuKxiHgcuAVY1OCYXgf8LCJGukO5JecvIr7L/g9zb8g5S/OeExE/iOx//jW5bY05voj4dkTsSW9vJ3tofVU14qh2rGOObwSj+kxTy/i1wFfHGl+tGNM+/gy4fqRtNPMcNstES+59wNbc+0FGTrBNIWk2MB9Ymyadl74iX5X7SlYt1mYeQwDflnSHpHPTtOdHxEOQ/YECntfG+ErOYPh/pk45fyWNOmd96XUzY303WSuyZI6k9ZL+VdIf5+KuFke1Yx2vRnymhwM7cn/ImnH+/hh4OCLuzU3rlHM4LhMtuVeqV7b0Wk5Jzwb+L/D+iPgV8Hng94CXAw+RfcWD6rE28xhOiIjjgFOAv5D0JyMs2474SDXT04Cb0qROOn+1jDamZp/LC4A9wHVp0kPArIiYD3wA+CdJz2l2HBU06jNtRdxnMryh0SnncNwmWnIfBGbm3s8AtrVq55ImkyX26yLiZoCIeDgi9kbEM8AXyL5ijhRr044hIralfx8BvpZieTh9pSx9tXykXfElpwA/ioiHU6wdc/5yGnXOBhleMmlYrKnT9o3A21OZgFTueDS9voOsjn1MjTiqHeuYNfAz/SVZ6WtShbjHLW13KfCVXOwdcQ4bYaIl93XA0akHfQrZ1/tVrdhxqs39I3BPRHw6N/3I3GJ/CpR65FcBZ0g6UNIc4GiyDpmmHIOkgyUdUnpN1un247Tt0tUbZwP/nIvvHcosAJ5IXynXAK+XdFj6Ov36NK1RhrWUOuX8lWnIOUvznpS0IP3+vCO3rTGTtAj4K+C0iNiZmz5NUk96/UKyc3ZfjTiqHet44mvIZ5r+aN0GvKWR8eWcBPwkIvaVWzrlHDZEu3t0R/tDdsXCT8n+ol7Qwv2+muxr2F3AhvRzKnAtcHeavgo4MrfOBSnOzeSukmjGMZBdaXBn+tlY2i5Z3fJfgHvTv89N0wVcnmK4G+jPbevdZJ1dW4B3NfAcPgt4FDg0N62t54/sD81DwG6y1tk5jTxnQD9ZcvsZ8DnSXeHjjG8LWY269Ht4RVr2zemzvxP4EfCmWnFUO9ZxxtewzzT9Xv8wHfNNwIGN+IzT9KuB95Yt2/Jz2KwfDz9gZlZAE60sY2ZmdXByNzMrICd3M7MCcnI3MysgJ3czswJycjczKyAndzOzAvoPaJW5KzcfmWoAAAAASUVORK5CYII=
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that (1) the effort increases quadratically over time, and (2) we can easily produce outputs that are tens of thousands of characters long.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To address these problem, we need a <em>smarter algorithm</em> – one that is more efficient, that gets us better control over expansions, and that is able to foresee in <code>expr_grammar</code> that the <code>(expr)</code> alternative yields a potentially infinite expansion, in contrast to the other two.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Derivation-Trees">Derivation Trees<a class="anchor-link" href="#Derivation-Trees">&#182;</a></h2><p>To both obtain a more efficient algorithm <em>and</em> exercise better control over expansions, we will use a special representation for the strings that our grammar produces.  The general idea is to use a <em>tree</em> structure that will be subsequently expanded – a so-called <em>derivation tree</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Like other trees used in programming, a derivation tree consists of <em>nodes</em> which have other nodes as their <em>children</em>.  The tree starts with one node that has no parent; this is called the <em>root node</em>; a node without children is called a <em>leaf</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The grammar expansion process with derivation trees is illustrated in the following steps, using the arithmetic grammar <a href="Grammars.html">from
the chapter on grammars</a>.  We start with a single node as root of the tree, representing the <em>start symbol</em> – in our case <code>&lt;start&gt;</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: root Pages: 1 -->
<svg width="48pt" height="22pt"
 viewBox="0.00 0.00 47.89 22.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 18)">
<title>root</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-18 43.8945,-18 43.8945,4 -4,4"/>
<!-- \&lt;start\&gt; -->
<g id="node1" class="node">
<title>\&lt;start\&gt;</title>
<text text-anchor="middle" x="19.9473" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To expand the tree, we traverse it, searching for a symbol $S$ without children to expand, and chose an expansion for $S$ from the grammar.  Then, we add the expansion as a new child of $S$.  In the case of our start symbol <code>&lt;start&gt;</code>, its only expansion is <code>&lt;expr&gt;</code>, so we add this as a child.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: root Pages: 1 -->
<svg width="49pt" height="72pt"
 viewBox="0.00 0.00 48.67 72.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 68)">
<title>root</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-68 44.667,-68 44.667,4 -4,4"/>
<!-- \&lt;start\&gt; -->
<g id="node1" class="node">
<title>\&lt;start\&gt;</title>
<text text-anchor="middle" x="20.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- \&lt;expr\&gt; -->
<g id="node2" class="node">
<title>\&lt;expr\&gt;</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- \&lt;start\&gt;&#45;&gt;\&lt;expr\&gt; -->
<g id="edge1" class="edge">
<title>\&lt;start\&gt;&#45;&gt;\&lt;expr\&gt;</title>
<path fill="none" stroke="#000000" d="M20.3335,-49.6223C20.3335,-42.9738 20.3335,-32.942 20.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="23.8336,-24.0842 20.3335,-14.0842 16.8336,-24.0842 23.8336,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To construct the produced string from a derivation tree, we traverse the tree in order and collect the symbols at the leaves of the tree.  In the case above, we obtain the string <code>"&lt;expr&gt;"</code>.</p>
<p>To further expand the tree, we choose another symbol to expand, and add its expansion as new children.  This would get us the <code>&lt;expr&gt;</code> symbol, which gets expanded into <code>&lt;expr&gt; + &lt;term&gt;</code>, adding three children.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: root Pages: 1 -->
<svg width="138pt" height="122pt"
 viewBox="0.00 0.00 137.81 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>root</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 133.8066,-118 133.8066,4 -4,4"/>
<!-- \&lt;start\&gt; -->
<g id="node1" class="node">
<title>\&lt;start\&gt;</title>
<text text-anchor="middle" x="66.0835" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- \&lt;expr\&gt; -->
<g id="node2" class="node">
<title>\&lt;expr\&gt;</title>
<text text-anchor="middle" x="66.0835" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- \&lt;start\&gt;&#45;&gt;\&lt;expr\&gt; -->
<g id="edge1" class="edge">
<title>\&lt;start\&gt;&#45;&gt;\&lt;expr\&gt;</title>
<path fill="none" stroke="#000000" d="M66.0835,-99.6223C66.0835,-92.9738 66.0835,-82.942 66.0835,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.5836,-74.0842 66.0835,-64.0842 62.5836,-74.0842 69.5836,-74.0842"/>
</g>
<!-- \&lt;expr\&gt;  -->
<g id="node3" class="node">
<title>\&lt;expr\&gt; </title>
<text text-anchor="middle" x="22.0835" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt; </text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;\&lt;expr\&gt;  -->
<g id="edge2" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;\&lt;expr\&gt; </title>
<path fill="none" stroke="#000000" d="M59.5911,-49.6223C53.1488,-42.3014 43.0965,-30.8785 35.0196,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="37.5514,-19.2791 28.3176,-14.0842 32.2964,-23.9036 37.5514,-19.2791"/>
</g>
<!-- + -->
<g id="node4" class="node">
<title>+</title>
<text text-anchor="middle" x="66.0835" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;+ -->
<g id="edge3" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;+</title>
<path fill="none" stroke="#000000" d="M66.0835,-49.6223C66.0835,-42.9738 66.0835,-32.942 66.0835,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.5836,-24.0842 66.0835,-14.0842 62.5836,-24.0842 69.5836,-24.0842"/>
</g>
<!-- \&lt;term\&gt; -->
<g id="node5" class="node">
<title>\&lt;term\&gt;</title>
<text text-anchor="middle" x="109.0835" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;\&lt;term\&gt; -->
<g id="edge4" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;\&lt;term\&gt;</title>
<path fill="none" stroke="#000000" d="M72.4283,-49.6223C78.7243,-42.3014 88.548,-30.8785 96.4414,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.1243,-23.9482 102.9911,-14.0842 93.817,-19.3839 99.1243,-23.9482"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We repeat the expansion until there are no symbols left to expand:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea output_execute_result">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: root Pages: 1 -->
<svg width="151pt" height="372pt"
 viewBox="0.00 0.00 151.41 372.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 368)">
<title>root</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-368 147.4102,-368 147.4102,4 -4,4"/>
<!-- \&lt;start\&gt; -->
<g id="node1" class="node">
<title>\&lt;start\&gt;</title>
<text text-anchor="middle" x="73.0801" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- \&lt;expr\&gt; -->
<g id="node2" class="node">
<title>\&lt;expr\&gt;</title>
<text text-anchor="middle" x="73.0801" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- \&lt;start\&gt;&#45;&gt;\&lt;expr\&gt; -->
<g id="edge1" class="edge">
<title>\&lt;start\&gt;&#45;&gt;\&lt;expr\&gt;</title>
<path fill="none" stroke="#000000" d="M73.0801,-349.6223C73.0801,-342.9738 73.0801,-332.942 73.0801,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="76.5802,-324.0842 73.0801,-314.0842 69.5802,-324.0842 76.5802,-324.0842"/>
</g>
<!-- \&lt;expr\&gt;  -->
<g id="node3" class="node">
<title>\&lt;expr\&gt; </title>
<text text-anchor="middle" x="29.0801" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt; </text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;\&lt;expr\&gt;  -->
<g id="edge2" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;\&lt;expr\&gt; </title>
<path fill="none" stroke="#000000" d="M66.5877,-299.6223C60.1453,-292.3014 50.0931,-280.8785 42.0162,-271.7001"/>
<polygon fill="#000000" stroke="#000000" points="44.548,-269.2791 35.3142,-264.0842 39.293,-273.9036 44.548,-269.2791"/>
</g>
<!-- + -->
<g id="node4" class="node">
<title>+</title>
<text text-anchor="middle" x="73.0801" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">+</text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;+ -->
<g id="edge3" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;+</title>
<path fill="none" stroke="#000000" d="M73.0801,-299.6223C73.0801,-292.9738 73.0801,-282.942 73.0801,-274.2807"/>
<polygon fill="#000000" stroke="#000000" points="76.5802,-274.0842 73.0801,-264.0842 69.5802,-274.0842 76.5802,-274.0842"/>
</g>
<!-- \&lt;term\&gt; -->
<g id="node5" class="node">
<title>\&lt;term\&gt;</title>
<text text-anchor="middle" x="116.0801" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- \&lt;expr\&gt;&#45;&gt;\&lt;term\&gt; -->
<g id="edge4" class="edge">
<title>\&lt;expr\&gt;&#45;&gt;\&lt;term\&gt;</title>
<path fill="none" stroke="#000000" d="M79.4249,-299.6223C85.7208,-292.3014 95.5446,-280.8785 103.438,-271.7001"/>
<polygon fill="#000000" stroke="#000000" points="106.1209,-273.9482 109.9877,-264.0842 100.8136,-269.3839 106.1209,-273.9482"/>
</g>
<!-- \&lt;term\&gt;  -->
<g id="node6" class="node">
<title>\&lt;term\&gt; </title>
<text text-anchor="middle" x="29.0801" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt; </text>
</g>
<!-- \&lt;expr\&gt; &#45;&gt;\&lt;term\&gt;  -->
<g id="edge5" class="edge">
<title>\&lt;expr\&gt; &#45;&gt;\&lt;term\&gt; </title>
<path fill="none" stroke="#000000" d="M29.0801,-249.6223C29.0801,-242.9738 29.0801,-232.942 29.0801,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.5802,-224.0842 29.0801,-214.0842 25.5802,-224.0842 32.5802,-224.0842"/>
</g>
<!-- \&lt;factor\&gt; -->
<g id="node11" class="node">
<title>\&lt;factor\&gt;</title>
<text text-anchor="middle" x="116.0801" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- \&lt;term\&gt;&#45;&gt;\&lt;factor\&gt; -->
<g id="edge10" class="edge">
<title>\&lt;term\&gt;&#45;&gt;\&lt;factor\&gt;</title>
<path fill="none" stroke="#000000" d="M116.0801,-249.6223C116.0801,-242.9738 116.0801,-232.942 116.0801,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="119.5802,-224.0842 116.0801,-214.0842 112.5802,-224.0842 119.5802,-224.0842"/>
</g>
<!-- \&lt;factor\&gt;  -->
<g id="node7" class="node">
<title>\&lt;factor\&gt; </title>
<text text-anchor="middle" x="29.0801" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt; </text>
</g>
<!-- \&lt;term\&gt; &#45;&gt;\&lt;factor\&gt;  -->
<g id="edge6" class="edge">
<title>\&lt;term\&gt; &#45;&gt;\&lt;factor\&gt; </title>
<path fill="none" stroke="#000000" d="M29.0801,-199.6223C29.0801,-192.9738 29.0801,-182.942 29.0801,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.5802,-174.0842 29.0801,-164.0842 25.5802,-174.0842 32.5802,-174.0842"/>
</g>
<!-- \&lt;integer\&gt;  -->
<g id="node8" class="node">
<title>\&lt;integer\&gt; </title>
<text text-anchor="middle" x="29.0801" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt; </text>
</g>
<!-- \&lt;factor\&gt; &#45;&gt;\&lt;integer\&gt;  -->
<g id="edge7" class="edge">
<title>\&lt;factor\&gt; &#45;&gt;\&lt;integer\&gt; </title>
<path fill="none" stroke="#000000" d="M29.0801,-149.6223C29.0801,-142.9738 29.0801,-132.942 29.0801,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.5802,-124.0842 29.0801,-114.0842 25.5802,-124.0842 32.5802,-124.0842"/>
</g>
<!-- \&lt;digit\&gt;  -->
<g id="node9" class="node">
<title>\&lt;digit\&gt; </title>
<text text-anchor="middle" x="29.0801" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt; </text>
</g>
<!-- \&lt;integer\&gt; &#45;&gt;\&lt;digit\&gt;  -->
<g id="edge8" class="edge">
<title>\&lt;integer\&gt; &#45;&gt;\&lt;digit\&gt; </title>
<path fill="none" stroke="#000000" d="M29.0801,-99.6223C29.0801,-92.9738 29.0801,-82.942 29.0801,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.5802,-74.0842 29.0801,-64.0842 25.5802,-74.0842 32.5802,-74.0842"/>
</g>
<!-- 2  -->
<g id="node10" class="node">
<title>2 </title>
<text text-anchor="middle" x="29.0801" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">2 </text>
</g>
<!-- \&lt;digit\&gt; &#45;&gt;2  -->
<g id="edge9" class="edge">
<title>\&lt;digit\&gt; &#45;&gt;2 </title>
<path fill="none" stroke="#000000" d="M29.0801,-49.6223C29.0801,-42.9738 29.0801,-32.942 29.0801,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.5802,-24.0842 29.0801,-14.0842 25.5802,-24.0842 32.5802,-24.0842"/>
</g>
<!-- \&lt;integer\&gt; -->
<g id="node12" class="node">
<title>\&lt;integer\&gt;</title>
<text text-anchor="middle" x="116.0801" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- \&lt;factor\&gt;&#45;&gt;\&lt;integer\&gt; -->
<g id="edge11" class="edge">
<title>\&lt;factor\&gt;&#45;&gt;\&lt;integer\&gt;</title>
<path fill="none" stroke="#000000" d="M116.0801,-199.6223C116.0801,-192.9738 116.0801,-182.942 116.0801,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="119.5802,-174.0842 116.0801,-164.0842 112.5802,-174.0842 119.5802,-174.0842"/>
</g>
<!-- \&lt;digit\&gt; -->
<g id="node13" class="node">
<title>\&lt;digit\&gt;</title>
<text text-anchor="middle" x="116.0801" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- \&lt;integer\&gt;&#45;&gt;\&lt;digit\&gt; -->
<g id="edge12" class="edge">
<title>\&lt;integer\&gt;&#45;&gt;\&lt;digit\&gt;</title>
<path fill="none" stroke="#000000" d="M116.0801,-149.6223C116.0801,-142.9738 116.0801,-132.942 116.0801,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="119.5802,-124.0842 116.0801,-114.0842 112.5802,-124.0842 119.5802,-124.0842"/>
</g>
<!-- 2 -->
<g id="node14" class="node">
<title>2</title>
<text text-anchor="middle" x="116.0801" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- \&lt;digit\&gt;&#45;&gt;2 -->
<g id="edge13" class="edge">
<title>\&lt;digit\&gt;&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M116.0801,-99.6223C116.0801,-92.9738 116.0801,-82.942 116.0801,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="119.5802,-74.0842 116.0801,-64.0842 112.5802,-74.0842 119.5802,-74.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now have a representation for the string <code>2 + 2</code>.  In contrast to the string alone, though, the derivation tree records <em>the entire structure</em> (and production history, or <em>derivation</em> history) of the produced string.  It also allows for simple comparison and manipulation – say, replacing one subtree (substructure) against another.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Representing-Derivation-Trees">Representing Derivation Trees<a class="anchor-link" href="#Representing-Derivation-Trees">&#182;</a></h2><p>To represent a derivation tree in Python, we use the following format.  A node is a pair</p>
<div class="highlight"><pre><span></span><span class="p">(</span><span class="n">SYMBOL_NAME</span><span class="p">,</span> <span class="n">CHILDREN</span><span class="p">)</span>
</pre></div>
<p>where <code>SYMBOL_NAME</code> is a string representing the node (i.e. <code>"&lt;start&gt;"</code> or <code>"+"</code>) and <code>CHILDREN</code> is a list of children nodes.</p>
<p><code>CHILDREN</code> can take some special values:</p>
<ol>
<li><code>None</code> as a placeholder for future expansion.  This means that the node is a <em>nonterminal symbol</em> that should be expanded further.</li>
<li><code>[]</code> (i.e., the empty list) to indicate <em>no</em> children.  This means that the node is a <em>terminal symbol</em> that can no longer be expanded.</li>
</ol>
<p>Let us take a very simple derivation tree, representing the intermediate step <code>&lt;expr&gt; + &lt;term&gt;</code>, above.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To better understand the structure of this tree, let us introduce a function that visualizes this tree.  We use the <code>dot</code> drawing program from the <code>graphviz</code> package algorithmically, traversing the above structure.  (Unless you're deeply interested in tree visualization, you can directly skip to the example below.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="k">import</span> <span class="n">display</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">re</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">dot_escape</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return s in a form suitable for dot&quot;&quot;&quot;</span>
    <span class="c1"># s = s.replace(&quot;\\&quot;, &quot;\\\\&quot;)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;([^a-zA-Z0-9 ])&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">\1&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">s</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">dot_escape</span><span class="p">(</span><span class="s2">&quot;hello&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;hello&quot;</span>
<span class="k">assert</span> <span class="n">dot_escape</span><span class="p">(</span><span class="s2">&quot;&lt;hello&gt;, world&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">&lt;hello</span><span class="se">\\</span><span class="s2">&gt;</span><span class="se">\\</span><span class="s2">, world&quot;</span>
<span class="k">assert</span> <span class="n">dot_escape</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\\</span><span class="s2">n&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;</span><span class="se">\\\\</span><span class="s2">n&quot;</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Visualize a derivation tree as SVG using the graphviz/dot package.&quot;&quot;&quot;</span>

    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">def</span> <span class="nf">traverse_tree</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="n">dot</span><span class="o">.</span><span class="n">node</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span> <span class="n">dot_escape</span><span class="p">(</span><span class="n">symbol</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">child</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
                <span class="k">nonlocal</span> <span class="n">counter</span>  <span class="c1"># Assign each node a unique identifier</span>
                <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">child_id</span> <span class="o">=</span> <span class="n">counter</span>
                <span class="n">dot</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="nb">id</span><span class="p">),</span> <span class="nb">repr</span><span class="p">(</span><span class="n">child_id</span><span class="p">))</span>
                <span class="n">traverse_tree</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">child</span><span class="p">,</span> <span class="n">child_id</span><span class="p">)</span>

    <span class="n">dot</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="n">comment</span><span class="o">=</span><span class="s2">&quot;Derivation Tree&quot;</span><span class="p">)</span>
    <span class="n">dot</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;node&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="s1">&#39;plain&#39;</span><span class="p">)</span>
    <span class="n">traverse_tree</span><span class="p">(</span><span class="n">dot</span><span class="p">,</span> <span class="n">derivation_tree</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">dot</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is what our tree visualizes into:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="122pt"
 viewBox="0.00 0.00 141.06 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 137.0566,-118 137.0566,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.3335,-99.6223C66.3335,-92.9738 66.3335,-82.942 66.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-74.0842 66.3335,-64.0842 62.8336,-74.0842 69.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.546,-49.6223C52.8108,-42.3014 42.3017,-30.8785 33.8576,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.1973,-19.0738 26.8509,-14.0842 31.0458,-23.8132 36.1973,-19.0738"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="66.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M66.3335,-49.6223C66.3335,-42.9738 66.3335,-32.942 66.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-24.0842 66.3335,-14.0842 62.8336,-24.0842 69.8336,-24.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="112.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M73.121,-49.6223C79.8562,-42.3014 90.3653,-30.8785 98.8094,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="101.6212,-23.8132 105.816,-14.0842 96.4697,-19.0738 101.6212,-23.8132"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To turn the tree into a string, the following <code>all_terminals()</code> function comes in handy:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">all_terminals</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
    <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
    <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># This is a nonterminal symbol not expanded yet</span>
        <span class="k">return</span> <span class="n">symbol</span>

    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="c1"># This is a terminal symbol</span>
        <span class="k">return</span> <span class="n">symbol</span>

    <span class="c1"># This is an expanded symbol:</span>
    <span class="c1"># Concatenate all terminal symbols from all children</span>
    <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">all_terminals</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_terminals</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;&lt;expr&gt; + &lt;term&gt;&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Expanding-a-Node">Expanding a Node<a class="anchor-link" href="#Expanding-a-Node">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now develop an algorithm that takes a tree with unexpanded symbols (say, <code>derivation_tree</code>, above), and expands all these symbols one after the other.  As with earlier fuzzers, we create a special subclass of <code>Fuzzer</code> – in this case, <code>GrammarFuzzer</code>.  A <code>GrammarFuzzer</code> gets a grammar and a start symbol; the other parameters will be used later to further control creation and to support debugging.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">Fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">Fuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">grammar</span><span class="p">,</span> <span class="n">start_symbol</span><span class="o">=</span><span class="n">START_SYMBOL</span><span class="p">,</span>
                 <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">disp</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span> <span class="o">=</span> <span class="n">grammar</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span> <span class="o">=</span> <span class="n">start_symbol</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">min_nonterminals</span> <span class="o">=</span> <span class="n">min_nonterminals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">max_nonterminals</span> <span class="o">=</span> <span class="n">max_nonterminals</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">disp</span> <span class="o">=</span> <span class="n">disp</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log</span> <span class="o">=</span> <span class="n">log</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>In the following, we will add further methods to <code>GrammarFuzzer</code>, using the hack already introduced for <a href="MutationFuzzer.html">the <code>MutationFuzzer</code> class</a>.  The construct</p>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">new_method</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">args</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
<p>allows us to add a new method <code>new_method()</code> to the <code>GrammarFuzzer</code> class. (Actually, we get a new <code>GrammarFuzzer</code> class that extends the old one, but for all our purposes, this does not matter.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Using this hack, let us define a helper method <code>init_tree()</code> that constructs a tree with just the start symbol:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">init_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">start_symbol</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">init_tree</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="48pt" height="22pt"
 viewBox="0.00 0.00 47.89 22.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 18)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-18 43.8945,-18 43.8945,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="19.9473" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Next, we will need a helper method <code>expansion_to_children()</code> that takes an expansion string and converts it into a list of derivation trees.  It uses the <code>re.split()</code> method to split an expansion string into a list of children nodes:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expansion_to_children</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expansion</span><span class="p">):</span>
        <span class="c1"># print(&quot;Converting &quot; + repr(expansion))</span>
        <span class="c1"># strings contains all substrings -- both terminals and non-terminals such</span>
        <span class="c1"># that &#39;&#39;.join(strings) == expansion</span>

        <span class="c1"># See nonterminals() in Grammars.py</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">):</span>
            <span class="n">expansion</span> <span class="o">=</span> <span class="n">expansion</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">expansion</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>  <span class="c1"># Special case: empty expansion</span>
            <span class="k">return</span> <span class="p">[(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="p">[])]</span>

        <span class="n">strings</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">RE_NONTERMINAL</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">[(</span><span class="n">s</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="k">if</span> <span class="n">is_nonterminal</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">else</span> <span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="p">[])</span>
                <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">strings</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">expansion_to_children</span><span class="p">(</span><span class="s2">&quot;&lt;term&gt; + &lt;expr&gt;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;&lt;term&gt;&#39;, None), (&#39; + &#39;, []), (&#39;&lt;expr&gt;&#39;, None)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The case of an empty expansion needs special treatment:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">expansion_to_children</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;&#39;, [])]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Just like <code>nonterminals()</code> in the <a href="Grammars.html">chapter on Grammars</a>, we provide for future extensions, allowing the expansion to be a tuple with extra data (which will be ignored).</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">expansion_to_children</span><span class="p">((</span><span class="s2">&quot;+&lt;term&gt;&quot;</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;extra_data&quot;</span><span class="p">]))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>[(&#39;+&#39;, []), (&#39;&lt;term&gt;&#39;, None)]
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With this, we can now take some unexpanded node in the tree, choose a random expansion, and return the new tree.  This is what the method <code>expand_node_randomly()</code> does, using a helper function <code>choose_node_expansion()</code> to randomly pick an index from an array of possible children.  (<code>choose_node_expansion()</code> can be overloaded in subclasses.)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">choose_node_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return index of expansion in `possible_children` to be selected.  Defaults to random.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">possible_children</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">expand_node_randomly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">assert</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expanding&quot;</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">(</span><span class="n">node</span><span class="p">),</span> <span class="s2">&quot;randomly&quot;</span><span class="p">)</span>

        <span class="c1"># Fetch the possible expansions from grammar...</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span>
        <span class="n">possible_children</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">expansion_to_children</span><span class="p">(</span>
            <span class="n">expansion</span><span class="p">)</span> <span class="k">for</span> <span class="n">expansion</span> <span class="ow">in</span> <span class="n">expansions</span><span class="p">]</span>

        <span class="c1"># ... and select a random expansion</span>
        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">choose_node_expansion</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">)</span>
        <span class="n">children</span> <span class="o">=</span> <span class="n">possible_children</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="c1"># Return with new children</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The generic <code>expand_node()</code> method can later be used to select different expansion strategies; as of now, it only uses <code>expand_node_randomly()</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_randomly</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is how <code>expand_node_randomly()</code> works:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Before:&quot;</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;After:&quot;</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_node_randomly</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Before:
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="49pt" height="22pt"
 viewBox="0.00 0.00 49.45 22.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 18)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-18 45.4463,-18 45.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>After:
Expanding &lt;term&gt; randomly
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="145pt" height="72pt"
 viewBox="0.00 0.00 144.94 72.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 68)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-68 140.9395,-68 140.9395,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="72.2163" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="24.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M65.1337,-49.6223C58.034,-42.2267 46.9154,-30.6449 38.0594,-21.4199"/>
<polygon fill="#000000" stroke="#000000" points="40.4673,-18.8742 31.0171,-14.0842 35.4176,-23.722 40.4673,-18.8742"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="72.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> / </text>
</g>
<!-- 0&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>0&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M72.2163,-49.6223C72.2163,-42.9738 72.2163,-32.942 72.2163,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="75.7164,-24.0842 72.2163,-14.0842 68.7164,-24.0842 75.7164,-24.0842"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="116.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 0&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>0&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M78.7087,-49.6223C85.151,-42.3014 95.2033,-30.8785 103.2802,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="106.0034,-23.9036 109.9822,-14.0842 100.7484,-19.2791 106.0034,-23.9036"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Expanding-a-Tree">Expanding a Tree<a class="anchor-link" href="#Expanding-a-Tree">&#182;</a></h2><p>Let us now apply the above node expansion to some node in the tree.  To this end, we first need to search the tree for unexpanded nodes.  <code>possible_expansions()</code> counts how many unexpanded symbols there are in a tree:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">possible_expansions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>

        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">possible_expansions</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">possible_expansions</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">))</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>2
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><code>any_possible_expansions()</code> returns True if the tree has any unexpanded nodes.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">any_possible_expansions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>True
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here comes <code>expand_tree_once()</code>, the core method of our tree expansion algorithm.  It first checks whether it is currently being applied on a nonterminal symbol without expansion; if so, it invokes <code>expand_node()</code> on it as above.</p>
<p>If the node is already expanded (i.e. has children), it checks the subset of children which still have unexpanded symbols; randomly selects one of them, and applies itself recursively on that child.</p>
<p>The <code>expand_tree_once()</code> method replaces the child <em>in place</em>, meaning that it actually mutates the tree being passed as an argument rather than returning a new tree.  This in-place mutation is what makes this function particularly efficient.  Again, we use a helper method (<code>choose_tree_expansion()</code>) to return the chosen index from a list of children that can be expanded.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">choose_tree_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">children</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return index of subtree in `children` to be selected for expansion.  Defaults to random.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">expand_tree_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="c1"># print(&quot;Expanding &quot; + repr(tree))</span>

        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Expand this node</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>

        <span class="c1"># Find all children with possible expansions</span>
        <span class="n">expandable_children</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span>

        <span class="c1"># `index_map` translates an index in `expandable_children` back into the original index in `children`</span>
        <span class="n">index_map</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">children</span><span class="p">)</span>
                     <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">c</span><span class="p">)]</span>

        <span class="c1"># print(&quot;expandable_children =&quot;, expandable_children)</span>
        <span class="c1"># print(&quot;index_map =&quot;, index_map)</span>

        <span class="c1"># Select a random child</span>
        <span class="n">child_to_be_expanded</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">choose_tree_expansion</span><span class="p">(</span>
            <span class="n">tree</span><span class="p">,</span> <span class="n">expandable_children</span><span class="p">)</span>

        <span class="c1"># Expand in place</span>
        <span class="n">children</span><span class="p">[</span><span class="n">index_map</span><span class="p">[</span><span class="n">child_to_be_expanded</span><span class="p">]]</span> <span class="o">=</span> \
            <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">expandable_children</span><span class="p">[</span><span class="n">child_to_be_expanded</span><span class="p">])</span>

        <span class="k">return</span> <span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let's put it to use, expanding our derivation tree from above twice.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="122pt"
 viewBox="0.00 0.00 141.06 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 137.0566,-118 137.0566,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.3335,-99.6223C66.3335,-92.9738 66.3335,-82.942 66.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-74.0842 66.3335,-64.0842 62.8336,-74.0842 69.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.546,-49.6223C52.8108,-42.3014 42.3017,-30.8785 33.8576,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.1973,-19.0738 26.8509,-14.0842 31.0458,-23.8132 36.1973,-19.0738"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="66.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M66.3335,-49.6223C66.3335,-42.9738 66.3335,-32.942 66.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-24.0842 66.3335,-14.0842 62.8336,-24.0842 69.8336,-24.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="112.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M73.121,-49.6223C79.8562,-42.3014 90.3653,-30.8785 98.8094,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="101.6212,-23.8132 105.816,-14.0842 96.4697,-19.0738 101.6212,-23.8132"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">derivation_tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;expr&gt; randomly
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="172pt"
 viewBox="0.00 0.00 141.45 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-168 137.4463,-168 137.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.7231,-149.6223C66.7231,-142.9738 66.7231,-132.942 66.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="70.2232,-124.0842 66.7231,-114.0842 63.2232,-124.0842 70.2232,-124.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.9357,-99.6223C53.2005,-92.3014 42.6913,-80.8785 34.2473,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.587,-69.0738 27.2406,-64.0842 31.4354,-73.8132 36.587,-69.0738"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="66.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M66.7231,-99.6223C66.7231,-92.9738 66.7231,-82.942 66.7231,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="70.2232,-74.0842 66.7231,-64.0842 63.2232,-74.0842 70.2232,-74.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="112.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M73.5106,-99.6223C80.2458,-92.3014 90.755,-80.8785 99.199,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="102.0109,-73.8132 106.2057,-64.0842 96.8593,-69.0738 102.0109,-73.8132"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M20.7231,-49.6223C20.7231,-42.9738 20.7231,-32.942 20.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="24.2232,-24.0842 20.7231,-14.0842 17.2232,-24.0842 24.2232,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;term&gt; randomly
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="207pt" height="172pt"
 viewBox="0.00 0.00 207.45 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-168 203.4463,-168 203.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="81.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="81.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M81.7231,-149.6223C81.7231,-142.9738 81.7231,-132.942 81.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-124.0842 81.7231,-114.0842 78.2232,-124.0842 85.2232,-124.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="30.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M74.1979,-99.6223C66.5782,-92.152 54.6019,-80.4105 45.147,-71.1411"/>
<polygon fill="#000000" stroke="#000000" points="47.54,-68.5857 37.949,-64.0842 42.6395,-73.5842 47.54,-68.5857"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="81.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M81.7231,-99.6223C81.7231,-92.9738 81.7231,-82.942 81.7231,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-74.0842 81.7231,-64.0842 78.2232,-74.0842 85.2232,-74.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="129.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M88.8057,-99.6223C95.9055,-92.2267 107.024,-80.6449 115.8801,-71.4199"/>
<polygon fill="#000000" stroke="#000000" points="118.5218,-73.722 122.9223,-64.0842 113.4721,-68.8742 118.5218,-73.722"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M29.2476,-49.6223C27.903,-42.8991 25.8664,-32.7161 24.121,-23.9893"/>
<polygon fill="#000000" stroke="#000000" points="27.5333,-23.2036 22.14,-14.0842 20.6692,-24.5764 27.5333,-23.2036"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="83.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M122.9357,-49.6223C116.2005,-42.3014 105.6913,-30.8785 97.2473,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.587,-19.0738 90.2406,-14.0842 94.4354,-23.8132 99.587,-19.0738"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M130.1658,-49.6223C130.5647,-42.9738 131.1666,-32.942 131.6863,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="135.1928,-24.2759 132.2981,-14.0842 128.2054,-23.8566 135.1928,-24.2759"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="178.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M136.9533,-49.6223C144.2009,-42.2267 155.5511,-30.6449 164.5917,-21.4199"/>
<polygon fill="#000000" stroke="#000000" points="167.2811,-23.6761 171.7806,-14.0842 162.2816,-18.7766 167.2811,-23.6761"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that which each step, one more symbol is expanded.  Now all it takes is to apply this again and again, expanding the tree further and further.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Closing-the-Expansion">Closing the Expansion<a class="anchor-link" href="#Closing-the-Expansion">&#182;</a></h2><p>With <code>expand_tree_once()</code>, we can keep on expanding the tree – but how do we actually stop?  The key idea here, introduced by Luke in [<a href="https://doi.org/10.1109/4235.873237">Luke <em>et al</em>, 2000.</a>], is that after inflating the derivation tree to some maximum size, we <em>only want to apply expansions that increase the size of the tree by a minimum</em>.  For <code>&lt;factor&gt;</code>, for instance, we would prefer an expansion into <code>&lt;integer&gt;</code>, as this will not introduce further recursion (and potential size inflation); for <code>&lt;integer&gt;</code>, likewise, an expansion into <code>&lt;digit&gt;</code> is preferred, as it will less increase tree size than <code>&lt;digit&gt;&lt;integer&gt;</code>.</p>
<p>To identify the <em>cost</em> of expanding a symbol, we introduce two functions that mutually rely on each other.  First, <code>symbol_cost()</code> returns the minimum cost of all expansions of a symbol, using <code>expansion_cost()</code> to compute the cost for each expansion.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The method <code>expansion_cost()</code> returns the sum of all expansions in <code>expansions</code>.  If a nonterminal is encountered again during traversal, the cost of the expansion is $\infty$, indicating (potentially infinite) recursion.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">symbol_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="nb">set</span><span class="p">()):</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span>
        <span class="k">return</span> <span class="nb">min</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expansion_cost</span><span class="p">(</span><span class="n">e</span><span class="p">,</span> <span class="n">seen</span> <span class="o">|</span> <span class="p">{</span><span class="n">symbol</span><span class="p">})</span> <span class="k">for</span> <span class="n">e</span> <span class="ow">in</span> <span class="n">expansions</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">expansion_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expansion</span><span class="p">,</span> <span class="n">seen</span><span class="o">=</span><span class="nb">set</span><span class="p">()):</span>
        <span class="n">symbols</span> <span class="o">=</span> <span class="n">nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">)</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">symbols</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="mi">1</span>  <span class="c1"># no symbol</span>

        <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">s</span> <span class="ow">in</span> <span class="n">seen</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>

        <span class="c1"># the value of a expansion is the sum of all expandable variables</span>
        <span class="c1"># inside + 1</span>
        <span class="k">return</span> <span class="nb">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">symbol_cost</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">seen</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">symbols</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's two examples: The minimum cost of expanding a digit is 1, since we have to choose between one of its expansions.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">symbol_cost</span><span class="p">(</span><span class="s2">&quot;&lt;digit&gt;&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The minimum number of expansions when expanding <code>&lt;expr&gt;</code>, though, is five, as this is the minimum number of expansions required.  (<code>&lt;expr&gt;</code> → <code>&lt;term&gt;</code> → <code>&lt;factor&gt;</code> → <code>&lt;integer&gt;</code> → <code>&lt;digit&gt;</code> → 1)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">symbol_cost</span><span class="p">(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="mi">5</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's now a variant of <code>expand_node()</code> that takes the above cost into account.  It determines the minimum cost <code>cost</code> across all children and then chooses a child from the list using the <code>choose</code> function, which by default is the minimum cost.  If multiple children all have the same minimum cost, it chooses randomly between these.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node_by_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">choose</span><span class="o">=</span><span class="nb">min</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="k">assert</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span>

        <span class="c1"># Fetch the possible expansions from grammar...</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">[</span><span class="n">symbol</span><span class="p">]</span>

        <span class="n">possible_children_with_cost</span> <span class="o">=</span> <span class="p">[(</span><span class="bp">self</span><span class="o">.</span><span class="n">expansion_to_children</span><span class="p">(</span><span class="n">expansion</span><span class="p">),</span>
                                        <span class="bp">self</span><span class="o">.</span><span class="n">expansion_cost</span><span class="p">(</span><span class="n">expansion</span><span class="p">,</span> <span class="p">{</span><span class="n">symbol</span><span class="p">}))</span>
                                       <span class="k">for</span> <span class="n">expansion</span> <span class="ow">in</span> <span class="n">expansions</span><span class="p">]</span>

        <span class="n">costs</span> <span class="o">=</span> <span class="p">[</span><span class="n">cost</span> <span class="k">for</span> <span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">cost</span><span class="p">)</span> <span class="ow">in</span> <span class="n">possible_children_with_cost</span><span class="p">]</span>
        <span class="n">chosen_cost</span> <span class="o">=</span> <span class="n">choose</span><span class="p">(</span><span class="n">costs</span><span class="p">)</span>
        <span class="n">children_with_chosen_cost</span> <span class="o">=</span> <span class="p">[</span><span class="n">child</span> <span class="k">for</span> <span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">child_cost</span><span class="p">)</span> <span class="ow">in</span> <span class="n">possible_children_with_cost</span>
                                     <span class="k">if</span> <span class="n">child_cost</span> <span class="o">==</span> <span class="n">chosen_cost</span><span class="p">]</span>

        <span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">choose_node_expansion</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">children_with_chosen_cost</span><span class="p">)</span>

        <span class="c1"># Return with a new list</span>
        <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children_with_chosen_cost</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The shortcut <code>expand_node_min_cost()</code> passes <code>min()</code> as the <code>choose</code> function, which makes it expand nodes at minimum cost.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node_min_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expanding&quot;</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">(</span><span class="n">node</span><span class="p">),</span> <span class="s2">&quot;at minimum cost&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_by_cost</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="nb">min</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now apply this function to close the expansion of our derivation tree, using <code>expand_tree_once()</code> with the above <code>expand_node_min_cost()</code> as expansion function.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_min_cost</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>

<span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">f</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">):</span>
    <span class="n">derivation_tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">step</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
    <span class="n">step</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="207pt" height="172pt"
 viewBox="0.00 0.00 207.45 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-168 203.4463,-168 203.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="81.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="81.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M81.7231,-149.6223C81.7231,-142.9738 81.7231,-132.942 81.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-124.0842 81.7231,-114.0842 78.2232,-124.0842 85.2232,-124.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="30.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M74.1979,-99.6223C66.5782,-92.152 54.6019,-80.4105 45.147,-71.1411"/>
<polygon fill="#000000" stroke="#000000" points="47.54,-68.5857 37.949,-64.0842 42.6395,-73.5842 47.54,-68.5857"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="81.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M81.7231,-99.6223C81.7231,-92.9738 81.7231,-82.942 81.7231,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-74.0842 81.7231,-64.0842 78.2232,-74.0842 85.2232,-74.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="129.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M88.8057,-99.6223C95.9055,-92.2267 107.024,-80.6449 115.8801,-71.4199"/>
<polygon fill="#000000" stroke="#000000" points="118.5218,-73.722 122.9223,-64.0842 113.4721,-68.8742 118.5218,-73.722"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M29.2476,-49.6223C27.903,-42.8991 25.8664,-32.7161 24.121,-23.9893"/>
<polygon fill="#000000" stroke="#000000" points="27.5333,-23.2036 22.14,-14.0842 20.6692,-24.5764 27.5333,-23.2036"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="83.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M122.9357,-49.6223C116.2005,-42.3014 105.6913,-30.8785 97.2473,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.587,-19.0738 90.2406,-14.0842 94.4354,-23.8132 99.587,-19.0738"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M130.1658,-49.6223C130.5647,-42.9738 131.1666,-32.942 131.6863,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="135.1928,-24.2759 132.2981,-14.0842 128.2054,-23.8566 135.1928,-24.2759"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="178.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M136.9533,-49.6223C144.2009,-42.2267 155.5511,-30.6449 164.5917,-21.4199"/>
<polygon fill="#000000" stroke="#000000" points="167.2811,-23.6761 171.7806,-14.0842 162.2816,-18.7766 167.2811,-23.6761"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;term&gt; at minimum cost
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="211pt" height="222pt"
 viewBox="0.00 0.00 210.94 222.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 218)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-218 206.9395,-218 206.9395,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="81.7231" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="81.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M81.7231,-199.6223C81.7231,-192.9738 81.7231,-182.942 81.7231,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-174.0842 81.7231,-164.0842 78.2232,-174.0842 85.2232,-174.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="30.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M74.1979,-149.6223C66.5782,-142.152 54.6019,-130.4105 45.147,-121.1411"/>
<polygon fill="#000000" stroke="#000000" points="47.54,-118.5857 37.949,-114.0842 42.6395,-123.5842 47.54,-118.5857"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="81.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M81.7231,-149.6223C81.7231,-142.9738 81.7231,-132.942 81.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-124.0842 81.7231,-114.0842 78.2232,-124.0842 85.2232,-124.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="129.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M88.8057,-149.6223C95.9055,-142.2267 107.024,-130.6449 115.8801,-121.4199"/>
<polygon fill="#000000" stroke="#000000" points="118.5218,-123.722 122.9223,-114.0842 113.4721,-118.8742 118.5218,-123.722"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M29.2476,-99.6223C27.903,-92.8991 25.8664,-82.7161 24.121,-73.9893"/>
<polygon fill="#000000" stroke="#000000" points="27.5333,-73.2036 22.14,-64.0842 20.6692,-74.5764 27.5333,-73.2036"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="83.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M122.9357,-99.6223C116.2005,-92.3014 105.6913,-80.8785 97.2473,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.587,-69.0738 90.2406,-64.0842 94.4354,-73.8132 99.587,-69.0738"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="132.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 5&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>5&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M130.1658,-99.6223C130.5647,-92.9738 131.1666,-82.942 131.6863,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="135.1928,-74.2759 132.2981,-64.0842 128.2054,-73.8566 135.1928,-74.2759"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="178.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M136.9533,-99.6223C144.2009,-92.2267 155.5511,-80.6449 164.5917,-71.4199"/>
<polygon fill="#000000" stroke="#000000" points="167.2811,-73.6761 171.7806,-64.0842 162.2816,-68.7766 167.2811,-73.6761"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="178.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M178.7231,-49.6223C178.7231,-42.9738 178.7231,-32.942 178.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="182.2232,-24.0842 178.7231,-14.0842 175.2232,-24.0842 182.2232,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;factor&gt; at minimum cost
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="211pt" height="222pt"
 viewBox="0.00 0.00 210.94 222.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 218)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-218 206.9395,-218 206.9395,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="81.7231" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="81.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M81.7231,-199.6223C81.7231,-192.9738 81.7231,-182.942 81.7231,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-174.0842 81.7231,-164.0842 78.2232,-174.0842 85.2232,-174.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="30.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M74.1979,-149.6223C66.5782,-142.152 54.6019,-130.4105 45.147,-121.1411"/>
<polygon fill="#000000" stroke="#000000" points="47.54,-118.5857 37.949,-114.0842 42.6395,-123.5842 47.54,-118.5857"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="81.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M81.7231,-149.6223C81.7231,-142.9738 81.7231,-132.942 81.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="85.2232,-124.0842 81.7231,-114.0842 78.2232,-124.0842 85.2232,-124.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="129.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M88.8057,-149.6223C95.9055,-142.2267 107.024,-130.6449 115.8801,-121.4199"/>
<polygon fill="#000000" stroke="#000000" points="118.5218,-123.722 122.9223,-114.0842 113.4721,-118.8742 118.5218,-123.722"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M29.2476,-99.6223C27.903,-92.8991 25.8664,-82.7161 24.121,-73.9893"/>
<polygon fill="#000000" stroke="#000000" points="27.5333,-73.2036 22.14,-64.0842 20.6692,-74.5764 27.5333,-73.2036"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="83.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M122.9357,-99.6223C116.2005,-92.3014 105.6913,-80.8785 97.2473,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.587,-69.0738 90.2406,-64.0842 94.4354,-73.8132 99.587,-69.0738"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="132.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 5&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>5&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M130.1658,-99.6223C130.5647,-92.9738 131.1666,-82.942 131.6863,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="135.1928,-74.2759 132.2981,-64.0842 128.2054,-73.8566 135.1928,-74.2759"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="178.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 5&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>5&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M136.9533,-99.6223C144.2009,-92.2267 155.5511,-80.6449 164.5917,-71.4199"/>
<polygon fill="#000000" stroke="#000000" points="167.2811,-73.6761 171.7806,-64.0842 162.2816,-68.7766 167.2811,-73.6761"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="83.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M83.7231,-49.6223C83.7231,-42.9738 83.7231,-32.942 83.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="87.2232,-24.0842 83.7231,-14.0842 80.2232,-24.0842 87.2232,-24.0842"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="178.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M178.7231,-49.6223C178.7231,-42.9738 178.7231,-32.942 178.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="182.2232,-24.0842 178.7231,-14.0842 175.2232,-24.0842 182.2232,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;term&gt; at minimum cost
Expanding &lt;factor&gt; at minimum cost
Expanding &lt;integer&gt; at minimum cost
Expanding &lt;integer&gt; at minimum cost
Expanding &lt;digit&gt; at minimum cost
Expanding &lt;digit&gt; at minimum cost
Expanding &lt;factor&gt; at minimum cost
Expanding &lt;integer&gt; at minimum cost
Expanding &lt;digit&gt; at minimum cost
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="226pt" height="372pt"
 viewBox="0.00 0.00 225.66 372.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 368)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-368 221.6602,-368 221.6602,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="91.3301" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="91.3301" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M91.3301,-349.6223C91.3301,-342.9738 91.3301,-332.942 91.3301,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="94.8302,-324.0842 91.3301,-314.0842 87.8302,-324.0842 94.8302,-324.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="40.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M83.8049,-299.6223C76.1851,-292.152 64.2088,-280.4105 54.754,-271.1411"/>
<polygon fill="#000000" stroke="#000000" points="57.147,-268.5857 47.5559,-264.0842 52.2464,-273.5842 57.147,-268.5857"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="91.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>1&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M91.3301,-299.6223C91.3301,-292.9738 91.3301,-282.942 91.3301,-274.2807"/>
<polygon fill="#000000" stroke="#000000" points="94.8302,-274.0842 91.3301,-264.0842 87.8302,-274.0842 94.8302,-274.0842"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="139.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>1&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M98.4126,-299.6223C105.5124,-292.2267 116.631,-280.6449 125.487,-271.4199"/>
<polygon fill="#000000" stroke="#000000" points="128.1288,-273.722 132.5293,-264.0842 123.079,-268.8742 128.1288,-273.722"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="30.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M38.8545,-249.6223C37.5099,-242.8991 35.4733,-232.7161 33.7279,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="37.1402,-223.2036 31.7469,-214.0842 30.2761,-224.5764 37.1402,-223.2036"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M29.8874,-199.6223C29.4885,-192.9738 28.8866,-182.942 28.3669,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="31.8479,-173.8566 27.7551,-164.0842 24.8604,-174.2759 31.8479,-173.8566"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.3301,-149.6223C27.3301,-142.9738 27.3301,-132.942 27.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-124.0842 27.3301,-114.0842 23.8302,-124.0842 30.8302,-124.0842"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.3301,-99.6223C27.3301,-92.9738 27.3301,-82.942 27.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-74.0842 27.3301,-64.0842 23.8302,-74.0842 30.8302,-74.0842"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="27.3301" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M27.3301,-49.6223C27.3301,-42.9738 27.3301,-32.942 27.3301,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-24.0842 27.3301,-14.0842 23.8302,-24.0842 30.8302,-24.0842"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="95.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M132.8377,-249.6223C126.3953,-242.3014 116.3431,-230.8785 108.2662,-221.7001"/>
<polygon fill="#000000" stroke="#000000" points="110.798,-219.2791 101.5642,-214.0842 105.543,-223.9036 110.798,-219.2791"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="144.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 9&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>9&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M140.0678,-249.6223C140.7327,-242.9738 141.7359,-232.942 142.602,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="146.1092,-224.3829 143.6217,-214.0842 139.1439,-223.6863 146.1092,-224.3829"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="190.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 9&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>9&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M146.8553,-249.6223C154.475,-242.152 166.4514,-230.4105 175.9062,-221.1411"/>
<polygon fill="#000000" stroke="#000000" points="178.4137,-223.5842 183.1042,-214.0842 173.5132,-218.5857 178.4137,-223.5842"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="97.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M95.6252,-199.6223C95.8911,-192.9738 96.2924,-182.942 96.6388,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="100.1441,-174.2161 97.0467,-164.0842 93.1497,-173.9363 100.1441,-174.2161"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="97.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M97.3301,-149.6223C97.3301,-142.9738 97.3301,-132.942 97.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="100.8302,-124.0842 97.3301,-114.0842 93.8302,-124.0842 100.8302,-124.0842"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="97.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M97.3301,-99.6223C97.3301,-92.9738 97.3301,-82.942 97.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="100.8302,-74.0842 97.3301,-64.0842 93.8302,-74.0842 100.8302,-74.0842"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="190.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M190.3301,-199.6223C190.3301,-192.9738 190.3301,-182.942 190.3301,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="193.8302,-174.0842 190.3301,-164.0842 186.8302,-174.0842 193.8302,-174.0842"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="190.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M190.3301,-149.6223C190.3301,-142.9738 190.3301,-132.942 190.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="193.8302,-124.0842 190.3301,-114.0842 186.8302,-124.0842 193.8302,-124.0842"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="190.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M190.3301,-99.6223C190.3301,-92.9738 190.3301,-82.942 190.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="193.8302,-74.0842 190.3301,-64.0842 186.8302,-74.0842 193.8302,-74.0842"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="190.3301" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">5</text>
</g>
<!-- 18&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>18&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M190.3301,-49.6223C190.3301,-42.9738 190.3301,-32.942 190.3301,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="193.8302,-24.0842 190.3301,-14.0842 186.8302,-24.0842 193.8302,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that in each step, <code>expand_node_min_cost()</code> chooses an expansion that does not increase the number of symbols, eventually closing all open expansions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Node-Inflation">Node Inflation<a class="anchor-link" href="#Node-Inflation">&#182;</a></h2><p>Especially at the beginning of an expansion, we may be interested in getting <em>as many nodes as possible</em> – that is, we'd like to prefer expansions that give us <em>more</em> nonterminals to expand.  This is actually the exact opposite from what <code>expand_node_min_cost()</code> gives us, and we can implement a method <code>expand_node_max_cost()</code> that will always choose among the nodes with the <em>highest</em> cost:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node_max_cost</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expanding&quot;</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">(</span><span class="n">node</span><span class="p">),</span> <span class="s2">&quot;at maximum cost&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_by_cost</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="nb">max</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>To illustrate <code>expand_node_max_cost()</code>, we can again redefine <code>expand_node()</code> to use it, and then use <code>expand_tree_once()</code> to show a few expansion steps:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_max_cost</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>

<span class="n">step</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">while</span> <span class="n">step</span> <span class="o">&lt;</span> <span class="mi">3</span> <span class="ow">and</span> <span class="n">f</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">):</span>
    <span class="n">derivation_tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
    <span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
    <span class="n">step</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="122pt"
 viewBox="0.00 0.00 141.06 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 137.0566,-118 137.0566,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.3335,-99.6223C66.3335,-92.9738 66.3335,-82.942 66.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-74.0842 66.3335,-64.0842 62.8336,-74.0842 69.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.546,-49.6223C52.8108,-42.3014 42.3017,-30.8785 33.8576,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.1973,-19.0738 26.8509,-14.0842 31.0458,-23.8132 36.1973,-19.0738"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="66.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M66.3335,-49.6223C66.3335,-42.9738 66.3335,-32.942 66.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-24.0842 66.3335,-14.0842 62.8336,-24.0842 69.8336,-24.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="112.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M73.121,-49.6223C79.8562,-42.3014 90.3653,-30.8785 98.8094,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="101.6212,-23.8132 105.816,-14.0842 96.4697,-19.0738 101.6212,-23.8132"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;expr&gt; at maximum cost
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="186pt" height="172pt"
 viewBox="0.00 0.00 186.45 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-168 182.4463,-168 182.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="111.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="111.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M111.7231,-149.6223C111.7231,-142.9738 111.7231,-132.942 111.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="115.2232,-124.0842 111.7231,-114.0842 108.2232,-124.0842 115.2232,-124.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="65.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M104.9357,-99.6223C98.2005,-92.3014 87.6913,-80.8785 79.2473,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="81.587,-69.0738 72.2406,-64.0842 76.4354,-73.8132 81.587,-69.0738"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="111.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>1&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M111.7231,-99.6223C111.7231,-92.9738 111.7231,-82.942 111.7231,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="115.2232,-74.0842 111.7231,-64.0842 108.2232,-74.0842 115.2232,-74.0842"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="157.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>1&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M118.5106,-99.6223C125.2458,-92.3014 135.755,-80.8785 144.199,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="147.0109,-73.8132 151.2057,-64.0842 141.8593,-69.0738 147.0109,-73.8132"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M59.0832,-49.6223C52.4944,-42.3014 42.2138,-30.8785 33.9533,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.3901,-19.1758 27.0989,-14.0842 31.1871,-23.8585 36.3901,-19.1758"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="65.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#45; </text>
</g>
<!-- 2&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>2&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M65.7231,-49.6223C65.7231,-42.9738 65.7231,-32.942 65.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.2232,-24.0842 65.7231,-14.0842 62.2232,-24.0842 69.2232,-24.0842"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="109.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M72.2155,-49.6223C78.6579,-42.3014 88.7101,-30.8785 96.787,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="99.5103,-23.9036 103.4891,-14.0842 94.2552,-19.2791 99.5103,-23.9036"/>
</g>
</g>
</svg>

</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Expanding &lt;term&gt; at maximum cost
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="238pt" height="222pt"
 viewBox="0.00 0.00 237.94 222.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 218)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-218 233.9395,-218 233.9395,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="163.2163" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="163.2163" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M163.2163,-199.6223C163.2163,-192.9738 163.2163,-182.942 163.2163,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="166.7164,-174.0842 163.2163,-164.0842 159.7164,-174.0842 166.7164,-174.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="117.2163" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M156.4289,-149.6223C149.6936,-142.3014 139.1845,-130.8785 130.7404,-121.7001"/>
<polygon fill="#000000" stroke="#000000" points="133.0801,-119.0738 123.7338,-114.0842 127.9286,-123.8132 133.0801,-119.0738"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="163.2163" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>1&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M163.2163,-149.6223C163.2163,-142.9738 163.2163,-132.942 163.2163,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="166.7164,-124.0842 163.2163,-114.0842 159.7164,-124.0842 166.7164,-124.0842"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="209.2163" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>1&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M170.0038,-149.6223C176.739,-142.3014 187.2481,-130.8785 195.6922,-121.7001"/>
<polygon fill="#000000" stroke="#000000" points="198.504,-123.8132 202.6989,-114.0842 193.3525,-119.0738 198.504,-123.8132"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="72.2163" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M110.5764,-99.6223C103.9876,-92.3014 93.7069,-80.8785 85.4464,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="87.8833,-69.1758 78.5921,-64.0842 82.6802,-73.8585 87.8833,-69.1758"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="117.2163" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#45; </text>
</g>
<!-- 2&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>2&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M117.2163,-99.6223C117.2163,-92.9738 117.2163,-82.942 117.2163,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="120.7164,-74.0842 117.2163,-64.0842 113.7164,-74.0842 120.7164,-74.0842"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="161.2163" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>2&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M123.7087,-99.6223C130.151,-92.3014 140.2033,-80.8785 148.2802,-71.7001"/>
<polygon fill="#000000" stroke="#000000" points="151.0034,-73.9036 154.9822,-64.0842 145.7484,-69.2791 151.0034,-73.9036"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="24.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M65.1337,-49.6223C58.034,-42.2267 46.9154,-30.6449 38.0594,-21.4199"/>
<polygon fill="#000000" stroke="#000000" points="40.4673,-18.8742 31.0171,-14.0842 35.4176,-23.722 40.4673,-18.8742"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="72.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> / </text>
</g>
<!-- 3&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>3&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M72.2163,-49.6223C72.2163,-42.9738 72.2163,-32.942 72.2163,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="75.7164,-24.0842 72.2163,-14.0842 68.7164,-24.0842 75.7164,-24.0842"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="116.2163" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 3&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>3&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M78.7087,-49.6223C85.151,-42.3014 95.2033,-30.8785 103.2802,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="106.0034,-23.9036 109.9822,-14.0842 100.7484,-19.2791 106.0034,-23.9036"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We see that with each step, the number of nonterminals increases.  Obviously, we have to put a limit on this number.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Three-Expansion-Phases">Three Expansion Phases<a class="anchor-link" href="#Three-Expansion-Phases">&#182;</a></h2><p>We can now put all three phases together in a single function <code>expand_tree()</code> which will work as follows:</p>
<ol>
<li><strong>Max cost expansion.</strong> Expand the tree using expansions with maximum cost until we have at least <code>min_nonterminals</code> nonterminals.  This phase can be easily skipped by setting <code>min_nonterminals</code> to zero.</li>
<li><strong>Random expansion.</strong>  Keep on expanding the tree randomly until we reach <code>max_nonterminals</code> nonterminals.</li>
<li><strong>Min cost expansion.</strong> Close the expansion with minimum cost.</li>
</ol>
<p>We implement these three phases by having <code>expand_node</code> reference the expansion method to apply.  This is controlled by setting <code>expand_node</code> (the method reference) to first <code>expand_node_max_cost</code> (i.e., calling <code>expand_node()</code> invokes <code>expand_node_max_cost()</code>), then <code>expand_node_randomly</code>, and finally <code>expand_node_min_cost</code>.  In the first two phases, we also set a maximum limit of <code>min_nonterminals</code> and <code>max_nonterminals</code>, respectively.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">log_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Output a tree if self.log is set; if self.display is also set, show the tree structure&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Tree:&quot;</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">(</span><span class="n">tree</span><span class="p">))</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disp</span><span class="p">:</span>
                <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
            <span class="c1"># print(self.possible_expansions(tree), &quot;possible expansion(s) left&quot;)</span>

    <span class="k">def</span> <span class="nf">expand_tree_with_strategy</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">expand_node_method</span><span class="p">,</span> <span class="n">limit</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Expand tree using `expand_node_method` as node expansion function</span>
<span class="sd">        until the number of possible expansions reaches `limit`.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expand_node</span> <span class="o">=</span> <span class="n">expand_node_method</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">limit</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">possible_expansions</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
               <span class="o">&lt;</span> <span class="n">limit</span><span class="p">)</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">any_possible_expansions</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
            <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">log_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span>

    <span class="k">def</span> <span class="nf">expand_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Expand `tree` in a three-phase strategy until all expansions are complete.&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">log_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree_with_strategy</span><span class="p">(</span>
            <span class="n">tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_max_cost</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">min_nonterminals</span><span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree_with_strategy</span><span class="p">(</span>
            <span class="n">tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_randomly</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_nonterminals</span><span class="p">)</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree_with_strategy</span><span class="p">(</span><span class="n">tree</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_min_cost</span><span class="p">)</span>

        <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">possible_expansions</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

        <span class="k">return</span> <span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us try this out on our example.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span>
    <span class="n">EXPR_GRAMMAR</span><span class="p">,</span>
    <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">derivation_tree</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">expand_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Tree: &lt;expr&gt; + &lt;term&gt;
Expanding &lt;expr&gt; at maximum cost
Tree: &lt;term&gt; - &lt;expr&gt; + &lt;term&gt;
Expanding &lt;term&gt; randomly
Tree: &lt;factor&gt; * &lt;term&gt; - &lt;expr&gt; + &lt;term&gt;
Expanding &lt;term&gt; randomly
Tree: &lt;factor&gt; * &lt;term&gt; - &lt;expr&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;expr&gt; at minimum cost
Tree: &lt;factor&gt; * &lt;term&gt; - &lt;term&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;term&gt; at minimum cost
Tree: &lt;factor&gt; * &lt;term&gt; - &lt;factor&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;factor&gt; at minimum cost
Tree: &lt;integer&gt; * &lt;term&gt; - &lt;factor&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;integer&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;term&gt; - &lt;factor&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;factor&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;term&gt; - &lt;integer&gt; + &lt;factor&gt; / &lt;term&gt;
Expanding &lt;factor&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;term&gt; - &lt;integer&gt; + &lt;integer&gt; / &lt;term&gt;
Expanding &lt;term&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;factor&gt; - &lt;integer&gt; + &lt;integer&gt; / &lt;term&gt;
Expanding &lt;factor&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - &lt;integer&gt; + &lt;integer&gt; / &lt;term&gt;
Expanding &lt;integer&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - &lt;digit&gt; + &lt;integer&gt; / &lt;term&gt;
Expanding &lt;digit&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - 1 + &lt;integer&gt; / &lt;term&gt;
Expanding &lt;term&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - 1 + &lt;integer&gt; / &lt;factor&gt;
Expanding &lt;factor&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - 1 + &lt;integer&gt; / &lt;integer&gt;
Expanding &lt;integer&gt; at minimum cost
Tree: &lt;digit&gt; * &lt;integer&gt; - 1 + &lt;digit&gt; / &lt;integer&gt;
Expanding &lt;digit&gt; at minimum cost
Tree: 2 * &lt;integer&gt; - 1 + &lt;digit&gt; / &lt;integer&gt;
Expanding &lt;integer&gt; at minimum cost
Tree: 2 * &lt;digit&gt; - 1 + &lt;digit&gt; / &lt;integer&gt;
Expanding &lt;digit&gt; at minimum cost
Tree: 2 * &lt;digit&gt; - 1 + 2 / &lt;integer&gt;
Expanding &lt;integer&gt; at minimum cost
Tree: 2 * &lt;digit&gt; - 1 + 2 / &lt;digit&gt;
Expanding &lt;digit&gt; at minimum cost
Tree: 2 * 3 - 1 + 2 / &lt;digit&gt;
Expanding &lt;digit&gt; at minimum cost
Tree: 2 * 3 - 1 + 2 / 3
</pre>
</div>

</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="375pt" height="422pt"
 viewBox="0.00 0.00 374.66 422.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 418)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-418 370.6602,-418 370.6602,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="216.3301" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="216.3301" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M216.3301,-399.6223C216.3301,-392.9738 216.3301,-382.942 216.3301,-374.2807"/>
<polygon fill="#000000" stroke="#000000" points="219.8302,-374.0842 216.3301,-364.0842 212.8302,-374.0842 219.8302,-374.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="163.3301" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M208.5097,-349.6223C200.5912,-342.152 188.1452,-330.4105 178.3196,-321.1411"/>
<polygon fill="#000000" stroke="#000000" points="180.5151,-318.4005 170.8393,-314.0842 175.7115,-323.4923 180.5151,-318.4005"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="216.3301" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>1&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M216.3301,-349.6223C216.3301,-342.9738 216.3301,-332.942 216.3301,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="219.8302,-324.0842 216.3301,-314.0842 212.8302,-324.0842 219.8302,-324.0842"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="266.3301" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>1&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M223.7078,-349.6223C231.1033,-342.2267 242.6852,-330.6449 251.9102,-321.4199"/>
<polygon fill="#000000" stroke="#000000" points="254.6497,-323.6302 259.2459,-314.0842 249.6999,-318.6804 254.6497,-323.6302"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="86.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M152.2979,-299.8362C140.176,-291.9649 120.474,-279.1713 105.7523,-269.6118"/>
<polygon fill="#000000" stroke="#000000" points="107.6349,-266.6612 97.3418,-264.1505 103.8226,-272.532 107.6349,-266.6612"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="139.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#45; </text>
</g>
<!-- 2&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>2&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M159.7888,-299.6223C156.4541,-292.6749 151.3461,-282.0334 147.0685,-273.1217"/>
<polygon fill="#000000" stroke="#000000" points="150.2132,-271.5848 142.7305,-264.0842 143.9025,-274.614 150.2132,-271.5848"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="183.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 2&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>2&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M166.2811,-299.6223C169.0302,-292.7497 173.2254,-282.2618 176.7662,-273.4097"/>
<polygon fill="#000000" stroke="#000000" points="180.0321,-274.6689 180.4964,-264.0842 173.5328,-272.0691 180.0321,-274.6689"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="27.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M77.8768,-249.8362C68.9392,-242.2619 54.6233,-230.1299 43.5048,-220.7074"/>
<polygon fill="#000000" stroke="#000000" points="45.6595,-217.9456 35.7677,-214.1505 41.1338,-223.2859 45.6595,-217.9456"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="76.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 3&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>3&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M84.8545,-249.6223C83.5099,-242.8991 81.4733,-232.7161 79.7279,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="83.1402,-223.2036 77.7469,-214.0842 76.2761,-224.5764 83.1402,-223.2036"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="122.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 3&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>3&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M91.642,-249.6223C96.8055,-242.4508 104.8031,-231.343 111.3394,-222.2648"/>
<polygon fill="#000000" stroke="#000000" points="114.2268,-224.2446 117.2295,-214.0842 108.546,-220.1545 114.2268,-224.2446"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="27.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M27.3301,-199.6223C27.3301,-192.9738 27.3301,-182.942 27.3301,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-174.0842 27.3301,-164.0842 23.8302,-174.0842 30.8302,-174.0842"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="27.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M27.3301,-149.6223C27.3301,-142.9738 27.3301,-132.942 27.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-124.0842 27.3301,-114.0842 23.8302,-124.0842 30.8302,-124.0842"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="27.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M27.3301,-99.6223C27.3301,-92.9738 27.3301,-82.942 27.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="30.8302,-74.0842 27.3301,-64.0842 23.8302,-74.0842 30.8302,-74.0842"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="116.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M121.4448,-199.6223C120.6469,-192.9738 119.4431,-182.942 118.4038,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="121.8468,-173.5959 117.1802,-164.0842 114.8966,-174.43 121.8468,-173.5959"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="114.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M116.035,-149.6223C115.769,-142.9738 115.3678,-132.942 115.0213,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="118.5104,-123.9363 114.6134,-114.0842 111.516,-124.2161 118.5104,-123.9363"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="114.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M114.3301,-99.6223C114.3301,-92.9738 114.3301,-82.942 114.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="117.8302,-74.0842 114.3301,-64.0842 110.8302,-74.0842 117.8302,-74.0842"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="114.3301" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M114.3301,-49.6223C114.3301,-42.9738 114.3301,-32.942 114.3301,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="117.8302,-24.0842 114.3301,-14.0842 110.8302,-24.0842 117.8302,-24.0842"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="183.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M183.3301,-249.6223C183.3301,-242.9738 183.3301,-232.942 183.3301,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="186.8302,-224.0842 183.3301,-214.0842 179.8302,-224.0842 186.8302,-224.0842"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="185.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M183.6252,-199.6223C183.8911,-192.9738 184.2924,-182.942 184.6388,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="188.1441,-174.2161 185.0467,-164.0842 181.1497,-173.9363 188.1441,-174.2161"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="187.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M185.6252,-149.6223C185.8911,-142.9738 186.2924,-132.942 186.6388,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="190.1441,-124.2161 187.0467,-114.0842 183.1497,-123.9363 190.1441,-124.2161"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="187.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 18&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>18&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M187.3301,-99.6223C187.3301,-92.9738 187.3301,-82.942 187.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="190.8302,-74.0842 187.3301,-64.0842 183.8302,-74.0842 190.8302,-74.0842"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="187.3301" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">1</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M187.3301,-49.6223C187.3301,-42.9738 187.3301,-32.942 187.3301,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="190.8302,-24.0842 187.3301,-14.0842 183.8302,-24.0842 190.8302,-24.0842"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="247.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M263.5266,-299.6223C260.9433,-292.8244 257.016,-282.4894 253.6757,-273.699"/>
<polygon fill="#000000" stroke="#000000" points="256.8461,-272.1887 250.0221,-264.0842 250.3026,-274.6753 256.8461,-272.1887"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="295.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000"> / </text>
</g>
<!-- 22&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>22&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M270.6091,-299.6223C274.6819,-292.6002 280.9437,-281.8041 286.1459,-272.8348"/>
<polygon fill="#000000" stroke="#000000" points="289.2316,-274.4905 291.2212,-264.0842 283.1764,-270.9785 289.2316,-274.4905"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="339.3301" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 22&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>22&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M276.7892,-299.8362C288.1729,-292.0392 306.6081,-279.4123 320.5206,-269.8832"/>
<polygon fill="#000000" stroke="#000000" points="322.6179,-272.689 328.8904,-264.1505 318.6622,-266.9138 322.6179,-272.689"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="249.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M247.6252,-249.6223C247.8911,-242.9738 248.2924,-232.942 248.6388,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="252.1441,-224.2161 249.0467,-214.0842 245.1497,-223.9363 252.1441,-224.2161"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="249.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 24&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>24&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M249.3301,-199.6223C249.3301,-192.9738 249.3301,-182.942 249.3301,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="252.8302,-174.0842 249.3301,-164.0842 245.8302,-174.0842 252.8302,-174.0842"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="249.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M249.3301,-149.6223C249.3301,-142.9738 249.3301,-132.942 249.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="252.8302,-124.0842 249.3301,-114.0842 245.8302,-124.0842 252.8302,-124.0842"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="339.3301" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 28&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>28&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M339.3301,-249.6223C339.3301,-242.9738 339.3301,-232.942 339.3301,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="342.8302,-224.0842 339.3301,-214.0842 335.8302,-224.0842 342.8302,-224.0842"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="339.3301" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 29&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>29&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M339.3301,-199.6223C339.3301,-192.9738 339.3301,-182.942 339.3301,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="342.8302,-174.0842 339.3301,-164.0842 335.8302,-174.0842 342.8302,-174.0842"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="339.3301" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 30&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>30&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M339.3301,-149.6223C339.3301,-142.9738 339.3301,-132.942 339.3301,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="342.8302,-124.0842 339.3301,-114.0842 335.8302,-124.0842 342.8302,-124.0842"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="339.3301" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">3</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M339.3301,-99.6223C339.3301,-92.9738 339.3301,-82.942 339.3301,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="342.8302,-74.0842 339.3301,-64.0842 335.8302,-74.0842 342.8302,-74.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_terminals</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;2 * 3 - 1 + 2 / 3&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Putting-it-all-Together">Putting it all Together<a class="anchor-link" href="#Putting-it-all-Together">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Based on this, we can now define a function <code>fuzz()</code> that – like <code>simple_grammar_fuzzer()</code> – simply takes a grammar and produces a string from it.  It thus no longer exposes the complexity of derivation trees.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">fuzz_tree</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="c1"># Create an initial derivation tree</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">init_tree</span><span class="p">()</span>
        <span class="c1"># print(tree)</span>

        <span class="c1"># Expand all nonterminals</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="nb">repr</span><span class="p">(</span><span class="n">all_terminals</span><span class="p">(</span><span class="n">tree</span><span class="p">)))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">disp</span><span class="p">:</span>
            <span class="n">display_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">tree</span>

    <span class="k">def</span> <span class="nf">fuzz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">fuzz_tree</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">all_terminals</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We can now apply this on all our defined grammars (and visualize the derivation tree along)</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;766 * 527.9 / 96.552 * 896&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>After calling <code>fuzz()</code>, the produced derivation tree is accessible in the <code>derivation_tree</code> attribute:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="820pt" height="572pt"
 viewBox="0.00 0.00 820.06 572.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 568)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-568 816.0601,-568 816.0601,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="242.73" y="-552.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="242.73" y="-502.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M242.73,-549.6223C242.73,-542.9738 242.73,-532.942 242.73,-524.2807"/>
<polygon fill="#000000" stroke="#000000" points="246.2301,-524.0842 242.73,-514.0842 239.2301,-524.0842 246.2301,-524.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="242.73" y="-452.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M242.73,-499.6223C242.73,-492.9738 242.73,-482.942 242.73,-474.2807"/>
<polygon fill="#000000" stroke="#000000" points="246.2301,-474.0842 242.73,-464.0842 239.2301,-474.0842 246.2301,-474.0842"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="159.73" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M230.8381,-449.8362C217.6484,-441.8906 196.133,-428.9295 180.2179,-419.3421"/>
<polygon fill="#000000" stroke="#000000" points="181.9717,-416.3126 171.5998,-414.1505 178.3596,-422.3087 181.9717,-416.3126"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="242.73" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 2&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>2&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M242.73,-449.6223C242.73,-442.9738 242.73,-432.942 242.73,-424.2807"/>
<polygon fill="#000000" stroke="#000000" points="246.2301,-424.0842 242.73,-414.0842 239.2301,-424.0842 246.2301,-424.0842"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="305.73" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>2&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M251.7563,-449.8362C261.3935,-442.1877 276.8866,-429.8916 288.8068,-420.4311"/>
<polygon fill="#000000" stroke="#000000" points="291.0633,-423.1086 296.7204,-414.1505 286.7116,-417.6256 291.0633,-423.1086"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="107.73" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M152.0572,-399.6223C144.2881,-392.152 132.0769,-380.4105 122.4367,-371.1411"/>
<polygon fill="#000000" stroke="#000000" points="124.7318,-368.4924 115.0975,-364.0842 119.88,-373.5382 124.7318,-368.4924"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="20.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 4&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>4&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M95.265,-349.8362C81.4397,-341.8906 58.8874,-328.9295 42.2053,-319.3421"/>
<polygon fill="#000000" stroke="#000000" points="43.586,-316.0988 33.1718,-314.1505 40.098,-322.1679 43.586,-316.0988"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="107.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 4&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>4&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M107.73,-349.6223C107.73,-342.9738 107.73,-332.942 107.73,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="111.2301,-324.0842 107.73,-314.0842 104.2301,-324.0842 111.2301,-324.0842"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="9.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">7</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M19.1069,-299.6223C17.6278,-292.8991 15.3875,-282.7161 13.4676,-273.9893"/>
<polygon fill="#000000" stroke="#000000" points="16.8555,-273.0986 11.2885,-264.0842 10.0189,-274.6027 16.8555,-273.0986"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="51.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M99.467,-299.6223C91.0166,-292.0773 77.6863,-280.1752 67.2573,-270.8637"/>
<polygon fill="#000000" stroke="#000000" points="69.4547,-268.1336 59.6643,-264.0842 64.7926,-273.3552 69.4547,-268.1336"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="117.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 7&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>7&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M109.2055,-299.6223C110.5502,-292.8991 112.5868,-282.7161 114.3321,-273.9893"/>
<polygon fill="#000000" stroke="#000000" points="117.7839,-274.5764 116.3131,-264.0842 110.9199,-273.2036 117.7839,-274.5764"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="51.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">6</text>
</g>
<!-- 8&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>8&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M51.73,-249.6223C51.73,-242.9738 51.73,-232.942 51.73,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="55.2301,-224.0842 51.73,-214.0842 48.2301,-224.0842 55.2301,-224.0842"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="117.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M117.73,-249.6223C117.73,-242.9738 117.73,-232.942 117.73,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="121.2301,-224.0842 117.73,-214.0842 114.2301,-224.0842 121.2301,-224.0842"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="117.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">6</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M117.73,-199.6223C117.73,-192.9738 117.73,-182.942 117.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="121.2301,-174.0842 117.73,-164.0842 114.2301,-174.0842 121.2301,-174.0842"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="281.73" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M302.1887,-399.6223C298.854,-392.6749 293.746,-382.0334 289.4684,-373.1217"/>
<polygon fill="#000000" stroke="#000000" points="292.6131,-371.5848 285.1304,-364.0842 286.3024,-374.614 292.6131,-371.5848"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="329.73" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000"> / </text>
</g>
<!-- 14&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>14&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M309.2713,-399.6223C312.606,-392.6749 317.714,-382.0334 321.9916,-373.1217"/>
<polygon fill="#000000" stroke="#000000" points="325.1575,-374.614 326.3296,-364.0842 318.8469,-371.5848 325.1575,-374.614"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="493.73" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 14&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>14&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M326.5676,-401.4581C359.5995,-392.673 424.1754,-375.4986 462.6785,-365.2584"/>
<polygon fill="#000000" stroke="#000000" points="464.0346,-368.5195 472.7991,-362.5667 462.2354,-361.7546 464.0346,-368.5195"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="234.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M274.795,-349.6223C267.8431,-342.2267 256.9562,-330.6449 248.2847,-321.4199"/>
<polygon fill="#000000" stroke="#000000" points="250.7885,-318.9733 241.3891,-314.0842 245.688,-323.7677 250.7885,-318.9733"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="281.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
</g>
<!-- 15&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>15&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M281.73,-349.6223C281.73,-342.9738 281.73,-332.942 281.73,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="285.2301,-324.0842 281.73,-314.0842 278.2301,-324.0842 285.2301,-324.0842"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="328.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 15&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>15&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M288.665,-349.6223C295.6169,-342.2267 306.5038,-330.6449 315.1753,-321.4199"/>
<polygon fill="#000000" stroke="#000000" points="317.7719,-323.7677 322.0708,-314.0842 312.6715,-318.9733 317.7719,-323.7677"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="183.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M227.2048,-299.6223C219.585,-292.152 207.6087,-280.4105 198.1539,-271.1411"/>
<polygon fill="#000000" stroke="#000000" points="200.5469,-268.5857 190.9559,-264.0842 195.6463,-273.5842 200.5469,-268.5857"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="249.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 16&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>16&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M236.9433,-299.6223C238.9827,-292.8244 242.0832,-282.4894 244.7203,-273.699"/>
<polygon fill="#000000" stroke="#000000" points="248.0836,-274.6682 247.6047,-264.0842 241.3788,-272.6567 248.0836,-274.6682"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="171.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">5</text>
</g>
<!-- 17&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>17&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M181.9593,-249.6223C180.3458,-242.8991 177.9018,-232.7161 175.8074,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="179.1673,-222.9912 173.4302,-214.0842 172.3606,-224.6249 179.1673,-222.9912"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="213.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 19&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>19&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M244.4181,-249.6223C239.2546,-242.4508 231.2569,-231.343 224.7207,-222.2648"/>
<polygon fill="#000000" stroke="#000000" points="227.5141,-220.1545 218.8306,-214.0842 221.8333,-224.2446 227.5141,-220.1545"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="279.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 19&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>19&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M254.1566,-249.6223C258.3698,-242.6002 264.8475,-231.8041 270.2291,-222.8348"/>
<polygon fill="#000000" stroke="#000000" points="273.3357,-224.4599 275.4795,-214.0842 267.3332,-220.8584 273.3357,-224.4599"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="213.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M213.73,-199.6223C213.73,-192.9738 213.73,-182.942 213.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="217.2301,-174.0842 213.73,-164.0842 210.2301,-174.0842 217.2301,-174.0842"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="279.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M279.73,-199.6223C279.73,-192.9738 279.73,-182.942 279.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="283.2301,-174.0842 279.73,-164.0842 276.2301,-174.0842 283.2301,-174.0842"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="279.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">7</text>
</g>
<!-- 23&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>23&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M279.73,-149.6223C279.73,-142.9738 279.73,-132.942 279.73,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="283.2301,-124.0842 279.73,-114.0842 276.2301,-124.0842 283.2301,-124.0842"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="328.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 26&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>26&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M328.73,-299.6223C328.73,-292.9738 328.73,-282.942 328.73,-274.2807"/>
<polygon fill="#000000" stroke="#000000" points="332.2301,-274.0842 328.73,-264.0842 325.2301,-274.0842 332.2301,-274.0842"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="328.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">9</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M328.73,-249.6223C328.73,-242.9738 328.73,-232.942 328.73,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="332.2301,-224.0842 328.73,-214.0842 325.2301,-224.0842 332.2301,-224.0842"/>
</g>
<!-- 31 -->
<g id="node32" class="node">
<title>31</title>
<text text-anchor="middle" x="469.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 30&#45;&gt;31 -->
<g id="edge31" class="edge">
<title>30&#45;&gt;31</title>
<path fill="none" stroke="#000000" d="M490.1887,-349.6223C486.854,-342.6749 481.746,-332.0334 477.4684,-323.1217"/>
<polygon fill="#000000" stroke="#000000" points="480.6131,-321.5848 473.1304,-314.0842 474.3024,-324.614 480.6131,-321.5848"/>
</g>
<!-- 48 -->
<g id="node49" class="node">
<title>48</title>
<text text-anchor="middle" x="518.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000"> * </text>
</g>
<!-- 30&#45;&gt;48 -->
<g id="edge48" class="edge">
<title>30&#45;&gt;48</title>
<path fill="none" stroke="#000000" d="M497.4188,-349.6223C500.8925,-342.6749 506.2133,-332.0334 510.6691,-323.1217"/>
<polygon fill="#000000" stroke="#000000" points="513.8462,-324.5937 515.1879,-314.0842 507.5852,-321.4632 513.8462,-324.5937"/>
</g>
<!-- 49 -->
<g id="node50" class="node">
<title>49</title>
<text text-anchor="middle" x="575.73" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 30&#45;&gt;49 -->
<g id="edge49" class="edge">
<title>30&#45;&gt;49</title>
<path fill="none" stroke="#000000" d="M505.4786,-349.8362C518.3876,-341.9649 539.369,-329.1713 555.0466,-319.6118"/>
<polygon fill="#000000" stroke="#000000" points="557.2873,-322.3449 564.0032,-314.1505 553.6431,-316.3683 557.2873,-322.3449"/>
</g>
<!-- 32 -->
<g id="node33" class="node">
<title>32</title>
<text text-anchor="middle" x="422.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 31&#45;&gt;32 -->
<g id="edge32" class="edge">
<title>31&#45;&gt;32</title>
<path fill="none" stroke="#000000" d="M462.795,-299.6223C455.8431,-292.2267 444.9562,-280.6449 436.2847,-271.4199"/>
<polygon fill="#000000" stroke="#000000" points="438.7885,-268.9733 429.3891,-264.0842 433.688,-273.7677 438.7885,-268.9733"/>
</g>
<!-- 38 -->
<g id="node39" class="node">
<title>38</title>
<text text-anchor="middle" x="469.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
</g>
<!-- 31&#45;&gt;38 -->
<g id="edge38" class="edge">
<title>31&#45;&gt;38</title>
<path fill="none" stroke="#000000" d="M469.73,-299.6223C469.73,-292.9738 469.73,-282.942 469.73,-274.2807"/>
<polygon fill="#000000" stroke="#000000" points="473.2301,-274.0842 469.73,-264.0842 466.2301,-274.0842 473.2301,-274.0842"/>
</g>
<!-- 39 -->
<g id="node40" class="node">
<title>39</title>
<text text-anchor="middle" x="516.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 31&#45;&gt;39 -->
<g id="edge39" class="edge">
<title>31&#45;&gt;39</title>
<path fill="none" stroke="#000000" d="M476.665,-299.6223C483.6169,-292.2267 494.5038,-280.6449 503.1753,-271.4199"/>
<polygon fill="#000000" stroke="#000000" points="505.7719,-273.7677 510.0708,-264.0842 500.6715,-268.9733 505.7719,-273.7677"/>
</g>
<!-- 33 -->
<g id="node34" class="node">
<title>33</title>
<text text-anchor="middle" x="370.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 32&#45;&gt;33 -->
<g id="edge33" class="edge">
<title>32&#45;&gt;33</title>
<path fill="none" stroke="#000000" d="M415.0572,-249.6223C407.2881,-242.152 395.0769,-230.4105 385.4367,-221.1411"/>
<polygon fill="#000000" stroke="#000000" points="387.7318,-218.4924 378.0975,-214.0842 382.88,-223.5382 387.7318,-218.4924"/>
</g>
<!-- 35 -->
<g id="node36" class="node">
<title>35</title>
<text text-anchor="middle" x="436.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 32&#45;&gt;35 -->
<g id="edge35" class="edge">
<title>32&#45;&gt;35</title>
<path fill="none" stroke="#000000" d="M424.7957,-249.6223C426.6782,-242.8991 429.5295,-232.7161 431.973,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="435.4204,-224.6576 434.7464,-214.0842 428.6797,-222.7701 435.4204,-224.6576"/>
</g>
<!-- 34 -->
<g id="node35" class="node">
<title>34</title>
<text text-anchor="middle" x="370.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">9</text>
</g>
<!-- 33&#45;&gt;34 -->
<g id="edge34" class="edge">
<title>33&#45;&gt;34</title>
<path fill="none" stroke="#000000" d="M370.73,-199.6223C370.73,-192.9738 370.73,-182.942 370.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="374.2301,-174.0842 370.73,-164.0842 367.2301,-174.0842 374.2301,-174.0842"/>
</g>
<!-- 36 -->
<g id="node37" class="node">
<title>36</title>
<text text-anchor="middle" x="436.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 35&#45;&gt;36 -->
<g id="edge36" class="edge">
<title>35&#45;&gt;36</title>
<path fill="none" stroke="#000000" d="M436.73,-199.6223C436.73,-192.9738 436.73,-182.942 436.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="440.2301,-174.0842 436.73,-164.0842 433.2301,-174.0842 440.2301,-174.0842"/>
</g>
<!-- 37 -->
<g id="node38" class="node">
<title>37</title>
<text text-anchor="middle" x="436.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">6</text>
</g>
<!-- 36&#45;&gt;37 -->
<g id="edge37" class="edge">
<title>36&#45;&gt;37</title>
<path fill="none" stroke="#000000" d="M436.73,-149.6223C436.73,-142.9738 436.73,-132.942 436.73,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="440.2301,-124.0842 436.73,-114.0842 433.2301,-124.0842 440.2301,-124.0842"/>
</g>
<!-- 40 -->
<g id="node41" class="node">
<title>40</title>
<text text-anchor="middle" x="502.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 39&#45;&gt;40 -->
<g id="edge40" class="edge">
<title>39&#45;&gt;40</title>
<path fill="none" stroke="#000000" d="M514.6642,-249.6223C512.7817,-242.8991 509.9305,-232.7161 507.487,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="510.7803,-222.7701 504.7136,-214.0842 504.0395,-224.6576 510.7803,-222.7701"/>
</g>
<!-- 42 -->
<g id="node43" class="node">
<title>42</title>
<text text-anchor="middle" x="568.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 39&#45;&gt;42 -->
<g id="edge42" class="edge">
<title>39&#45;&gt;42</title>
<path fill="none" stroke="#000000" d="M524.4028,-249.6223C532.1719,-242.152 544.3831,-230.4105 554.0233,-221.1411"/>
<polygon fill="#000000" stroke="#000000" points="556.58,-223.5382 561.3624,-214.0842 551.7282,-218.4924 556.58,-223.5382"/>
</g>
<!-- 41 -->
<g id="node42" class="node">
<title>41</title>
<text text-anchor="middle" x="490.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">5</text>
</g>
<!-- 40&#45;&gt;41 -->
<g id="edge41" class="edge">
<title>40&#45;&gt;41</title>
<path fill="none" stroke="#000000" d="M500.9593,-199.6223C499.3458,-192.8991 496.9018,-182.7161 494.8074,-173.9893"/>
<polygon fill="#000000" stroke="#000000" points="498.1673,-172.9912 492.4302,-164.0842 491.3606,-174.6249 498.1673,-172.9912"/>
</g>
<!-- 43 -->
<g id="node44" class="node">
<title>43</title>
<text text-anchor="middle" x="532.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 42&#45;&gt;43 -->
<g id="edge43" class="edge">
<title>42&#45;&gt;43</title>
<path fill="none" stroke="#000000" d="M563.4181,-199.6223C558.2546,-192.4508 550.2569,-181.343 543.7207,-172.2648"/>
<polygon fill="#000000" stroke="#000000" points="546.5141,-170.1545 537.8306,-164.0842 540.8333,-174.2446 546.5141,-170.1545"/>
</g>
<!-- 45 -->
<g id="node46" class="node">
<title>45</title>
<text text-anchor="middle" x="598.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 42&#45;&gt;45 -->
<g id="edge45" class="edge">
<title>42&#45;&gt;45</title>
<path fill="none" stroke="#000000" d="M573.1566,-199.6223C577.3698,-192.6002 583.8475,-181.8041 589.2291,-172.8348"/>
<polygon fill="#000000" stroke="#000000" points="592.3357,-174.4599 594.4795,-164.0842 586.3332,-170.8584 592.3357,-174.4599"/>
</g>
<!-- 44 -->
<g id="node45" class="node">
<title>44</title>
<text text-anchor="middle" x="532.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">5</text>
</g>
<!-- 43&#45;&gt;44 -->
<g id="edge44" class="edge">
<title>43&#45;&gt;44</title>
<path fill="none" stroke="#000000" d="M532.73,-149.6223C532.73,-142.9738 532.73,-132.942 532.73,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="536.2301,-124.0842 532.73,-114.0842 529.2301,-124.0842 536.2301,-124.0842"/>
</g>
<!-- 46 -->
<g id="node47" class="node">
<title>46</title>
<text text-anchor="middle" x="598.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 45&#45;&gt;46 -->
<g id="edge46" class="edge">
<title>45&#45;&gt;46</title>
<path fill="none" stroke="#000000" d="M598.73,-149.6223C598.73,-142.9738 598.73,-132.942 598.73,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="602.2301,-124.0842 598.73,-114.0842 595.2301,-124.0842 602.2301,-124.0842"/>
</g>
<!-- 47 -->
<g id="node48" class="node">
<title>47</title>
<text text-anchor="middle" x="598.73" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 46&#45;&gt;47 -->
<g id="edge47" class="edge">
<title>46&#45;&gt;47</title>
<path fill="none" stroke="#000000" d="M598.73,-99.6223C598.73,-92.9738 598.73,-82.942 598.73,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="602.2301,-74.0842 598.73,-64.0842 595.2301,-74.0842 602.2301,-74.0842"/>
</g>
<!-- 50 -->
<g id="node51" class="node">
<title>50</title>
<text text-anchor="middle" x="632.73" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;factor&gt;</text>
</g>
<!-- 49&#45;&gt;50 -->
<g id="edge50" class="edge">
<title>49&#45;&gt;50</title>
<path fill="none" stroke="#000000" d="M584.1405,-299.6223C592.7418,-292.0773 606.3102,-280.1752 616.9253,-270.8637"/>
<polygon fill="#000000" stroke="#000000" points="619.4444,-273.3098 624.654,-264.0842 614.8283,-268.0474 619.4444,-273.3098"/>
</g>
<!-- 51 -->
<g id="node52" class="node">
<title>51</title>
<text text-anchor="middle" x="664.73" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 50&#45;&gt;51 -->
<g id="edge51" class="edge">
<title>50&#45;&gt;51</title>
<path fill="none" stroke="#000000" d="M637.4517,-249.6223C641.9936,-242.5255 649.0026,-231.574 654.7785,-222.5492"/>
<polygon fill="#000000" stroke="#000000" points="657.7535,-224.3936 660.1961,-214.0842 651.8576,-220.6202 657.7535,-224.3936"/>
</g>
<!-- 52 -->
<g id="node53" class="node">
<title>52</title>
<text text-anchor="middle" x="664.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 51&#45;&gt;52 -->
<g id="edge52" class="edge">
<title>51&#45;&gt;52</title>
<path fill="none" stroke="#000000" d="M664.73,-199.6223C664.73,-192.9738 664.73,-182.942 664.73,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="668.2301,-174.0842 664.73,-164.0842 661.2301,-174.0842 668.2301,-174.0842"/>
</g>
<!-- 54 -->
<g id="node55" class="node">
<title>54</title>
<text text-anchor="middle" x="730.73" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 51&#45;&gt;54 -->
<g id="edge54" class="edge">
<title>51&#45;&gt;54</title>
<path fill="none" stroke="#000000" d="M674.1862,-199.8362C684.2823,-192.1877 700.5131,-179.8916 713.001,-170.4311"/>
<polygon fill="#000000" stroke="#000000" points="715.4339,-172.9789 721.2913,-164.1505 711.2069,-167.3993 715.4339,-172.9789"/>
</g>
<!-- 53 -->
<g id="node54" class="node">
<title>53</title>
<text text-anchor="middle" x="664.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">8</text>
</g>
<!-- 52&#45;&gt;53 -->
<g id="edge53" class="edge">
<title>52&#45;&gt;53</title>
<path fill="none" stroke="#000000" d="M664.73,-149.6223C664.73,-142.9738 664.73,-132.942 664.73,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="668.2301,-124.0842 664.73,-114.0842 661.2301,-124.0842 668.2301,-124.0842"/>
</g>
<!-- 55 -->
<g id="node56" class="node">
<title>55</title>
<text text-anchor="middle" x="718.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 54&#45;&gt;55 -->
<g id="edge55" class="edge">
<title>54&#45;&gt;55</title>
<path fill="none" stroke="#000000" d="M728.9593,-149.6223C727.3458,-142.8991 724.9018,-132.7161 722.8074,-123.9893"/>
<polygon fill="#000000" stroke="#000000" points="726.1673,-122.9912 720.4302,-114.0842 719.3606,-124.6249 726.1673,-122.9912"/>
</g>
<!-- 57 -->
<g id="node58" class="node">
<title>57</title>
<text text-anchor="middle" x="784.73" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;integer&gt;</text>
</g>
<!-- 54&#45;&gt;57 -->
<g id="edge57" class="edge">
<title>54&#45;&gt;57</title>
<path fill="none" stroke="#000000" d="M738.6979,-149.6223C746.7658,-142.152 759.4466,-130.4105 769.4576,-121.1411"/>
<polygon fill="#000000" stroke="#000000" points="772.1194,-123.4465 777.0791,-114.0842 767.3635,-118.3101 772.1194,-123.4465"/>
</g>
<!-- 56 -->
<g id="node57" class="node">
<title>56</title>
<text text-anchor="middle" x="718.73" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">9</text>
</g>
<!-- 55&#45;&gt;56 -->
<g id="edge56" class="edge">
<title>55&#45;&gt;56</title>
<path fill="none" stroke="#000000" d="M718.73,-99.6223C718.73,-92.9738 718.73,-82.942 718.73,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="722.2301,-74.0842 718.73,-64.0842 715.2301,-74.0842 722.2301,-74.0842"/>
</g>
<!-- 58 -->
<g id="node59" class="node">
<title>58</title>
<text text-anchor="middle" x="784.73" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 57&#45;&gt;58 -->
<g id="edge58" class="edge">
<title>57&#45;&gt;58</title>
<path fill="none" stroke="#000000" d="M784.73,-99.6223C784.73,-92.9738 784.73,-82.942 784.73,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="788.2301,-74.0842 784.73,-64.0842 781.2301,-74.0842 788.2301,-74.0842"/>
</g>
<!-- 59 -->
<g id="node60" class="node">
<title>59</title>
<text text-anchor="middle" x="784.73" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">6</text>
</g>
<!-- 58&#45;&gt;59 -->
<g id="edge59" class="edge">
<title>58&#45;&gt;59</title>
<path fill="none" stroke="#000000" d="M784.73,-49.6223C784.73,-42.9738 784.73,-32.942 784.73,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="788.2301,-24.0842 784.73,-14.0842 781.2301,-24.0842 788.2301,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us try out the grammar fuzzer (and its trees) on other grammar formats.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">URL_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://fuzzingbook.com:2/abc?abc=x20&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="447pt" height="422pt"
 viewBox="0.00 0.00 446.62 422.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 418)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-418 442.6152,-418 442.6152,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="138.8853" y="-402.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="138.8853" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;call&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M138.8853,-399.6223C138.8853,-392.9738 138.8853,-382.942 138.8853,-374.2807"/>
<polygon fill="#000000" stroke="#000000" points="142.3854,-374.0842 138.8853,-364.0842 135.3854,-374.0842 142.3854,-374.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="138.8853" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;url&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M138.8853,-349.6223C138.8853,-342.9738 138.8853,-332.942 138.8853,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="142.3854,-324.0842 138.8853,-314.0842 135.3854,-324.0842 142.3854,-324.0842"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="28.8853" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;scheme&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M123.1249,-299.8362C105.0729,-291.6307 75.253,-278.0762 53.9926,-268.4124"/>
<polygon fill="#000000" stroke="#000000" points="55.1683,-265.1023 44.6163,-264.1505 52.2717,-271.4749 55.1683,-265.1023"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="81.8853" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">://</text>
</g>
<!-- 2&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>2&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M130.4747,-299.6223C121.1892,-291.4772 106.115,-278.2542 95.2168,-268.6943"/>
<polygon fill="#000000" stroke="#000000" points="97.388,-265.9431 87.5623,-261.9799 92.7719,-271.2054 97.388,-265.9431"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="138.8853" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;authority&gt;</text>
</g>
<!-- 2&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>2&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M138.8853,-299.6223C138.8853,-292.9738 138.8853,-282.942 138.8853,-274.2807"/>
<polygon fill="#000000" stroke="#000000" points="142.3854,-274.0842 138.8853,-264.0842 135.3854,-274.0842 142.3854,-274.0842"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="209.8853" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;path&gt;</text>
</g>
<!-- 2&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>2&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M149.0578,-299.8362C160.0242,-292.1134 177.7189,-279.6524 191.2033,-270.1563"/>
<polygon fill="#000000" stroke="#000000" points="193.5707,-272.7699 199.7316,-264.1505 189.5402,-267.0467 193.5707,-272.7699"/>
</g>
<!-- 18 -->
<g id="node19" class="node">
<title>18</title>
<text text-anchor="middle" x="273.8853" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;query&gt;</text>
</g>
<!-- 2&#45;&gt;18 -->
<g id="edge18" class="edge">
<title>2&#45;&gt;18</title>
<path fill="none" stroke="#000000" d="M154.6357,-301.1665C176.8125,-292.9529 217.6143,-277.8411 245.2436,-267.608"/>
<polygon fill="#000000" stroke="#000000" points="246.6061,-270.8358 254.768,-264.0805 244.1749,-264.2715 246.6061,-270.8358"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="28.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">https</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M28.8853,-249.6223C28.8853,-242.9738 28.8853,-232.942 28.8853,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="32.3854,-224.0842 28.8853,-214.0842 25.3854,-224.0842 32.3854,-224.0842"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="86.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;host&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M131.2125,-249.6223C123.4434,-242.152 111.2322,-230.4105 101.592,-221.1411"/>
<polygon fill="#000000" stroke="#000000" points="103.8871,-218.4924 94.2528,-214.0842 99.0353,-223.5382 103.8871,-218.4924"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="128.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">:</text>
</g>
<!-- 6&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>6&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M137.4097,-249.6223C136.0651,-242.8991 134.0285,-232.7161 132.2831,-223.9893"/>
<polygon fill="#000000" stroke="#000000" points="135.6954,-223.2036 130.3021,-214.0842 128.8313,-224.5764 135.6954,-223.2036"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="167.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;port&gt;</text>
</g>
<!-- 6&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>6&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M143.1643,-249.6223C147.2371,-242.6002 153.4989,-231.8041 158.7011,-222.8348"/>
<polygon fill="#000000" stroke="#000000" points="161.7868,-224.4905 163.7764,-214.0842 155.7316,-220.9785 161.7868,-224.4905"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="85.8853" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">fuzzingbook.com</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M86.7377,-199.6223C86.6047,-192.9738 86.4041,-182.942 86.2309,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="89.7263,-174.0122 86.0269,-164.0842 82.7277,-174.1522 89.7263,-174.0122"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="168.8853" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;nat&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M168.0328,-199.6223C168.1658,-192.9738 168.3664,-182.942 168.5396,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="172.0428,-174.1522 168.7436,-164.0842 165.0442,-174.0122 172.0428,-174.1522"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="168.8853" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M168.8853,-149.6223C168.8853,-142.9738 168.8853,-132.942 168.8853,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="172.3854,-124.0842 168.8853,-114.0842 165.3854,-124.0842 172.3854,-124.0842"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="168.8853" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 12&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>12&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M168.8853,-99.6223C168.8853,-92.9738 168.8853,-82.942 168.8853,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="172.3854,-74.0842 168.8853,-64.0842 165.3854,-74.0842 172.3854,-74.0842"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="206.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">/</text>
</g>
<!-- 14&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>14&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M209.4426,-249.6223C209.0437,-242.9738 208.4418,-232.942 207.9221,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="211.403,-223.8566 207.3103,-214.0842 204.4156,-224.2759 211.403,-223.8566"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="239.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;id&gt;</text>
</g>
<!-- 14&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>14&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M214.3119,-249.6223C218.5251,-242.6002 225.0028,-231.8041 230.3844,-222.8348"/>
<polygon fill="#000000" stroke="#000000" points="233.491,-224.4599 235.6347,-214.0842 227.4885,-220.8584 233.491,-224.4599"/>
</g>
<!-- 17 -->
<g id="node18" class="node">
<title>17</title>
<text text-anchor="middle" x="239.8853" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">abc</text>
</g>
<!-- 16&#45;&gt;17 -->
<g id="edge17" class="edge">
<title>16&#45;&gt;17</title>
<path fill="none" stroke="#000000" d="M239.8853,-199.6223C239.8853,-192.9738 239.8853,-182.942 239.8853,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="243.3854,-174.0842 239.8853,-164.0842 236.3854,-174.0842 243.3854,-174.0842"/>
</g>
<!-- 19 -->
<g id="node20" class="node">
<title>19</title>
<text text-anchor="middle" x="273.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">?</text>
</g>
<!-- 18&#45;&gt;19 -->
<g id="edge19" class="edge">
<title>18&#45;&gt;19</title>
<path fill="none" stroke="#000000" d="M273.8853,-249.6223C273.8853,-242.9738 273.8853,-232.942 273.8853,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="277.3854,-224.0842 273.8853,-214.0842 270.3854,-224.0842 277.3854,-224.0842"/>
</g>
<!-- 20 -->
<g id="node21" class="node">
<title>20</title>
<text text-anchor="middle" x="322.8853" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;params&gt;</text>
</g>
<!-- 18&#45;&gt;20 -->
<g id="edge20" class="edge">
<title>18&#45;&gt;20</title>
<path fill="none" stroke="#000000" d="M281.1154,-249.6223C288.3631,-242.2267 299.7132,-230.6449 308.7538,-221.4199"/>
<polygon fill="#000000" stroke="#000000" points="311.4432,-223.6761 315.9428,-214.0842 306.4437,-218.7766 311.4432,-223.6761"/>
</g>
<!-- 21 -->
<g id="node22" class="node">
<title>21</title>
<text text-anchor="middle" x="322.8853" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;param&gt;</text>
</g>
<!-- 20&#45;&gt;21 -->
<g id="edge21" class="edge">
<title>20&#45;&gt;21</title>
<path fill="none" stroke="#000000" d="M322.8853,-199.6223C322.8853,-192.9738 322.8853,-182.942 322.8853,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="326.3854,-174.0842 322.8853,-164.0842 319.3854,-174.0842 326.3854,-174.0842"/>
</g>
<!-- 22 -->
<g id="node23" class="node">
<title>22</title>
<text text-anchor="middle" x="286.8853" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;id&gt;</text>
</g>
<!-- 21&#45;&gt;22 -->
<g id="edge22" class="edge">
<title>21&#45;&gt;22</title>
<path fill="none" stroke="#000000" d="M317.5733,-149.6223C312.4099,-142.4508 304.4122,-131.343 297.8759,-122.2648"/>
<polygon fill="#000000" stroke="#000000" points="300.6693,-120.1545 291.9859,-114.0842 294.9886,-124.2446 300.6693,-120.1545"/>
</g>
<!-- 24 -->
<g id="node25" class="node">
<title>24</title>
<text text-anchor="middle" x="322.8853" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">=</text>
</g>
<!-- 21&#45;&gt;24 -->
<g id="edge24" class="edge">
<title>21&#45;&gt;24</title>
<path fill="none" stroke="#000000" d="M322.8853,-149.6223C322.8853,-142.9738 322.8853,-132.942 322.8853,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="326.3854,-124.0842 322.8853,-114.0842 319.3854,-124.0842 326.3854,-124.0842"/>
</g>
<!-- 25 -->
<g id="node26" class="node">
<title>25</title>
<text text-anchor="middle" x="358.8853" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;id&gt;</text>
</g>
<!-- 21&#45;&gt;25 -->
<g id="edge25" class="edge">
<title>21&#45;&gt;25</title>
<path fill="none" stroke="#000000" d="M328.1972,-149.6223C333.3606,-142.4508 341.3583,-131.343 347.8946,-122.2648"/>
<polygon fill="#000000" stroke="#000000" points="350.7819,-124.2446 353.7846,-114.0842 345.1012,-120.1545 350.7819,-124.2446"/>
</g>
<!-- 23 -->
<g id="node24" class="node">
<title>23</title>
<text text-anchor="middle" x="285.8853" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">abc</text>
</g>
<!-- 22&#45;&gt;23 -->
<g id="edge23" class="edge">
<title>22&#45;&gt;23</title>
<path fill="none" stroke="#000000" d="M286.7377,-99.6223C286.6047,-92.9738 286.4041,-82.942 286.2309,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="289.7263,-74.0122 286.0269,-64.0842 282.7277,-74.1522 289.7263,-74.0122"/>
</g>
<!-- 26 -->
<g id="node27" class="node">
<title>26</title>
<text text-anchor="middle" x="316.8853" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">x</text>
</g>
<!-- 25&#45;&gt;26 -->
<g id="edge26" class="edge">
<title>25&#45;&gt;26</title>
<path fill="none" stroke="#000000" d="M352.688,-99.6223C345.9095,-91.5527 334.9444,-78.499 326.9327,-68.9613"/>
<polygon fill="#000000" stroke="#000000" points="329.5013,-66.5775 320.3894,-61.1716 324.1414,-71.0799 329.5013,-66.5775"/>
</g>
<!-- 27 -->
<g id="node28" class="node">
<title>27</title>
<text text-anchor="middle" x="358.8853" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 25&#45;&gt;27 -->
<g id="edge27" class="edge">
<title>25&#45;&gt;27</title>
<path fill="none" stroke="#000000" d="M358.8853,-99.6223C358.8853,-92.9738 358.8853,-82.942 358.8853,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="362.3854,-74.0842 358.8853,-64.0842 355.3854,-74.0842 362.3854,-74.0842"/>
</g>
<!-- 29 -->
<g id="node30" class="node">
<title>29</title>
<text text-anchor="middle" x="417.8853" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;digit&gt;</text>
</g>
<!-- 25&#45;&gt;29 -->
<g id="edge29" class="edge">
<title>25&#45;&gt;29</title>
<path fill="none" stroke="#000000" d="M367.3385,-99.8362C376.2762,-92.2619 390.592,-80.1299 401.7105,-70.7074"/>
<polygon fill="#000000" stroke="#000000" points="404.0815,-73.2859 409.4477,-64.1505 399.5559,-67.9456 404.0815,-73.2859"/>
</g>
<!-- 28 -->
<g id="node29" class="node">
<title>28</title>
<text text-anchor="middle" x="358.8853" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">2</text>
</g>
<!-- 27&#45;&gt;28 -->
<g id="edge28" class="edge">
<title>27&#45;&gt;28</title>
<path fill="none" stroke="#000000" d="M358.8853,-49.6223C358.8853,-42.9738 358.8853,-32.942 358.8853,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="362.3854,-24.0842 358.8853,-14.0842 355.3854,-24.0842 362.3854,-24.0842"/>
</g>
<!-- 30 -->
<g id="node31" class="node">
<title>30</title>
<text text-anchor="middle" x="417.8853" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">0</text>
</g>
<!-- 29&#45;&gt;30 -->
<g id="edge30" class="edge">
<title>29&#45;&gt;30</title>
<path fill="none" stroke="#000000" d="M417.8853,-49.6223C417.8853,-42.9738 417.8853,-32.942 417.8853,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="421.3854,-24.0842 417.8853,-14.0842 414.3854,-24.0842 421.3854,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">CGI_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;-a%84&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="268pt" height="372pt"
 viewBox="0.00 0.00 268.12 372.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 368)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-368 264.1152,-368 264.1152,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="54.2783" y="-352.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="54.2783" y="-302.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;string&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M54.2783,-349.6223C54.2783,-342.9738 54.2783,-332.942 54.2783,-324.2807"/>
<polygon fill="#000000" stroke="#000000" points="57.7784,-324.0842 54.2783,-314.0842 50.7784,-324.0842 57.7784,-324.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="22.2783" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;letter&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M49.5566,-299.6223C45.0147,-292.5255 38.0057,-281.574 32.2298,-272.5492"/>
<polygon fill="#000000" stroke="#000000" points="35.1507,-270.6202 26.8122,-264.0842 29.2548,-274.3936 35.1507,-270.6202"/>
</g>
<!-- 5 -->
<g id="node6" class="node">
<title>5</title>
<text text-anchor="middle" x="86.2783" y="-252.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;string&gt;</text>
</g>
<!-- 1&#45;&gt;5 -->
<g id="edge5" class="edge">
<title>1&#45;&gt;5</title>
<path fill="none" stroke="#000000" d="M59,-299.6223C63.542,-292.5255 70.551,-281.574 76.3269,-272.5492"/>
<polygon fill="#000000" stroke="#000000" points="79.3018,-274.3936 81.7444,-264.0842 73.4059,-270.6202 79.3018,-274.3936"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="22.2783" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;other&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M22.2783,-249.6223C22.2783,-242.9738 22.2783,-232.942 22.2783,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="25.7784,-224.0842 22.2783,-214.0842 18.7784,-224.0842 25.7784,-224.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="22.2783" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&#45;</text>
</g>
<!-- 3&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>3&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M22.2783,-199.6223C22.2783,-192.9738 22.2783,-182.942 22.2783,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="25.7784,-174.0842 22.2783,-164.0842 18.7784,-174.0842 25.7784,-174.0842"/>
</g>
<!-- 6 -->
<g id="node7" class="node">
<title>6</title>
<text text-anchor="middle" x="85.2783" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;letter&gt;</text>
</g>
<!-- 5&#45;&gt;6 -->
<g id="edge6" class="edge">
<title>5&#45;&gt;6</title>
<path fill="none" stroke="#000000" d="M86.1308,-249.6223C85.9978,-242.9738 85.7972,-232.942 85.6239,-224.2807"/>
<polygon fill="#000000" stroke="#000000" points="89.1194,-224.0122 85.42,-214.0842 82.1208,-224.1522 89.1194,-224.0122"/>
</g>
<!-- 9 -->
<g id="node10" class="node">
<title>9</title>
<text text-anchor="middle" x="149.2783" y="-202.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;string&gt;</text>
</g>
<!-- 5&#45;&gt;9 -->
<g id="edge9" class="edge">
<title>5&#45;&gt;9</title>
<path fill="none" stroke="#000000" d="M95.3047,-249.8362C104.9419,-242.1877 120.4349,-229.8916 132.3552,-220.4311"/>
<polygon fill="#000000" stroke="#000000" points="134.6116,-223.1086 140.2687,-214.1505 130.26,-217.6256 134.6116,-223.1086"/>
</g>
<!-- 7 -->
<g id="node8" class="node">
<title>7</title>
<text text-anchor="middle" x="85.2783" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;other&gt;</text>
</g>
<!-- 6&#45;&gt;7 -->
<g id="edge7" class="edge">
<title>6&#45;&gt;7</title>
<path fill="none" stroke="#000000" d="M85.2783,-199.6223C85.2783,-192.9738 85.2783,-182.942 85.2783,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="88.7784,-174.0842 85.2783,-164.0842 81.7784,-174.0842 88.7784,-174.0842"/>
</g>
<!-- 8 -->
<g id="node9" class="node">
<title>8</title>
<text text-anchor="middle" x="85.2783" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">a</text>
</g>
<!-- 7&#45;&gt;8 -->
<g id="edge8" class="edge">
<title>7&#45;&gt;8</title>
<path fill="none" stroke="#000000" d="M85.2783,-149.6223C85.2783,-142.9738 85.2783,-132.942 85.2783,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="88.7784,-124.0842 85.2783,-114.0842 81.7784,-124.0842 88.7784,-124.0842"/>
</g>
<!-- 10 -->
<g id="node11" class="node">
<title>10</title>
<text text-anchor="middle" x="149.2783" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;letter&gt;</text>
</g>
<!-- 9&#45;&gt;10 -->
<g id="edge10" class="edge">
<title>9&#45;&gt;10</title>
<path fill="none" stroke="#000000" d="M149.2783,-199.6223C149.2783,-192.9738 149.2783,-182.942 149.2783,-174.2807"/>
<polygon fill="#000000" stroke="#000000" points="152.7784,-174.0842 149.2783,-164.0842 145.7784,-174.0842 152.7784,-174.0842"/>
</g>
<!-- 11 -->
<g id="node12" class="node">
<title>11</title>
<text text-anchor="middle" x="149.2783" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;percent&gt;</text>
</g>
<!-- 10&#45;&gt;11 -->
<g id="edge11" class="edge">
<title>10&#45;&gt;11</title>
<path fill="none" stroke="#000000" d="M149.2783,-149.6223C149.2783,-142.9738 149.2783,-132.942 149.2783,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="152.7784,-124.0842 149.2783,-114.0842 145.7784,-124.0842 152.7784,-124.0842"/>
</g>
<!-- 12 -->
<g id="node13" class="node">
<title>12</title>
<text text-anchor="middle" x="94.2783" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">%</text>
</g>
<!-- 11&#45;&gt;12 -->
<g id="edge12" class="edge">
<title>11&#45;&gt;12</title>
<path fill="none" stroke="#000000" d="M141.1629,-99.6223C132.2975,-91.5629 117.9635,-78.532 107.4755,-68.9974"/>
<polygon fill="#000000" stroke="#000000" points="109.8206,-66.3992 100.0668,-62.2623 105.1119,-71.5788 109.8206,-66.3992"/>
</g>
<!-- 13 -->
<g id="node14" class="node">
<title>13</title>
<text text-anchor="middle" x="149.2783" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;hexdigit&gt;</text>
</g>
<!-- 11&#45;&gt;13 -->
<g id="edge13" class="edge">
<title>11&#45;&gt;13</title>
<path fill="none" stroke="#000000" d="M149.2783,-99.6223C149.2783,-92.9738 149.2783,-82.942 149.2783,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="152.7784,-74.0842 149.2783,-64.0842 145.7784,-74.0842 152.7784,-74.0842"/>
</g>
<!-- 15 -->
<g id="node16" class="node">
<title>15</title>
<text text-anchor="middle" x="229.2783" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;hexdigit&gt;</text>
</g>
<!-- 11&#45;&gt;15 -->
<g id="edge15" class="edge">
<title>11&#45;&gt;15</title>
<path fill="none" stroke="#000000" d="M160.7404,-99.8362C173.3345,-91.9649 193.8042,-79.1713 209.0994,-69.6118"/>
<polygon fill="#000000" stroke="#000000" points="211.2125,-72.4185 217.8375,-64.1505 207.5025,-66.4825 211.2125,-72.4185"/>
</g>
<!-- 14 -->
<g id="node15" class="node">
<title>14</title>
<text text-anchor="middle" x="149.2783" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">8</text>
</g>
<!-- 13&#45;&gt;14 -->
<g id="edge14" class="edge">
<title>13&#45;&gt;14</title>
<path fill="none" stroke="#000000" d="M149.2783,-49.6223C149.2783,-42.9738 149.2783,-32.942 149.2783,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="152.7784,-24.0842 149.2783,-14.0842 145.7784,-24.0842 152.7784,-24.0842"/>
</g>
<!-- 16 -->
<g id="node17" class="node">
<title>16</title>
<text text-anchor="middle" x="229.2783" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 15&#45;&gt;16 -->
<g id="edge16" class="edge">
<title>15&#45;&gt;16</title>
<path fill="none" stroke="#000000" d="M229.2783,-49.6223C229.2783,-42.9738 229.2783,-32.942 229.2783,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="232.7784,-24.0842 229.2783,-14.0842 225.7784,-24.0842 232.7784,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>How do we stack up against <code>simple_grammar_fuzzer()</code>?</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">trials</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">xs</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">ys</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">trials</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="n">xs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    <span class="n">ys</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">average_time</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">ys</span><span class="p">)</span> <span class="o">/</span> <span class="n">trials</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average time:&quot;</span><span class="p">,</span> <span class="n">average_time</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Average time: 0.061898268547374756
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">xs</span><span class="p">,</span> <span class="n">ys</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Time required for generating an output&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAXcAAAEICAYAAACktLTqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADl0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uIDIuMi4yLCBodHRwOi8vbWF0cGxvdGxpYi5vcmcvhp/UCwAAHUVJREFUeJzt3X+cHHWd5/HXm8kEBuRBFMbVTALJaoxGYYmMwIkPBUXDDyVZ0BU8T9x1zXpnHuu6bG7D6rLI+iPKqbeeuVV0WVDR4I8Yo2Yv64qeJwpmMJEYMBojkJkgjMCgwgCT5HN/VHWo6emerp7pme6ueT8fj3lkqupb1Z+u6bz729+qrlJEYGZmxXJYswswM7PGc7ibmRWQw93MrIAc7mZmBeRwNzMrIIe7mVkBOdynkKS/k/TpZtfRaI1+XpKulPS5cZb/V0n3Sfq9pGMb9bjtSNInJP19s+uw1ief5z5xkn6fmTwSeBw4kE7/RUTcMP1VtR9JVwLPjog3VljWCfwWOD0ifjLdtTWTpDcDfx4RL2l2LdNF0pnA5yJiXitur53ManYB7SwinlL6XdJdJP8R/6N5FR2qZVZE7C/IY/8BcASwcwK1iKQDc7CB9TREM/9GNjN4WGYKZYcbJC2QFJL+VNJeSQ9JepukF0m6XdKQpI+Xrf9nku5M226RdEKVxylt+y2S7gFuSuefLukH6bZ/kvZiSusslPR/Jf1O0rckfTxT65mS+sse4y5JZ4/zvCb82MBxVZ7Xc4Bd6eSQpNK2Xyxpq6SH039fnFnnu5LeJ+lm4FHgDyts94WStqWP/yVJN0p6b2b5qyVtT2v/gaSTyvbD36R/s4fTdY+oY92/lXQ78IikWZLWSPplWssdkv44bfs84BPAf0qHo4bS+deVai39nSRdJul+SfdK+tPM4x0r6euSfpvup/dK+n6lfZ22/5KkX6fP63uSnp9Zdp2kdZK+mdZ6q6RnjbOtCyTtTPfDd9PnU1oWkp5dtu33SjoK+Ddgbvqcfy9pbvp6+3K6r38n6ceS/mii26tWc+FEhH8a8APcBZxdNu9Kko+EAAuAIPkPewTwKuAxYCPwdKAHuB94Wdp+BbAbeB7JJ6x3Az+o8tilbX8GOAroSrf3AHAeyZv4K9Pp7nSdHwIfAQ4HXgr8LlPrmUB/tedX5Xk15LHHeW6z0umnAQ8B/yXdL5ek08emy78L3AM8P13eWba92cDdwDuATuBC4AngvenyF6Z/h9OADuDS9LkfntkPPwLmprXcCbytjnW3A/OBrnTe69JtHQa8HngEeGa67M3A98vqvy5T65nAfuCq9LmcR/KG9tR0+fr050hgCbC3fHtl2/4z4Oj07/I/ge1lj/sgcGq6X28A1lfZznPS5/HKtK7/TvJanp0uD5JhuGrPqfy1dyUwArw23d7fAL8q/W3r3d5M+XHPffr9Y0Q8FhH/TvIf4AsRcX9EDAD/D1iatvsL4AMRcWckH9/fD5ysKr331JUR8UhEDANvBDZHxOaIOBgR3wL6gPMkHQ+8CPj7iHg8Ir4HfH2Sz2u6Hvt84BcR8dmI2B8RXwB+Brwm0+a6iNiZLh8pW/90knD6WESMRMQGkrAueSvwyYi4NSIORMT1JMdSTs+0+VhE7IuIB9PaT65z3b3pfiIivpRu62BE3Aj8giRA8xoBrkqfy2bg98BiSR3ARcA/RMSjEXEHcP14G4qIayPidxHxOEmg/pGkYzJNNkTEj9LX4w2Z513u9cA3I+Jb6f7/HyRv+i+u0j6P2yLiy+n2PkLSQTq9xjozmsN9+t2X+X24wnRpHP8E4J/Sj7VDJL0mkfSKq9mb+f0E4HWl9dNtvAR4JklP8aGIeCTT/u4JPZvpf+y5Fdrfzej9spfq5gIDkXbrqtR+WVnt89P1Sn6d+f1RRv/Naq07qjZJb8oM4wwBL6DKMFUVD8TosftSPd0kb2LZx6u6XyR1SFqbDhH9luRTBmW1VHve5Ub9jSI55rGX8V+7tRyqPd1eP6P3q5XxAdXWtRd4X9R3xk15YH02It5a3ijt/T9V0lGZkD0+s/4jJB/lS+07SMJiOh67ln0kIZp1PPB/qtRS7l6gR5IyAT8f+GWm9vdFxPty1pOVZ91DtaX74lPAK4AfRsQBSdtJ3sRrPY9aBkmGbOYBP0/nzR+n/RuA5cDZJMF+DMlwl8ZZp5p9wImlCUlKH3sgnfUomdcX8AySsIbqz/lQ7ZIOI3le+yaxvcJzz711fQK4vHRQS9Ixkl5Xx/qfA14jaVnaKzsiPQA3LyLuJhkmeY+k2ZJewuhhjZ8DR0g6X8mpiO8mGYedjseuZTPwHElvSA9Ivp5kPPkbOdf/IcnpqqvS9ZczehjkU8DbJJ2mxFHpfjg6x7brXfcokvAZBEgPhr4gs/w+YJ6k2Tmf2yERcQDYAFwp6UhJzwXeNM4qR5MMIT1AEpTvr/cxM74InC/pFenr57J02z9Il28H3pC+Ns4BXpZZ9z7g2LLhIIBTJF0oaRbwV+n2bpnE9grP4d6iIuKrwAeB9enH5J8C59ax/l6SntjfkYTHXmA1T/7N30By4O9B4B9IDoiW1n0Y+G/Ap0l6W4/wZE9oSh87x7YfAF5NEhgPkByse3VE/Cbn+k+QHER9CzBEcnzgGyRhQUT0kYydf5yk57qb5MBmnm3XtW46Dv5hkjec+0h6uzdnmtxEcgroryXlen5lVpH0wH8NfBb4AunzrOAzJEMpA8AdPBmcdYuIXST79X8BvyF5835Nuu8hOZj9GpL9/59JTioorfuztM496VBVaejlayRj+aWD6RdmjqdMZHuF5y8xGTD+F4mKTtKtwCci4l+bXctUkvRB4BkRcWmza6nHTH5tToZ77jbjSHqZpGekwzKXAicxesy+ECQ9V9JJ6RDRqSSfVr7a7LpseviAqs1Ei0nGhZ9CciD1tRFxb3NLmhJHkwxJzCU5//7DJMMbNgN4WMbMrIA8LGNmVkBNG5Y57rjjYsGCBc16eDOztnTbbbf9JiJqfe+keeG+YMEC+vr6mvXwZmZtSVKub3R7WMbMrIAc7mZmBeRwNzMrIIe7mVkBOdzNzArI4W5mVkAOdzOzAnK4m5kVkMPdzKyAHO5mZgWUK9wlnSNpl6TdktZUafMnku6QtFPS5xtbpplZ+9u4bYAz1t7EwjXf5Iy1N7Fx20DtlSao5rVl0psjrwNeSXKrta2SNqW3CCu1WQRcDpwREQ9JevpUFWxm1o42bhvg8g07GB45AMDA0DCXb9gBwIqlPQ1/vDw991OB3RGxJ70H4nqS+2NmvRVYFxEPAUTE/Y0t08ysvV29ZdehYC8ZHjnA1Vt2Tcnj5Qn3HpIbHJf0p/OynkNyR/qbJd2S3oF8DEkrJfVJ6hscHJxYxWZmbWjf0HBd8ycrT7irwrzy2zfNAhYBZwKXAJ+WNGfMShHXRERvRPR2d9e8HLGZWWHMndNV1/zJyhPu/cD8zPQ8YF+FNl+LiJGI+BWwiyTszcwMWL1sMV2dHaPmdXV2sHrZ4il5vDzhvhVYJGmhpNnAxcCmsjYbgbMAJB1HMkyzp5GFmpm1sxVLe/jAhSfSM6cLAT1zuvjAhSdOycFUyHG2TETsl7QK2AJ0ANdGxE5JVwF9EbEpXfYqSXcAB4DVEfHAlFRsZtamViztmbIwL6eI8uHz6dHb2xu+zZ6ZWX0k3RYRvbXa+RuqZmYF5HA3Mysgh7uZWQE53M3MCsjhbmZWQA53M7MCcribmRWQw93MrIAc7mZmBeRwNzMrIIe7mVkBOdzNzArI4W5mVkAOdzOzAnK4m5kVkMPdzKyAHO5mZgXkcDczKyCHu5lZATnczcwKyOFuZlZADnczswJyuJuZFVCucJd0jqRdknZLWlNh+ZslDUranv78eeNLNTOzvGbVaiCpA1gHvBLoB7ZK2hQRd5Q1vTEiVk1BjWZmVqc8PfdTgd0RsScingDWA8untiwzM5uMPOHeA+zNTPen88pdJOl2SV+WNL/ShiStlNQnqW9wcHAC5ZqZWR55wl0V5kXZ9NeBBRFxEvAfwPWVNhQR10REb0T0dnd311epmZnllifc+4FsT3wesC/bICIeiIjH08lPAac0pjwzM5uIPOG+FVgkaaGk2cDFwKZsA0nPzExeANzZuBLNzKxeNc+WiYj9klYBW4AO4NqI2CnpKqAvIjYBfynpAmA/8CDw5ims2czMalBE+fD59Ojt7Y2+vr6mPLaZWbuSdFtE9NZq52+ompkVkMPdzKyAHO5mZgXkcDczKyCHu5lZATnczcwKyOFuZlZADnczswJyuJuZFZDD3cysgBzuZmYF5HA3Mysgh7uZWQE53M3MCsjhbmZWQA53M7MCcribmRWQw93MrIAc7mZmBeRwNzMrIIe7mVkBOdzNzAooV7hLOkfSLkm7Ja0Zp91rJYWk3saVaGZm9aoZ7pI6gHXAucAS4BJJSyq0Oxr4S+DWRhdpZmb1ydNzPxXYHRF7IuIJYD2wvEK7fwQ+BDzWwPrMzGwC8oR7D7A3M92fzjtE0lJgfkR8Y7wNSVopqU9S3+DgYN3FmplZPnnCXRXmxaGF0mHAR4HLam0oIq6JiN6I6O3u7s5fpZmZ1SVPuPcD8zPT84B9memjgRcA35V0F3A6sMkHVc3MmidPuG8FFklaKGk2cDGwqbQwIh6OiOMiYkFELABuAS6IiL4pqdjMzGqqGe4RsR9YBWwB7gS+GBE7JV0l6YKpLtDMzOo3K0+jiNgMbC6bd0WVtmdOviwzM5sMf0PVzKyAHO5mZgXkcDczKyCHu5lZATnczcwKyOFuZlZADnczswJyuJuZFZDD3cysgBzuZmYF5HA3Mysgh7uZWQE53M3MCsjhbmZWQA53M7MCcribmRWQw93MrIAc7mZmBeRwNzMrIIe7mVkBOdzNzArI4W5mVkC5wl3SOZJ2SdotaU2F5W+TtEPSdknfl7Sk8aWamVleNcNdUgewDjgXWAJcUiG8Px8RJ0bEycCHgI80vFIzM8stT8/9VGB3ROyJiCeA9cDybIOI+G1m8iggGleimZnVa1aONj3A3sx0P3BaeSNJbwf+GpgNvLwh1ZmZ2YTk6bmrwrwxPfOIWBcRzwL+Fnh3xQ1JKyX1SeobHBysr1IzM8stT7j3A/Mz0/OAfeO0Xw+sqLQgIq6JiN6I6O3u7s5fpZmZ1SVPuG8FFklaKGk2cDGwKdtA0qLM5PnALxpXopmZ1avmmHtE7Je0CtgCdADXRsROSVcBfRGxCVgl6WxgBHgIuHQqizYzs/HlOaBKRGwGNpfNuyLz+zsaXJeZmU2Cv6FqZlZAuXruZtZ8G7cNcPWWXewbGmbunC5WL1vMiqU9zS7LWpTD3awNbNw2wOUbdjA8cgCAgaFhLt+wA8ABbxV5WMasDVy9ZdehYC8ZHjnA1Vt2Nakia3UOd7M2sG9ouK75Zg53szYwd05XXfPNHO5mbWD1ssV0dXaMmtfV2cHqZYubVJG1Oh9QNWsDpYOmPlvG8nK4m7WJFUt7HOaWm4dlzMwKyOFuZlZADnczswJyuJuZFZDD3cysgBzuZmYF5HA3Mysgh7uZWQE53M3MCsjhbmZWQA53M7MCcribmRWQw93MrIAc7mZmBZQr3CWdI2mXpN2S1lRY/teS7pB0u6RvSzqh8aWamVleNcNdUgewDjgXWAJcImlJWbNtQG9EnAR8GfhQows1M7P88vTcTwV2R8SeiHgCWA8szzaIiO9ExKPp5C3AvMaWaWZm9cgT7j3A3sx0fzqvmrcA/1ZpgaSVkvok9Q0ODuav0szM6pIn3FVhXlRsKL0R6AWurrQ8Iq6JiN6I6O3u7s5fpZmZ1SXPPVT7gfmZ6XnAvvJGks4G3gW8LCIeb0x5ZmY2EXl67luBRZIWSpoNXAxsyjaQtBT4JHBBRNzf+DLNzKweNXvuEbFf0ipgC9ABXBsROyVdBfRFxCaSYZinAF+SBHBPRFwwhXWbWWrjtgGu3rKLfUPDzJ3Txepli1mxdLzDYjYT5BmWISI2A5vL5l2R+f3sBtdlZjls3DbA5Rt2MDxyAICBoWEu37ADwAE/w/kbqmZt7Ootuw4Fe8nwyAGu3rKrSRVZq3C4m7WxfUPDdc23mcPhbtbG5s7pqmu+zRwOd7M2tnrZYro6O0bN6+rsYPWyxU2qyFpFrgOqZtaaSgdNfbaMlXO4m7W5FUt7HOY2hodlzMwKyOFuZlZADnczswJyuJuZFZDD3cysgBzuZmYF5FMhzdqQrwRptTjczdqMrwRpeXhYxqzN+EqQlofD3azN+EqQloeHZcyaZKLj5nPndDFQIch9JUjLcs/drAlK4+YDQ8MET46bb9w2UHNdXwnS8nC4mzXBZMbNVyzt4QMXnkjPnC4E9Mzp4gMXnuiDqTaKh2WskFr9VMHJjpv7SpBWi3vuVjiTGfKYLr6Dkk01h7sVTjucKuhxc5tqucJd0jmSdknaLWlNheUvlfRjSfslvbbxZZrl1y6nCh4+68n/fk89stPj5tZQNcNdUgewDjgXWAJcImlJWbN7gDcDn290gWb1avUhj9Kw0dDwyKF5j40cbGJFVkR5eu6nArsjYk9EPAGsB5ZnG0TEXRFxO+BXqDVdpSEPkYy9n7H2pjFj7xu3DXDG2ptYuOabFZc3WjsMG1n7y3O2TA+wNzPdD5w2kQeTtBJYCXD88cdPZBNmNWVvGj0wNIyASJeVX4elGddpaZdhI2tveXruqjAvKsyrKSKuiYjeiOjt7u6eyCbMclmxtIeb17ycnjldY16s2V5yM3rRrT5sZMWQJ9z7gfmZ6XnAvqkpx6yxavWSG92LzjPE4zNlbDrkCfetwCJJCyXNBi4GNk1tWWaNUauX3MhedN7z6/0NU5sONcM9IvYDq4AtwJ3AFyNip6SrJF0AIOlFkvqB1wGflLRzKos2y6tWL7mRveh6hnhKw0a/Wns+N695uYPdGi7X5QciYjOwuWzeFZnft5IM15i1lOzB1dKlCM56bjdXb9nFO2/cztw5XVx0Sg/f+dngpC9V4AOl1kp8bRkrvOx1WCqdHfOV2wYaMiziS/FaK/HlB2xGqTZ0ctkXf3JobHyi5737QKm1EvfcbUapNkRyIILLN+yg7+4H+cptAxM6773SEFCrXY3SZg6Hu80YG7cNcJjEgaj8NY3hkQN84da9Y5aXDormCWlfitdahcPdWlqjrsteGmuvFuwl1Zb7oKi1G4e7tZRsmM85spPfP7afkYNJ4E7m0gCVxtrr4YOi1m4c7tYyys9keejRkTFtqg2R1OrhT6bnnT0o2up3eDIrcbhby8jbuy4P6jwX/6p2mmI1HRIHI0YFeDMuMmY2UQ53axl5e9flQyTVTm+8ctPOQ73sY7o66ewQIweeHFPv6uyo+mZyMIJfrT0/1+PkPdhqNp18nru1jLzj2mc9t3vUuejVeuRDwyOHrvMyNDwCkdzxKHs9l546ri3jb6BaO3HP3Zri3Rt3HDrtsEPiktPms3rZ4lHDHtV89ccDo85Fz2vkYHDk7Flsu+JVo+aXP2a1Lx4d09U56u5J2flmrcbhXjDtcMDv3Rt38Llb7jk0fSDi0PRFp/RUPNc865EnJn7WS3kvu54vHqnSnQ3GmW/WTA73ApnuA34TfSP5/K33VJx/w633cMSsjprnok9GAGesvWlUrXm/eDRU4eyd8eabNZPDvUCm84DfeG8kpVoqhf7GbQMcrJLdEUzqXPS8Jvqm5wuDWTvxAdUCmc4DftXeSN7z9Z3j3rCiVW4CPZFb6fnCYNZOHO4FMp335qz2hvHQoyPj3rBivDeaIzsn/3IsH/4uD+Oset/0fAclaycO9wKZzp5lvW8YA0PDnLH2pqp3Vu/qPIz3X3jSuGEMyamMc8Y5OyVgTPjWc7pjLb6DkrULj7kXyHRecrbSaYtdnR0cPuuwiqcLCsb9huhFp8wbVX+1tkfOnsXqZYt5543bK75R9Mzp4uY1Lx8zP+/pjmZF4XAvmOm65Gy1NxIYG6SCqj32ku/8bPDQdlcs7WHhmm9WXGff0DArlvbQd/eD3HDLPaPaVAtsX2fdZiKH+wS1w/nkU228N5LsvslzTZfy8e9aZ6a8d8WJ9J7wtNx/A19n3WYah/sETPR88pnyhlAepGesvalmwJePf1cb9sn2zB3YZtXNiHCv9FX3bK/vmK5OpOTLKHOO7CQCHh4eqRrAEzmffCZfUbDWZQUqDad4KMVschRT+G3A8fT29kZfX9+E16/WCy6fv+DYLm7+5YNj1j8MOJjjcbo6O8ac7lZtPFgw5kqCJdV6r9UOABZN+U04ar2Bmlllkm6LiN5a7XL13CWdA/wT0AF8OiLWli0/HPgMcArwAPD6iLir3qJrKQXEwNDwqIN0A0PDvPPG7Xyp7x5+fM/Do3rH1YYD8gQ7VO6RT+SbijP9ioIeQjGbXjXPc5fUAawDzgWWAJdIWlLW7C3AQxHxbOCjwAcbXWhpWKMUquU95wBu/uWDU/L19fIAnsj55NP5BSMzszxfYjoV2B0ReyLiCWA9sLyszXLg+vT3LwOvkBp7rbzJ3gNzMsoDeCLfVPRX181sOuUZlukB9mam+4HTqrWJiP2SHgaOBX6TbSRpJbAS4Pjjj6+r0EYPX9Qz5l7t3Ol6hhl8gNDMplOecK/UAy8fFcnThoi4BrgGkgOqOR77kLznS5d/Yaars4MXHn8Mt+x5aMzZMu/5+s6KN2E+svMwhkcONjyAPe5sZtMlT7j3A/Mz0/OAfVXa9EuaBRwDjD1FZRLy3KWnq7ODi07p4Ts/G8z9xZaZcu65mc0secJ9K7BI0kJgALgYeENZm03ApcAPgdcCN0WDz7GsNKxx1nO7cwf5eNt1mJtZ0dQM93QMfRWwheRUyGsjYqekq4C+iNgE/AvwWUm7SXrsF09FsQ5iM7N8cp3nHhGbgc1l867I/P4Y8LrGlmZmZhPl67mbmRWQw93MrIAc7mZmBeRwNzMrIIe7mVkBOdzNzArI4W5mVkAOdzOzAmranZgkDQJ3j9PkOMquKmneJxV4n4zm/TFW0fbJCRHRXatR08K9Fkl9eW4lNZN4n4zlfTKa98dYM3WfeFjGzKyAHO5mZgXUyuF+TbMLaEHeJ2N5n4zm/THWjNwnLTvmbmZmE9fKPXczM5sgh7uZWQG1ZLhLOkfSLkm7Ja1pdj3NIOkuSTskbZfUl857mqRvSfpF+u9Tm13nVJJ0raT7Jf00M6/iPlDiY+lr5nZJL2xe5VOnyj65UtJA+lrZLum8zLLL032yS9Ky5lQ9dSTNl/QdSXdK2inpHen8Gf06gRYMd0kdwDrgXGAJcImkJc2tqmnOioiTM+forgG+HRGLgG+n00V2HXBO2bxq++BcYFH6sxL452mqcbpdx9h9AvDR9LVycnrnNNL/NxcDz0/X+d/p/68i2Q9cFhHPA04H3p4+75n+Omm9cAdOBXZHxJ6IeAJYDyxvck2tYjlwffr79cCKJtYy5SLieyT35M2qtg+WA5+JxC3AHEnPnJ5Kp0+VfVLNcmB9RDweEb8CdpP8/yqMiLg3In6c/v474E6ghxn+OoHWDPceYG9muj+dN9ME8O+SbpO0Mp33BxFxLyQvauDpTauueartg5n+ulmVDjNcmxmum1H7RNICYClwK36dtGS4q8K8mXi+5hkR8UKSj5Fvl/TSZhfU4mby6+afgWcBJwP3Ah9O58+YfSLpKcBXgL+KiN+O17TCvELuk1YM935gfmZ6HrCvSbU0TUTsS/+9H/gqycfp+0ofIdN/729ehU1TbR/M2NdNRNwXEQci4iDwKZ4cepkR+0RSJ0mw3xARG9LZM/510orhvhVYJGmhpNkkB4Q2NbmmaSXpKElHl34HXgX8lGQ/XJo2uxT4WnMqbKpq+2AT8Kb0bIjTgYdLH8uLrmzM+I9JXiuQ7JOLJR0uaSHJQcQfTXd9U0mSgH8B7oyIj2QW+XUSES33A5wH/Bz4JfCuZtfThOf/h8BP0p+dpX0AHEty5P8X6b9Pa3atU7wfvkAyzDBC0uN6S7V9QPJxe136mtkB9Da7/mncJ59Nn/PtJOH1zEz7d6X7ZBdwbrPrn4L98RKSYZXbge3pz3kz/XUSEb78gJlZEbXisIyZmU2Sw93MrIAc7mZmBeRwNzMrIIe7mVkBOdzNzArI4W5mVkD/HwhjqP6Za3FdAAAAAElFTkSuQmCC
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Our test generation is much faster, but also our inputs are much smaller.    We see that with derivation trees, we can get much better control over grammar production.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Finally, how does <code>GrammarFuzzer</code> work with <code>expr_grammar</code>, where <code>simple_grammar_fuzzer()</code> failed?  It works without any issue:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarFuzzer</span><span class="p">(</span><span class="n">expr_grammar</span><span class="p">,</span> <span class="n">max_nonterminals</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;(0 / 1) / 9 + 9 / 1 + 3 / 8 / 2 + 0&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>With <code>GrammarFuzzer</code>, we now have a solid foundation on which to build further fuzzers and illustrate more exciting concepts from the world of generating software tests.  Many of these do not even require writing a grammar – instead, they <em>infer</em> a grammar from the domain at hand, and thus allow to use grammar-based fuzzing even without writing a grammar.  Stay tuned!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li><em>Derivation trees</em> are important for expressing input structure</li>
<li><em>Grammar fuzzing based on derivation trees</em> <ol>
<li>is much more efficient than string-based grammar fuzzing,</li>
<li>gives much better control over input generation, and</li>
<li>effectively avoids running into infinite expansions.</li>
</ol>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p>Congratulations!  You have reached one of the central "hubs" of the book.  From here, there is a wide range of techniques that build on grammar fuzzing.</p>
<h3 id="Extending-Grammars">Extending Grammars<a class="anchor-link" href="#Extending-Grammars">&#182;</a></h3><p>First, we have a number of techniques that all <em>extend</em> grammars in some form.  You can:</p>
<ul>
<li><a href="Parser.html">parse and recombine inputs</a>, again using derivation trees</li>
<li><a href="GrammarCoverageFuzzer.html">systematically cover grammar expansions</a>, allowing for <em>combinatorial</em> coverage</li>
<li><a href="ProbabilisticGrammarFuzzer.html">assign <em>probabilities</em> to individual expansions</a>, controlling expansions</li>
<li><a href="ConstraintGrammarFuzzer.html">assign <em>constraints</em> to individual expansions</a>, expressing <em>semantic constraints</em></li>
</ul>
<h3 id="Applying-Grammars">Applying Grammars<a class="anchor-link" href="#Applying-Grammars">&#182;</a></h3><p>Second, we can <em>apply</em> grammars in a variety of contexts that all involve some form of learning it automatically:</p>
<ul>
<li><a href="APIFuzzer.html">Fuzzing APIs</a>, learning a grammar from APIs</li>
<li><a href="GUIFuzzer.html">Fuzzing GUIs</a>, learning a grammar from user interfaces for subsequent fuzzing</li>
<li><a href="GrammarMiner.html">Mining Grammars</a>, learning a grammar for arbitrary input formats</li>
</ul>
<p>Keep on expanding!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1">Exercise 1<a class="anchor-link" href="#Exercise-1">&#182;</a></h3><p>Speed up things by memoizing.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2">Exercise 2<a class="anchor-link" href="#Exercise-2">&#182;</a></h3><p>Speed up things by tracking which children still can be expanded.</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-3">Exercise 3<a class="anchor-link" href="#Exercise-3">&#182;</a></h3></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We could define <code>expand_node_randomly()</code> such that it simply invokes <code>expand_node_by_cost(node, random.choice)</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ExerciseGrammarFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expand_node_randomly</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Expanding&quot;</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">(</span><span class="n">node</span><span class="p">),</span> <span class="s2">&quot;randomly by cost&quot;</span><span class="p">)</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">expand_node_by_cost</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>What is the difference between the original implementation and this alternative?</p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Grammar-Coverage">Grammar Coverage<a class="anchor-link" href="#Grammar-Coverage">&#182;</a></h1><p>In this chapter, we explore how to systematically cover elements of a grammar, as well as element combinations.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>You should have read the <a href="Grammars.html">chapter on grammars</a>.</li>
<li>You should have read the <a href="GrammarFuzzer.html">chapter on efficient grammar fuzzing</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Covering-Grammar-Elements">Covering Grammar Elements<a class="anchor-link" href="#Covering-Grammar-Elements">&#182;</a></h2><p><a href="GrammarFuzzer.html">Producing inputs from grammars</a> gives all possible expansions of a rule the same likelihood.  For producing a comprehensive test suite, however, it makes more sense to maximize <em>variety</em> – for instance, by avoiding repeating the same expansions over and over again.  To achieve this, we can track the <em>coverage</em> of individual expansions: If we have seen some expansion already, we can prefer other possible expansions in the future.  The idea of ensuring that each expansion in the grammar is used at least once goes back to Paul Purdom [<a href="https://doi.org/10.1007/BF01932308">Purdom <em>et al</em>, 1972.</a>].</p>
<p>As an example, consider the grammar</p>

<pre><code>grammar
&lt;start&gt; ::= &lt;digit&gt;&lt;digit&gt;
&lt;digit&gt; ::= 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9</code></pre>
<p>Let us assume we have already produced a <code>0</code> in the first expansion of <code>&lt;digit&gt;</code>.  As it comes to expand the next digit, we would mark the <code>0</code> expansion as already covered, and choose one of the yet uncovered alternatives.  Only when we have covered all alternatives would we go back and consider expansions covered before.</p>
<p>This concept of coverage is very easy to implement.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Grammars</span> <span class="k">import</span> <span class="n">DIGIT_GRAMMAR</span><span class="p">,</span> <span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">CGI_GRAMMAR</span><span class="p">,</span> <span class="n">URL_GRAMMAR</span><span class="p">,</span> <span class="n">START_SYMBOL</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">GrammarFuzzer</span> <span class="k">import</span> <span class="n">GrammarFuzzer</span><span class="p">,</span> <span class="n">all_terminals</span><span class="p">,</span> <span class="n">nonterminals</span><span class="p">,</span> <span class="n">display_tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># invoke superclass __init__(), passing all arguments</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_coverage</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">expansion_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;3 + ++--6.0 - -6 - +++6.3 * (0 * 2 + 4 / 2 / 4 + 1) * 28 * (1 + 7)&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expansion_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Convert (symbol, children) into a key.  `children` can be an expansion string or a derivation tree.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">children</span> <span class="o">=</span> <span class="n">all_terminals</span><span class="p">((</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">symbol</span> <span class="o">+</span> <span class="s2">&quot; -&gt; &quot;</span> <span class="o">+</span> <span class="n">children</span>

    <span class="k">def</span> <span class="nf">max_expansion_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return set of all expansions in a grammar&quot;&quot;&quot;</span>
        <span class="n">expansions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">nonterminal</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">expansion</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">[</span><span class="n">nonterminal</span><span class="p">]:</span>
                <span class="n">expansions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">nonterminal</span><span class="p">,</span> <span class="n">expansion</span><span class="p">))</span>
        <span class="k">return</span> <span class="n">expansions</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">DIGIT_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt; -&gt; 0&#39;,
 &#39;&lt;start&gt; -&gt; 1&#39;,
 &#39;&lt;start&gt; -&gt; 2&#39;,
 &#39;&lt;start&gt; -&gt; 3&#39;,
 &#39;&lt;start&gt; -&gt; 4&#39;,
 &#39;&lt;start&gt; -&gt; 5&#39;,
 &#39;&lt;start&gt; -&gt; 6&#39;,
 &#39;&lt;start&gt; -&gt; 7&#39;,
 &#39;&lt;start&gt; -&gt; 8&#39;,
 &#39;&lt;start&gt; -&gt; 9&#39;}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">choose_node_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">):</span>
        <span class="c1"># Prefer uncovered expansions</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="n">uncovered_children</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">possible_children</span><span class="p">)</span>
                              <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span><span class="p">]</span>

        <span class="c1"># print(&quot;Uncovered:&quot;, uncovered_children)</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">uncovered_children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># All expansions covered - use superclass method</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="s2">&quot;alternatives covered&quot;</span><span class="p">)</span>

            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">choose_node_expansion</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">)</span>

        <span class="c1"># select a random expansion</span>
        <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">randrange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">uncovered_children</span><span class="p">))</span>
        <span class="p">(</span><span class="n">new_children_index</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span> <span class="o">=</span> <span class="n">uncovered_children</span><span class="p">[</span><span class="n">index</span><span class="p">]</span>

        <span class="c1"># Save the expansion as covered</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span>
        <span class="k">assert</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Now covered:&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_children_index</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>By returning the set of expansions covered so far, we can invoke the fuzzer multiple times, each time adding to the grammar coverage.  With the <code>DIGIT_GRAMMAR</code> grammar, for instance, this lets the grammar produce one digit after the other:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">DIGIT_GRAMMAR</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Tree: &lt;start&gt;
Expanding &lt;start&gt; randomly
Now covered: &lt;start&gt; -&gt; 2
Tree: 2
&#39;2&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;2&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Tree: &lt;start&gt;
Expanding &lt;start&gt; randomly
Now covered: &lt;start&gt; -&gt; 4
Tree: 4
&#39;4&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;4&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Tree: &lt;start&gt;
Expanding &lt;start&gt; randomly
Now covered: &lt;start&gt; -&gt; 9
Tree: 9
&#39;9&#39;
</pre>
</div>

</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;9&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">covered_expansions</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt; -&gt; 2&#39;, &#39;&lt;start&gt; -&gt; 4&#39;, &#39;&lt;start&gt; -&gt; 9&#39;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>At the end, all expansions are covered:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;start&gt; -&gt; 0&#39;,
 &#39;&lt;start&gt; -&gt; 1&#39;,
 &#39;&lt;start&gt; -&gt; 3&#39;,
 &#39;&lt;start&gt; -&gt; 5&#39;,
 &#39;&lt;start&gt; -&gt; 6&#39;,
 &#39;&lt;start&gt; -&gt; 7&#39;,
 &#39;&lt;start&gt; -&gt; 8&#39;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Let us now create some more expressions:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>(6.2 * 5 / 1 - +-3.74 + 0.9 * 5 / 8)
(0.2 / (3 * 4 + 1 - 3)) / -+8 * 92 / 0 / 3
74
-(83 * 0 + 4 - 2) / +0 * 1.13 / -4 / 3 - --397.1
60 + 860.0 * 2 * 3 / -88 * ((7 / 4 - 4 - 3) + +5 + 1 - 3 + 3) * +-82005
(-2 * 8 - 9) / 3.0 / -9 / 8 + 4.9 / 8
3.11 * -(2 - 5) / +(1) / (6) * 9 - (+18 * 7)
++6.2 / ----6
1374.3
-9.8 * 0 * 6 / 2 - 6 * 8 + 7 / 9 + 3
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Again, all expansions are covered:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>set()
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Grammar-Coverage-and-Code-Coverage">Grammar Coverage and Code Coverage<a class="anchor-link" href="#Grammar-Coverage-and-Code-Coverage">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">CGI_GRAMMAR</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>+%3d
a
%0a+
%cb++
+++
%7e
%18
%f5
+
%46
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;hexdigit&gt; -&gt; 2&#39;,
 &#39;&lt;hexdigit&gt; -&gt; 9&#39;,
 &#39;&lt;other&gt; -&gt; -&#39;,
 &#39;&lt;other&gt; -&gt; 0&#39;,
 &#39;&lt;other&gt; -&gt; 1&#39;,
 &#39;&lt;other&gt; -&gt; 2&#39;,
 &#39;&lt;other&gt; -&gt; 3&#39;,
 &#39;&lt;other&gt; -&gt; 4&#39;,
 &#39;&lt;other&gt; -&gt; 5&#39;,
 &#39;&lt;other&gt; -&gt; _&#39;,
 &#39;&lt;other&gt; -&gt; b&#39;,
 &#39;&lt;other&gt; -&gt; c&#39;,
 &#39;&lt;other&gt; -&gt; d&#39;,
 &#39;&lt;other&gt; -&gt; e&#39;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Deep-Foresight">Deep Foresight<a class="anchor-link" href="#Deep-Foresight">&#182;</a></h2><p>Our naive way of selecting expansions is not sufficient; we need to favor expansions that may be covered, but <em>lead to uncovered ones</em>.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_max_symbol_expansion_coverage</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">,</span> <span class="n">cov</span><span class="p">,</span> <span class="n">symbols_seen</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return set of all expansions in a grammar starting with `symbol`&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">max_depth</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">symbols_seen</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">symbol</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">expansion</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">[</span><span class="n">symbol</span><span class="p">]:</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">expansion</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">cov</span><span class="p">:</span>
                    <span class="n">cov</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">nonterminals</span><span class="p">(</span><span class="n">expansion</span><span class="p">):</span>
                        <span class="k">if</span> <span class="n">s</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">symbols_seen</span><span class="p">:</span>
                            <span class="n">new_cov</span><span class="p">,</span> <span class="n">new_symbols_seen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_symbol_expansion_coverage</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">max_depth</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span>
                                                                                            <span class="n">cov</span><span class="p">,</span> <span class="n">symbols_seen</span><span class="p">)</span>
                            <span class="n">cov</span> <span class="o">|=</span> <span class="n">new_cov</span>
                            <span class="n">symbols_seen</span> <span class="o">|=</span> <span class="n">new_symbols_seen</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">cov</span><span class="p">,</span> <span class="n">symbols_seen</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">max_symbol_expansion_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)):</span>
        <span class="n">cov</span><span class="p">,</span> <span class="n">symbols_seen</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_max_symbol_expansion_coverage</span><span class="p">(</span>
            <span class="n">symbol</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">,</span> <span class="nb">set</span><span class="p">(),</span> <span class="nb">set</span><span class="p">())</span>
        <span class="k">return</span> <span class="n">cov</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">max_symbol_expansion_coverage</span><span class="p">(</span><span class="s1">&#39;&lt;integer&gt;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;digit&gt; -&gt; 0&#39;,
 &#39;&lt;digit&gt; -&gt; 1&#39;,
 &#39;&lt;digit&gt; -&gt; 2&#39;,
 &#39;&lt;digit&gt; -&gt; 3&#39;,
 &#39;&lt;digit&gt; -&gt; 4&#39;,
 &#39;&lt;digit&gt; -&gt; 5&#39;,
 &#39;&lt;digit&gt; -&gt; 6&#39;,
 &#39;&lt;digit&gt; -&gt; 7&#39;,
 &#39;&lt;digit&gt; -&gt; 8&#39;,
 &#39;&lt;digit&gt; -&gt; 9&#39;,
 &#39;&lt;integer&gt; -&gt; &lt;digit&gt;&#39;,
 &#39;&lt;integer&gt; -&gt; &lt;digit&gt;&lt;integer&gt;&#39;}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">max_symbol_expansion_coverage</span><span class="p">(</span><span class="s1">&#39;&lt;digit&gt;&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#39;&lt;digit&gt; -&gt; 0&#39;,
 &#39;&lt;digit&gt; -&gt; 1&#39;,
 &#39;&lt;digit&gt; -&gt; 2&#39;,
 &#39;&lt;digit&gt; -&gt; 3&#39;,
 &#39;&lt;digit&gt; -&gt; 4&#39;,
 &#39;&lt;digit&gt; -&gt; 5&#39;,
 &#39;&lt;digit&gt; -&gt; 6&#39;,
 &#39;&lt;digit&gt; -&gt; 7&#39;,
 &#39;&lt;digit&gt; -&gt; 8&#39;,
 &#39;&lt;digit&gt; -&gt; 9&#39;}
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">assert</span> <span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">==</span> <span class="n">f</span><span class="o">.</span><span class="n">max_symbol_expansion_coverage</span><span class="p">(</span><span class="n">START_SYMBOL</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_new_child_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">):</span>
        <span class="n">new_cov</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="k">for</span> <span class="p">(</span><span class="n">c_symbol</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">c_symbol</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">:</span>
                <span class="n">new_cov</span> <span class="o">|=</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_symbol_expansion_coverage</span><span class="p">(</span>
                    <span class="n">c_symbol</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">new_cov</span>

    <span class="k">def</span> <span class="nf">new_child_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">):</span>
        <span class="n">new_cov</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_new_child_coverage</span><span class="p">(</span><span class="n">children</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="n">new_cov</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">))</span>
        <span class="n">new_cov</span> <span class="o">-=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">new_cov</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">choose_node_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">):</span>
        <span class="c1"># Prefer uncovered expansions</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>
        <span class="c1"># print(&quot;Possible children:&quot;, possible_children)</span>

        <span class="c1"># Find maximum depth at which we discover uncovered nodes</span>
        <span class="k">for</span> <span class="n">max_depth</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">grammar</span><span class="p">)):</span>
            <span class="n">new_coverages</span> <span class="o">=</span> <span class="p">[</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">new_child_coverage</span><span class="p">(</span>
                    <span class="n">symbol</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">possible_children</span><span class="p">]</span>
            <span class="n">max_new_coverage</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">new_coverage</span><span class="p">)</span>
                                   <span class="k">for</span> <span class="n">new_coverage</span> <span class="ow">in</span> <span class="n">new_coverages</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">max_new_coverage</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="k">if</span> <span class="n">max_new_coverage</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="c1"># All expansions covered - use superclass method</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All&quot;</span><span class="p">,</span> <span class="n">symbol</span><span class="p">,</span> <span class="s2">&quot;alternatives covered&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">choose_node_expansion</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;New coverages at depth&quot;</span><span class="p">,</span> <span class="n">max_depth</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">possible_children</span><span class="p">)):</span>
                <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span>
                      <span class="n">possible_children</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                      <span class="n">new_coverages</span><span class="p">[</span><span class="n">i</span><span class="p">],</span>
                      <span class="nb">len</span><span class="p">(</span><span class="n">new_coverages</span><span class="p">[</span><span class="n">i</span><span class="p">]))</span>

        <span class="n">children_with_max_new_coverage</span> <span class="o">=</span> <span class="p">[(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">possible_children</span><span class="p">)</span>
                                          <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_coverages</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">==</span> <span class="n">max_new_coverage</span><span class="p">]</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Children with max new coverage:&quot;</span><span class="p">,</span>
                  <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="n">children_with_max_new_coverage</span><span class="p">])</span>

        <span class="c1"># select a random expansion</span>
        <span class="n">new_children_index</span><span class="p">,</span> <span class="n">new_children</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span>
            <span class="n">children_with_max_new_coverage</span><span class="p">)</span>

        <span class="c1"># Save the expansion as covered</span>
        <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Now covered:&quot;</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">new_children_index</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;(1 * 6 - 5 - 8) * 24 + 9.7 / +-3 / 0&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>set()
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">CGI_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">(),</span> <span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>%41%261+ {&#39;&lt;hexdigit&gt; -&gt; c&#39;, &#39;&lt;other&gt; -&gt; b&#39;, &#39;&lt;hexdigit&gt; -&gt; f&#39;, &#39;&lt;hexdigit&gt; -&gt; 3&#39;, &#39;&lt;hexdigit&gt; -&gt; b&#39;, &#39;&lt;hexdigit&gt; -&gt; e&#39;, &#39;&lt;other&gt; -&gt; -&#39;, &#39;&lt;other&gt; -&gt; a&#39;, &#39;&lt;hexdigit&gt; -&gt; 9&#39;, &#39;&lt;hexdigit&gt; -&gt; 0&#39;, &#39;&lt;other&gt; -&gt; 5&#39;, &#39;&lt;other&gt; -&gt; 4&#39;, &#39;&lt;other&gt; -&gt; _&#39;, &#39;&lt;other&gt; -&gt; e&#39;, &#39;&lt;hexdigit&gt; -&gt; 7&#39;, &#39;&lt;hexdigit&gt; -&gt; 8&#39;, &#39;&lt;hexdigit&gt; -&gt; d&#39;, &#39;&lt;other&gt; -&gt; 2&#39;, &#39;&lt;other&gt; -&gt; 3&#39;, &#39;&lt;other&gt; -&gt; c&#39;, &#39;&lt;hexdigit&gt; -&gt; a&#39;, &#39;&lt;other&gt; -&gt; 0&#39;, &#39;&lt;hexdigit&gt; -&gt; 5&#39;, &#39;&lt;other&gt; -&gt; d&#39;}
%db%59d20 {&#39;&lt;hexdigit&gt; -&gt; 7&#39;, &#39;&lt;hexdigit&gt; -&gt; 8&#39;, &#39;&lt;hexdigit&gt; -&gt; 0&#39;, &#39;&lt;other&gt; -&gt; 5&#39;, &#39;&lt;other&gt; -&gt; 3&#39;, &#39;&lt;other&gt; -&gt; c&#39;, &#39;&lt;hexdigit&gt; -&gt; c&#39;, &#39;&lt;other&gt; -&gt; b&#39;, &#39;&lt;other&gt; -&gt; 4&#39;, &#39;&lt;hexdigit&gt; -&gt; f&#39;, &#39;&lt;hexdigit&gt; -&gt; 3&#39;, &#39;&lt;hexdigit&gt; -&gt; a&#39;, &#39;&lt;hexdigit&gt; -&gt; e&#39;, &#39;&lt;other&gt; -&gt; _&#39;, &#39;&lt;other&gt; -&gt; e&#39;, &#39;&lt;other&gt; -&gt; -&#39;, &#39;&lt;other&gt; -&gt; a&#39;}
%8e%37%c0e4ac5 {&#39;&lt;other&gt; -&gt; 3&#39;, &#39;&lt;other&gt; -&gt; b&#39;, &#39;&lt;hexdigit&gt; -&gt; f&#39;, &#39;&lt;hexdigit&gt; -&gt; a&#39;, &#39;&lt;other&gt; -&gt; _&#39;, &#39;&lt;other&gt; -&gt; -&#39;}
%fa%78-3_b4 set()
%07%61c5 set()
+%e20+2 set()
%89%e2e%13c4 set()
%47%f2%ee+4e set()
%00%8d%c1%85_+%024+%f6 set()
%63c2+4 set()
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">GrammarCoverageFuzzer</span><span class="p">(</span><span class="n">URL_GRAMMAR</span><span class="p">,</span> <span class="n">min_nonterminals</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">(),</span> <span class="n">f</span><span class="o">.</span><span class="n">max_expansion_coverage</span><span class="p">()</span> <span class="o">-</span> <span class="n">f</span><span class="o">.</span><span class="n">expansion_coverage</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>http://user:password@www.google.com:80/ {&#39;&lt;digit&gt; -&gt; 3&#39;, &#39;&lt;digit&gt; -&gt; 8&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;, &#39;&lt;host&gt; -&gt; cispa.saarland&#39;, &#39;&lt;host&gt; -&gt; fuzzingbook.com&#39;, &#39;&lt;scheme&gt; -&gt; https&#39;, &#39;&lt;id&gt; -&gt; x&lt;digit&gt;&lt;digit&gt;&#39;, &#39;&lt;id&gt; -&gt; abc&#39;, &#39;&lt;param&gt; -&gt; &lt;id&gt;=&lt;id&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;scheme&gt; -&gt; ftp&#39;, &#39;&lt;params&gt; -&gt; &lt;param&gt;&amp;&lt;params&gt;&#39;, &#39;&lt;digit&gt; -&gt; 6&#39;, &#39;&lt;scheme&gt; -&gt; ftps&#39;, &#39;&lt;path&gt; -&gt; /&lt;id&gt;&#39;, &#39;&lt;param&gt; -&gt; &lt;id&gt;=&lt;nat&gt;&#39;, &#39;&lt;path&gt; -&gt; &#39;, &#39;&lt;digit&gt; -&gt; 2&#39;, &#39;&lt;params&gt; -&gt; &lt;param&gt;&#39;, &#39;&lt;port&gt; -&gt; &lt;nat&gt;&#39;, &#39;&lt;port&gt; -&gt; 8080&#39;, &#39;&lt;authority&gt; -&gt; &lt;userinfo&gt;@&lt;host&gt;&#39;, &#39;&lt;query&gt; -&gt; ?&lt;params&gt;&#39;, &#39;&lt;digit&gt; -&gt; 0&#39;, &#39;&lt;digit&gt; -&gt; 7&#39;, &#39;&lt;nat&gt; -&gt; &lt;digit&gt;&lt;digit&gt;&#39;, &#39;&lt;digit&gt; -&gt; 4&#39;, &#39;&lt;digit&gt; -&gt; 5&#39;, &#39;&lt;nat&gt; -&gt; &lt;digit&gt;&#39;, &#39;&lt;digit&gt; -&gt; 9&#39;, &#39;&lt;id&gt; -&gt; def&#39;, &#39;&lt;digit&gt; -&gt; 1&#39;}
ftp://user:password@fuzzingbook.com?x80=25&amp;def=abc {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;digit&gt; -&gt; 7&#39;, &#39;&lt;digit&gt; -&gt; 3&#39;, &#39;&lt;digit&gt; -&gt; 4&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;, &#39;&lt;host&gt; -&gt; cispa.saarland&#39;, &#39;&lt;digit&gt; -&gt; 6&#39;, &#39;&lt;nat&gt; -&gt; &lt;digit&gt;&#39;, &#39;&lt;digit&gt; -&gt; 9&#39;, &#39;&lt;scheme&gt; -&gt; ftps&#39;, &#39;&lt;port&gt; -&gt; &lt;nat&gt;&#39;, &#39;&lt;scheme&gt; -&gt; https&#39;, &#39;&lt;digit&gt; -&gt; 1&#39;, &#39;&lt;port&gt; -&gt; 8080&#39;, &#39;&lt;path&gt; -&gt; /&lt;id&gt;&#39;}
https://user:password@cispa.saarland:3/x19?x46=74&amp;abc=def&amp;abc=x99 {&#39;&lt;port&gt; -&gt; 8080&#39;, &#39;&lt;scheme&gt; -&gt; ftps&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;}
ftps://user:password@www.google.com:8080/abc?x82=x22 {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;}
ftp://user:password@cispa.saarland:2?x19=abc&amp;abc=x48 {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;}
ftps://user:password@cispa.saarland:4/def {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;}
http://user:password@fuzzingbook.com:9/x84?x44=x01&amp;abc=9&amp;abc=3&amp;x90=45&amp;abc=3&amp;def=9 {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;, &#39;&lt;authority&gt; -&gt; &lt;host&gt;:&lt;port&gt;&#39;}
https://www.google.com:80?abc=abc&amp;x78=43&amp;def=87&amp;abc=10&amp;abc=x56&amp;def=def {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;}
ftp://user:password@cispa.saarland:8080/def {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;}
ftps://user:password@www.google.com:80?def=def&amp;x77=1&amp;def=22 {&#39;&lt;authority&gt; -&gt; &lt;host&gt;&#39;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Combinatorial-Coverage">Combinatorial Coverage<a class="anchor-link" href="#Combinatorial-Coverage">&#182;</a></h2><p>Start with depth of 1, then increase depth</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">flatten_tree</span><span class="p">(</span><span class="n">tree</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return `tree` without grandchildren&quot;&quot;&quot;</span>
    <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
    <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">symbol</span>
    <span class="n">new_children</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">children</span><span class="p">]</span>
    <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="p">(</span><span class="n">path_symbol</span><span class="p">,</span> <span class="n">path_children</span><span class="p">)</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">if</span> <span class="n">symbol</span> <span class="o">!=</span> <span class="n">path_symbol</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span>

        <span class="k">if</span> <span class="n">path_children</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_children</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># Multiple children given; must all match</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_children</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">False</span>
                <span class="k">return</span> <span class="nb">all</span><span class="p">(</span><span class="n">_match_path</span><span class="p">(</span>
                    <span class="n">path_children</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">children</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)))</span>
            <span class="c1"># One child given; can match any</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">_match_path</span><span class="p">(</span><span class="n">path_children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span>

    <span class="c1"># print(&quot;Matching&quot;, path, &quot;in&quot;, tree)</span>
    <span class="n">matched</span> <span class="o">=</span> <span class="n">_match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
    <span class="c1"># print(&quot;Matched&quot; if matched else &quot;Did not match&quot;, path, &quot;in&quot;, tree)</span>
    <span class="k">return</span> <span class="n">matched</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="122pt"
 viewBox="0.00 0.00 141.06 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 137.0566,-118 137.0566,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.3335,-99.6223C66.3335,-92.9738 66.3335,-82.942 66.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-74.0842 66.3335,-64.0842 62.8336,-74.0842 69.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.546,-49.6223C52.8108,-42.3014 42.3017,-30.8785 33.8576,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.1973,-19.0738 26.8509,-14.0842 31.0458,-23.8132 36.1973,-19.0738"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="66.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M66.3335,-49.6223C66.3335,-42.9738 66.3335,-32.942 66.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-24.0842 66.3335,-14.0842 62.8336,-24.0842 69.8336,-24.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="112.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M73.121,-49.6223C79.8562,-42.3014 90.3653,-30.8785 98.8094,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="101.6212,-23.8132 105.816,-14.0842 96.4697,-19.0738 101.6212,-23.8132"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

<span class="k">assert</span> <span class="n">match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">start_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="p">[])])</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">start_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="48pt" height="72pt"
 viewBox="0.00 0.00 47.89 72.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 68)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-68 43.8945,-68 43.8945,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="19.9473" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="19.9473" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">4</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M19.9473,-49.6223C19.9473,-42.9738 19.9473,-32.942 19.9473,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="23.4474,-24.0842 19.9473,-14.0842 16.4474,-24.0842 23.4474,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;4&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])</span>

<span class="k">assert</span> <span class="n">match_path</span><span class="p">(</span><span class="n">start_tree</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">find_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">_find_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="p">(</span><span class="n">path_symbol</span><span class="p">,</span> <span class="n">path_children</span><span class="p">)</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">if</span> <span class="n">symbol</span> <span class="o">==</span> <span class="n">path_symbol</span><span class="p">:</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                <span class="c1"># One child given: any can match</span>
                <span class="k">if</span> <span class="nb">any</span><span class="p">(</span><span class="n">match_path</span><span class="p">(</span><span class="n">path_children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">):</span>
                    <span class="k">return</span> <span class="kc">True</span>
            <span class="k">elif</span> <span class="n">match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
                <span class="c1"># Multiple children given; must all match</span>
                <span class="k">return</span> <span class="kc">True</span>

        <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">_find_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">)</span>

    <span class="c1"># print(&quot;Searching&quot;, path, &quot;in&quot;, tree)</span>
    <span class="n">found</span> <span class="o">=</span> <span class="n">_find_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">tree</span><span class="p">)</span>
    <span class="c1"># print(&quot;Found&quot; if found else &quot;Did not find&quot;, path, &quot;in&quot;, tree)</span>
    <span class="k">return</span> <span class="n">found</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="p">[(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])</span>

<span class="k">assert</span> <span class="n">find_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">derivation_tree</span><span class="p">)</span>
<span class="k">assert</span> <span class="ow">not</span> <span class="n">match_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">GrammarFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="c1"># invoke superclass __init__(), passing all arguments</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reset_coverage</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">reset_coverage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_depth</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">expand_tree_once</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_current_depth</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_current_tree</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_depth</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">tree</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">expand_tree_once</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_current_depth</span> <span class="o">-=</span> <span class="mi">1</span>
        <span class="k">return</span> <span class="n">tree</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;+9 * -46.756 * 35 * ++4.13&#39;
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">CombinatorialCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">path_to_node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tree</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">tree</span>
        <span class="k">if</span> <span class="nb">id</span><span class="p">(</span><span class="n">tree</span><span class="p">)</span> <span class="o">==</span> <span class="nb">id</span><span class="p">(</span><span class="n">node</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">node</span>

        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">children</span><span class="p">:</span>
            <span class="n">p</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_to_node</span><span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">p</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="p">[</span><span class="n">p</span><span class="p">])</span>

        <span class="k">return</span> <span class="kc">None</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">derivation_tree</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;start&gt;&quot;</span><span class="p">,</span>
                   <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span>
                     <span class="p">[(</span><span class="s2">&quot;&lt;expr&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span>
                      <span class="p">(</span><span class="s2">&quot; + &quot;</span><span class="p">,</span> <span class="p">[]),</span>
                         <span class="p">(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
                     <span class="p">)])</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="141pt" height="122pt"
 viewBox="0.00 0.00 141.06 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 137.0566,-118 137.0566,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="66.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="66.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M66.3335,-99.6223C66.3335,-92.9738 66.3335,-82.942 66.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-74.0842 66.3335,-64.0842 62.8336,-74.0842 69.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M59.546,-49.6223C52.8108,-42.3014 42.3017,-30.8785 33.8576,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="36.1973,-19.0738 26.8509,-14.0842 31.0458,-23.8132 36.1973,-19.0738"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="66.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000"> + </text>
</g>
<!-- 1&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>1&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M66.3335,-49.6223C66.3335,-42.9738 66.3335,-32.942 66.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="69.8336,-24.0842 66.3335,-14.0842 62.8336,-24.0842 69.8336,-24.0842"/>
</g>
<!-- 4 -->
<g id="node5" class="node">
<title>4</title>
<text text-anchor="middle" x="112.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 1&#45;&gt;4 -->
<g id="edge4" class="edge">
<title>1&#45;&gt;4</title>
<path fill="none" stroke="#000000" d="M73.121,-49.6223C79.8562,-42.3014 90.3653,-30.8785 98.8094,-21.7001"/>
<polygon fill="#000000" stroke="#000000" points="101.6212,-23.8132 105.816,-14.0842 96.4697,-19.0738 101.6212,-23.8132"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">node</span> <span class="o">=</span> <span class="n">derivation_tree</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
<span class="n">node</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;expr&gt;&#39;, None)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">path</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">path_to_node</span><span class="p">(</span><span class="n">derivation_tree</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
<span class="n">path</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;start&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, None)])])
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">display_tree</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="49pt" height="122pt"
 viewBox="0.00 0.00 48.67 122.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 118)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-118 44.667,-118 44.667,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20.3335" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="20.3335" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M20.3335,-99.6223C20.3335,-92.9738 20.3335,-82.942 20.3335,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="23.8336,-74.0842 20.3335,-64.0842 16.8336,-74.0842 23.8336,-74.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.3335" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M20.3335,-49.6223C20.3335,-42.9738 20.3335,-32.942 20.3335,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="23.8336,-24.0842 20.3335,-14.0842 16.8336,-24.0842 23.8336,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">CombinatorialCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">subpath</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">_subpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
            <span class="c1"># print(path, height)</span>
            <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">path</span>
            <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

            <span class="n">subpath</span><span class="p">,</span> <span class="n">subheight</span> <span class="o">=</span> <span class="n">_subpath</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">height</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">subheight</span> <span class="o">&lt;</span> <span class="n">height</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">((</span><span class="n">symbol</span><span class="p">,</span> <span class="p">[</span><span class="n">subpath</span><span class="p">]),</span> <span class="n">subheight</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="n">subpath</span><span class="p">,</span> <span class="n">subheight</span><span class="p">)</span>

        <span class="n">subpath</span><span class="p">,</span> <span class="n">subheight</span> <span class="o">=</span> <span class="n">_subpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">subpath</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">f</span><span class="o">.</span><span class="n">subpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;expr&gt;&#39;, None)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">subpath</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, None)])
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">subpath</span><span class="p">((</span><span class="s1">&#39;&lt;start&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="p">[(</span><span class="s1">&#39;&lt;expr&gt;&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)])]),</span> <span class="n">height</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>(&#39;&lt;expr&gt;&#39;, None)
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">CombinatorialCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">append_to_path</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">new_children</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">path</span>
        <span class="k">if</span> <span class="n">children</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="n">children</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
            <span class="k">return</span> <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">append_to_path</span><span class="p">(</span><span class="n">children</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">new_children</span><span class="p">)])</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>
<span class="n">new_children</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;&lt;term&gt;&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)]</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_path</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">append_to_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">new_children</span><span class="p">)</span>
<span class="n">display_tree</span><span class="p">(</span><span class="n">new_path</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_svg output_subarea ">
<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="49pt" height="172pt"
 viewBox="0.00 0.00 49.45 172.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 168)">
<title>%3</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-168 45.4463,-168 45.4463,4 -4,4"/>
<!-- 0 -->
<g id="node1" class="node">
<title>0</title>
<text text-anchor="middle" x="20.7231" y="-152.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;start&gt;</text>
</g>
<!-- 1 -->
<g id="node2" class="node">
<title>1</title>
<text text-anchor="middle" x="20.7231" y="-102.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 0&#45;&gt;1 -->
<g id="edge1" class="edge">
<title>0&#45;&gt;1</title>
<path fill="none" stroke="#000000" d="M20.7231,-149.6223C20.7231,-142.9738 20.7231,-132.942 20.7231,-124.2807"/>
<polygon fill="#000000" stroke="#000000" points="24.2232,-124.0842 20.7231,-114.0842 17.2232,-124.0842 24.2232,-124.0842"/>
</g>
<!-- 2 -->
<g id="node3" class="node">
<title>2</title>
<text text-anchor="middle" x="20.7231" y="-52.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;expr&gt;</text>
</g>
<!-- 1&#45;&gt;2 -->
<g id="edge2" class="edge">
<title>1&#45;&gt;2</title>
<path fill="none" stroke="#000000" d="M20.7231,-99.6223C20.7231,-92.9738 20.7231,-82.942 20.7231,-74.2807"/>
<polygon fill="#000000" stroke="#000000" points="24.2232,-74.0842 20.7231,-64.0842 17.2232,-74.0842 24.2232,-74.0842"/>
</g>
<!-- 3 -->
<g id="node4" class="node">
<title>3</title>
<text text-anchor="middle" x="20.7231" y="-2.8" font-family="Times,serif" font-size="14.00" fill="#000000">&lt;term&gt;</text>
</g>
<!-- 2&#45;&gt;3 -->
<g id="edge3" class="edge">
<title>2&#45;&gt;3</title>
<path fill="none" stroke="#000000" d="M20.7231,-49.6223C20.7231,-42.9738 20.7231,-32.942 20.7231,-24.2807"/>
<polygon fill="#000000" stroke="#000000" points="24.2232,-24.0842 20.7231,-14.0842 17.2232,-24.0842 24.2232,-24.0842"/>
</g>
</g>
</svg>

</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">CombinatorialCoverageFuzzer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">expansion_key</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">choose_node_expansion</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">):</span>
        <span class="p">(</span><span class="n">symbol</span><span class="p">,</span> <span class="n">children</span><span class="p">)</span> <span class="o">=</span> <span class="n">node</span>

        <span class="n">path_to_node</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">path_to_node</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_current_tree</span><span class="p">,</span> <span class="n">node</span><span class="p">)</span>
        <span class="c1"># print(path_to_node)</span>

        <span class="k">for</span> <span class="n">path_height</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">path_to_node</span><span class="p">)):</span>
            <span class="n">possible_indexes</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="n">subpath</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">subpath</span><span class="p">(</span><span class="n">path_to_node</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="n">path_height</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span>
                    <span class="s2">&quot;Choosing from subpaths of height&quot;</span><span class="p">,</span>
                    <span class="n">path_height</span><span class="p">,</span>
                    <span class="s2">&quot;:&quot;</span><span class="p">,</span>
                    <span class="n">subpath</span><span class="p">)</span>

            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">possible_children</span><span class="p">)):</span>
                <span class="n">expansion_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">append_to_path</span><span class="p">(</span>
                    <span class="n">subpath</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">expansion_path</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span><span class="p">:</span>
                    <span class="c1"># print(key, &quot;not seen before&quot;)</span>
                    <span class="n">possible_indexes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">possible_indexes</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">possible_indexes</span><span class="p">)</span>
                <span class="n">expansion_path</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">append_to_path</span><span class="p">(</span>
                    <span class="n">subpath</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">[</span><span class="n">index</span><span class="p">])</span>
                <span class="n">key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">expansion_key</span><span class="p">(</span><span class="n">expansion_path</span><span class="p">)</span>
                <span class="k">assert</span> <span class="n">key</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">covered_expansions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">index</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">log</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;All combinations covered&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">choose_node_expansion</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">possible_children</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">CombinatorialCoverageFuzzer</span><span class="p">(</span><span class="n">EXPR_GRAMMAR</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">before</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">covered_expansions</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">fuzz</span><span class="p">()</span>
    <span class="n">after</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">covered_expansions</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s2">&quot;  #&quot;</span><span class="p">,</span> <span class="n">after</span> <span class="o">-</span> <span class="n">before</span><span class="p">,</span> <span class="s2">&quot;new&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>513.86 / (9 / -7.04 - +-(3 - 9 - 2 + 8) * 2 / 6 + 0)   # 46 new
4.7 * ++175 * (65 + 2 + 0) / -7 * 2 / 1   # 14 new
9 * -0 / 87.7 / 6 + 82 / +0 / 0.96 / 4   # 1 new
9 * (1.210 * (+4 * 14.4) * (26062 + 9) / 8) / -0 / -396 - +-79   # 2 new
+-78.23 * 8817.4 / (1 * 3 * 7 - 2 - 1) + 1.2 - (-49)   # 0 new
-++2   # 0 new
24   # 0 new
-8.3 * +-(5) * (504 * -2 / --+7.234 * 9) / 7.0   # 0 new
+-19.8 * -+89.267   # 0 new
+(-9) * -93.899 * 1.27 / 61 * 1 / 4   # 0 new
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span><span class="o">.</span><span class="n">covered_expansions</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>{&#34;(&#39;&lt;digit&gt;&#39;, [(&#39;0&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;1&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;2&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;3&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;4&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;5&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;6&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;7&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;8&#39;, [])])&#34;,
 &#34;(&#39;&lt;digit&gt;&#39;, [(&#39;9&#39;, [])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; + &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; - &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; + &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; - &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; * &#39;, []), (&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; / &#39;, []), (&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;(&#39;, []), (&#39;&lt;expr&gt;&#39;, None), (&#39;)&#39;, [])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;+&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;-&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; + &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; - &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;(&#39;, []), (&#39;&lt;expr&gt;&#39;, None), (&#39;)&#39;, [])])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;+&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;-&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None), (&#39;.&#39;, []), (&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None), (&#39;.&#39;, []), (&#39;&lt;integer&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None), (&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None), (&#39;&lt;integer&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;0&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;1&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;2&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;3&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;4&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;5&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;6&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;7&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;8&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, [(&#39;9&#39;, [])])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None), (&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, [(&#39;&lt;digit&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;start&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;start&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; + &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;start&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None), (&#39; - &#39;, []), (&#39;&lt;expr&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;start&gt;&#39;, [(&#39;&lt;expr&gt;&#39;, [(&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; * &#39;, []), (&#39;&lt;term&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; / &#39;, []), (&#39;&lt;term&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None)])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;(&#39;, []), (&#39;&lt;expr&gt;&#39;, None), (&#39;)&#39;, [])])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;+&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;-&#39;, []), (&#39;&lt;factor&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None), (&#39;.&#39;, []), (&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, [(&#39;&lt;integer&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; * &#39;, []), (&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None), (&#39; / &#39;, []), (&#39;&lt;term&gt;&#39;, None)])])&#34;,
 &#34;(&#39;&lt;term&gt;&#39;, [(&#39;&lt;term&gt;&#39;, [(&#39;&lt;factor&gt;&#39;, None)])])&#34;}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Advanced-Grammar-Coverage-Metrics">Advanced Grammar Coverage Metrics<a class="anchor-link" href="#Advanced-Grammar-Coverage-Metrics">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li><em>Lesson one</em></li>
<li><em>Lesson two</em></li>
<li><em>Lesson three</em></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p><em>Link to subsequent chapters (notebooks) here, as in:</em></p>
<ul>
<li><a href="MutationFuzzer.html">use <em>mutations</em> on existing inputs to get more valid inputs</a></li>
<li><a href="Grammars.html">use <em>grammars</em> (i.e., a specification of the input format) to get even more valid inputs</a></li>
<li><a href="Reducing.html">reduce <em>failing inputs</em> for efficient debugging</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2><p>Close the chapter with a few exercises such that people have things to do.  In Jupyter Notebook, use the <code>exercise2</code> nbextension to add solutions that can be interactively viewed or hidden:</p>
<ul>
<li>Mark the <em>last</em> cell of the exercise (this should be a <em>text</em> cell) as well as <em>all</em> cells of the solution.  (Use the <code>rubberband</code> nbextension and use Shift+Drag to mark multiple cells.)</li>
<li>Click on the <code>solution</code> button at the top.</li>
</ul>
<p>(Alternatively, just copy the exercise and solution cells below with their metadata.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1">Exercise 1<a class="anchor-link" href="#Exercise-1">&#182;</a></h3><p><em>Text of the exercise</em></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Some code that is part of the exercise</span>
<span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><em>Some more text for the exercise</em></p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2">Exercise 2<a class="anchor-link" href="#Exercise-2">&#182;</a></h3><p><em>Text of the exercise</em></p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Error-Handling">Error Handling<a class="anchor-link" href="#Error-Handling">&#182;</a></h1><p>The code in this notebook helps with handling errors.  Normally, an error in  notebook code causes the execution of the code to stop; while an infinite loop in notebook code causes the notebook to run without end.  This notebook provides two classes to help address these concerns.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>This notebook needs some understanding on advanced concepts in Python, notably <ul>
<li>classes</li>
<li>the Python <code>with</code> statement</li>
<li>tracing</li>
<li>measuring time</li>
<li>exceptions</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Catching-Errors">Catching Errors<a class="anchor-link" href="#Catching-Errors">&#182;</a></h2><p>The class <code>ExpectError</code> allows to express that some code produces an exception.  A typical usage looks as follows:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="kn">import</span> <span class="n">ExpectError</span>

<span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">function_that_is_supposed_to_fail</span><span class="p">()</span>
</pre></div>
<p>If an exception occurs, it is printed on standard error; yet, execution continues.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">traceback</span>
<span class="kn">import</span> <span class="nn">sys</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ExpectError</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># Begin of `with` block</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># End of `with` block</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">exc_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># No exception</span>
            <span class="k">return</span>

        <span class="c1"># An exception occurred - print it</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span>
                <span class="n">exc_type</span><span class="p">,</span>
                <span class="n">exc_value</span><span class="p">,</span>
                <span class="n">tb</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="s2">&quot;(expected)&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Ignore it</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's an example:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">fail_test</span><span class="p">():</span>
    <span class="c1"># Trigger an exception</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">/</span> <span class="mi">0</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">fail_test</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-5-67c629a2a842&gt;&#34;, line 2, in &lt;module&gt;
    fail_test()
  File &#34;&lt;ipython-input-4-2e8a6dbc7b2c&gt;&#34;, line 3, in fail_test
    x = 1 / 0
ZeroDivisionError: division by zero (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Catching-Timeouts">Catching Timeouts<a class="anchor-link" href="#Catching-Timeouts">&#182;</a></h2><p>The class <code>ExpectTimeout(seconds)</code> allows to express that some code may run for a long or infinite time; execution is thus interrupted after <code>seconds</code> seconds.  A typical usage looks as follows:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="kn">import</span> <span class="n">ExpectTimeout</span>

<span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">function_that_is_supposed_to_hang</span><span class="p">()</span>
</pre></div>
<p>If an exception occurs, it is printed on standard error (as with <code>ExpectError</code>); yet, execution continues.</p>
<p>Should there be a need to cancel the timeout within the <code>with</code> block, <code>t.cancel()</code> will do the trick.</p>
<p>The implementation uses <code>sys.settrace()</code>, as this seems to be the most portable way to implement timeouts.  It is not very efficient, though.  Also, it only works on individual lines of Python code and will not interrupt a long-running system function.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="c1"># Should be defined in Python 3</span>
    <span class="n">x</span> <span class="o">=</span> <span class="ne">TimeoutError</span>
<span class="k">except</span><span class="p">:</span>
    <span class="c1"># For Python 2</span>
    <span class="k">class</span> <span class="nc">TimeoutError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
        <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;Timeout&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">ExpectTimeout</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seconds</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">seconds_before_timeout</span> <span class="o">=</span> <span class="n">seconds</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="c1"># Tracing function</span>
    <span class="k">def</span> <span class="nf">check_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">frame</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="n">event</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>

        <span class="n">current_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">current_time</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">TimeoutError</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_time</span>

    <span class="c1"># Begin of `with` block</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">start_time</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">seconds_before_timeout</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">gettrace</span><span class="p">()</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">check_time</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># End of `with` block</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancel</span><span class="p">()</span>

        <span class="k">if</span> <span class="n">exc_type</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="c1"># An exception occurred - print it</span>
        <span class="n">lines</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">traceback</span><span class="o">.</span><span class="n">format_exception</span><span class="p">(</span>
                <span class="n">exc_type</span><span class="p">,</span>
                <span class="n">exc_value</span><span class="p">,</span>
                <span class="n">tb</span><span class="p">))</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">lines</span><span class="p">,</span> <span class="s2">&quot;(expected)&quot;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">True</span>  <span class="c1"># Ignore it</span>

    <span class="k">def</span> <span class="nf">cancel</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">sys</span><span class="o">.</span><span class="n">settrace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">original_trace_function</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's an example:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">long_running_test</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Start&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;seconds have passed&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;End&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">long_running_test</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Start
0 seconds have passed
1 seconds have passed
2 seconds have passed
3 seconds have passed
</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-10-7e5136e65261&gt;&#34;, line 2, in &lt;module&gt;
    long_running_test()
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-8-aaaa15884c7d&gt;&#34;, line 14, in check_time
    raise TimeoutError
TimeoutError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that it is possible to nest multiple timeouts.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">2</span><span class="p">):</span>
    <span class="k">with</span> <span class="n">ExpectTimeout</span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
        <span class="n">long_running_test</span><span class="p">()</span>
    <span class="n">long_running_test</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-11-b194d3a94b81&gt;&#34;, line 3, in &lt;module&gt;
    long_running_test()
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-8-aaaa15884c7d&gt;&#34;, line 14, in check_time
    raise TimeoutError
TimeoutError (expected)
</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Start
</pre>
</div>

</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-11-b194d3a94b81&gt;&#34;, line 4, in &lt;module&gt;
    long_running_test()
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-9-8d0f8e53f106&gt;&#34;, line 5, in long_running_test
    print(i, &#34;seconds have passed&#34;)
  File &#34;&lt;ipython-input-8-aaaa15884c7d&gt;&#34;, line 14, in check_time
    raise TimeoutError
TimeoutError (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That's it, folks – enjoy!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Timer">Timer<a class="anchor-link" href="#Timer">&#182;</a></h1><p>The code in this notebook helps with measuring time.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li>This notebook needs some understanding on advanced concepts in Python, notably <ul>
<li>classes</li>
<li>the Python <code>with</code> statement</li>
<li>measuring time</li>
</ul>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Measuring-Time">Measuring Time<a class="anchor-link" href="#Measuring-Time">&#182;</a></h2><p>The class <code>Timer</code> allows to measure the elapsed time during some code execution.  A typical usage looks as follows:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">Timer</span> <span class="kn">import</span> <span class="n">Timer</span>

<span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">function_that_is_supposed_to_be_timed</span><span class="p">()</span>

<span class="k">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">time</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">clock</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">perf_counter</span><span class="p">()</span>  <span class="c1"># Python 3</span>
    <span class="k">except</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">()</span>         <span class="c1"># Python 2</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Timer</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># Begin of `with` block</span>
    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span> <span class="o">=</span> <span class="n">clock</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="c1"># End of `with` block</span>
    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">tb</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">=</span> <span class="n">clock</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">elapsed_time</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Return elapsed time in seconds&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># still running</span>
            <span class="k">return</span> <span class="n">clock</span><span class="p">()</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">end_time</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">start_time</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's an example:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">some_long_running_function</span><span class="p">():</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">1000000</span>
    <span class="k">while</span> <span class="n">i</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">i</span> <span class="o">-=</span> <span class="mi">1</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stopping total time:&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="n">some_long_running_function</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Stopping total time:
0.049727770034223795
</pre>
</div>

</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Stopping time in between:&quot;</span><span class="p">)</span>
<span class="k">with</span> <span class="n">Timer</span><span class="p">()</span> <span class="k">as</span> <span class="n">t</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">elapsed_time</span><span class="p">())</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Stopping time in between:
3.019929863512516e-06
3.545393701642752e-05
5.91459684073925e-05
7.915194146335125e-05
0.00010011892300099134
0.0002519739791750908
0.00027598999440670013
0.0002946769818663597
0.0003164149820804596
0.0003359860274940729
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>That's it, folks – enjoy!</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Guide-for-Authors">Guide for Authors<a class="anchor-link" href="#Guide-for-Authors">&#182;</a></h1></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Welcome to &quot;Generating Software Tests&quot;!&#39;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Welcome to &#34;Generating Software Tests&#34;!
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This notebook compiles the most important conventions for all chapters (notebooks) of "Generating Software Tests".</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Organization-of-this-Book">Organization of this Book<a class="anchor-link" href="#Organization-of-this-Book">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Chapters--as-Notebooks">Chapters  as Notebooks<a class="anchor-link" href="#Chapters--as-Notebooks">&#182;</a></h3><p>Each chapter comes in its own <em>Jupyter notebook</em>.  A single notebook (= a chapter) should cover the material (text and code, possibly slides) for a 90-minute lecture.</p>
<p>A chapter notebook should be named <code>Topic.ipynb</code>, where <code>Topic</code> is the topic.  <code>Topic</code> must be usable as a Python module and should characterize the main contribution.  If the main contribution of your chapter is a class <code>FooFuzzer</code>, for instance, then your topic (and notebook name) should be <code>FooFuzzer</code>, such that users can state</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">FooFuzzer</span> <span class="kn">import</span> <span class="n">FooFuzzer</span>
</pre></div>
<p>Since class and module names should start with uppercase letters, all non-notebook files and folders start with lowercase letters. this may make it easier to differentiate them.  The special notebook <code>index.ipynb</code> gets converted into the home pages <code>index.html</code> (on fuzzingbook.org) and <code>README.md</code> (on GitHub).</p>
<p>Notebooks are stored in the <code>notebooks</code> folder.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Output-Formats">Output Formats<a class="anchor-link" href="#Output-Formats">&#182;</a></h3><p>The notebooks by themselves can be used by instructors and students to toy around with.  They can edit code (and text) as they like and even run them as a slide show.</p>
<p>The notebook can be <em>exported</em> to multiple (non-interactive) formats:</p>
<ul>
<li>HTML – for placing this material online.</li>
<li>PDF – for printing</li>
<li>Python – for coding</li>
<li>Slides – for presenting</li>
</ul>
<p>The included Makefile can generate all of these automatically.</p>
<p>At this point, we mostly focus on HTML and Python, as we want to get these out quickly; but you should also occasionally ensure that your notebooks can (still) be exported into PDF.  Other formats (Word, Markdown) are experimental.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Sites">Sites<a class="anchor-link" href="#Sites">&#182;</a></h2><p>All sources for the book end up on the <a href="https://github.com/uds-se/fuzzingbook">Github project page</a>.  This holds the sources (notebooks), utilities (Makefiles), as well as an issue tracker.</p>
<p>The derived material for the book ends up in the <code>docs/</code> folder, from where it is eventually pushed to the <a href="http://www.fuzzingbook.org/">fuzzingbook website</a>.  This site allows to read the chapters online, can launch Jupyter notebooks using the binder service, and provides access to code and slide formats.  Use <code>make publish</code> to create and update the site.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="The-Book-PDF">The Book PDF<a class="anchor-link" href="#The-Book-PDF">&#182;</a></h3><p>The book PDF is compiled automatically from the individual notebooks.  Each notebook becomes a chapter; references are compiled in the final chapter.  Use <code>make book</code> to create the book.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Creating-and-Building">Creating and Building<a class="anchor-link" href="#Creating-and-Building">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Tools-you-will-need">Tools you will need<a class="anchor-link" href="#Tools-you-will-need">&#182;</a></h3><p>To work on the notebook files, you need the following:</p>
<ol>
<li><p>Jupyter notebook.  The easiest way to install this is via the <a href="https://www.anaconda.com/download/">Anaconda distribution</a>.</p>
</li>
<li><p>Once you have the Jupyter notebook installed, you can start editing and coding right away by starting <code>jupyter notebook</code> (or <code>jupyter lab</code>) in the topmost project folder.</p>
</li>
<li><p>If (like me) you don't like the Jupyter Notebook interface, there's two alternatives I can recommend:</p>
<ul>
<li><a href="https://jupyterlab.readthedocs.io/en/stable/">Jupyter Lab</a> is the designated successor to Jupyter Notebook.  Invoke it as <code>jupyter lab</code>.  It comes with a much more modern interface, but misses autocompletion and a couple of extensions.  I am running it <a href="http://christopherroach.com/articles/jupyterlab-desktop-app/">as a Desktop application</a> which gets rid of all the browser toolbars.</li>
<li>On the Mac, the <a href="https://nwhitehead.github.io/pineapple/">Pineapple app</a> integrates a nice editor with a local server.  This is easy to use, but misses a few features; also, it hasn't seen updates since 2015.</li>
</ul>
</li>
<li><p>To create the entire book (with citations, references, and all), you also need the <a href="https://github.com/chrisjsewell/ipypublish">ipybublish</a> package.  This allows you to create the HTML files, merge multiple chapters into a single PDF or HTML file, create slides, and more.  The Makefile provides the essential tools for creation.</p>
</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Version-Control">Version Control<a class="anchor-link" href="#Version-Control">&#182;</a></h3><p>We use git in a single strand of revisions.  Feel free branch for features, but eventually merge back into the main "master" branch. Sync early; sync often.  Only push if everything ("make all") builds and passes.</p>
<p>The Github repo thus will typically reflect work in progress.  If you reach a stable milestone, you can push things on the fuzzingbook.org web site, using <code>make publish</code>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="nbdime">nbdime<a class="anchor-link" href="#nbdime">&#182;</a></h4><p>The <a href="https://github.com/jupyter/nbdime">nbdime</a> package gives you tools such as <code>nbdiff</code> (and even better, <code>nbdiff-web</code>) to compare notebooks against each other; this ensures that cell <em>contents</em> are compared rather than the binary format.</p>
<p><code>nbdime config-git --enable</code> integrates nbdime with git such that <code>git diff</code> runs the above tools; merging should also be notebook-specific.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="nbstripout">nbstripout<a class="anchor-link" href="#nbstripout">&#182;</a></h4><p>Notebooks in version control <em>should not contain output cells,</em> as these tend to change a lot.  (Hey, we're talking random output generation here!)  To have output cells automatically stripped during commit, install the <a href="https://github.com/kynan/nbstripout">nbstripout</a> package and use</p>

<pre><code>nbstripout --install --attributes .gitattributes</code></pre>
<p>in the <code>notebooks</code> folder to set it up as a git filter.  As an example, the following cell should not have its output included in the git repo:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>0.10200998693048346
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h4 id="Missing-compilation-dependencies">Missing compilation dependencies<a class="anchor-link" href="#Missing-compilation-dependencies">&#182;</a></h4><p>The <strong>nbdime</strong> uses <a href="https://inkscape.org/en/">Inkscape</a> and <a href="https://www.graphviz.org/">Graphviz</a> - through its <a href="https://pypi.org/project/graphviz/">Python wrapper</a> - to process  SVG images. These tool are not automatically installed, but are available on pip, <em>brew</em> and <em>apt-get</em> for all major distributions.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Creating-Derived-Formats-(HTML,-PDF,-code,-...)">Creating Derived Formats (HTML, PDF, code, ...)<a class="anchor-link" href="#Creating-Derived-Formats-(HTML,-PDF,-code,-...)">&#182;</a></h3><p>The <a href="../Makefile">Makefile</a> provides rules for all targets.  Type <code>make help</code> for instructions.</p>
<p>The Makefile should work with GNU make and a standard Jupyter Notebook installation.  To create the multi-chapter book and BibTeX citation support, you need to install the  <a href="https://github.com/chrisjsewell/ipypublish">iPyPublish</a> package (which includes the <code>nbpublish</code> command).</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Creating-a-New-Chapter">Creating a New Chapter<a class="anchor-link" href="#Creating-a-New-Chapter">&#182;</a></h3><p>To create a new chapter for the book,</p>
<ol>
<li>Set up a new <code>.ipynb</code> notebook file as copy of <a href="Template.html">Template.ipynb</a>.</li>
<li>Include it in the <code>CHAPTERS</code> list in the <code>Makefile</code>.</li>
<li>Add it to the git repository.</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Teaching-a-Topic">Teaching a Topic<a class="anchor-link" href="#Teaching-a-Topic">&#182;</a></h2><p>Each chapter should be devoted to a central concept and a small set of lessons to be learned.  I recommend the following structure:</p>
<ul>
<li>Introduce the problem ("We want to parse inputs")</li>
<li>Illustrate it with some code examples ("Here's some input I'd like to parse")</li>
<li>Develop a first (possibly quick and dirty) solution ("A PEG parser is short and often does the job"_</li>
<li>Show that it works and how it works ("Here's a neat derivation tree.  Look how we can use this to mutate and combine expressions!")</li>
<li>Develop a second, more elaborated solution, which should then become the main contribution.  ("Here's a general LR(1) parser that does not require a special grammar format.  (You can skip it if you're not interested)")</li>
<li>Offload non-essential extensions to later sections or to exercises.  ("Implement a universal parser, using the Dragon Book")</li>
</ul>
<p>The key idea is that readers should be able to grasp the essentials of the problem and the solution in the beginning of the chapter, and get further into details as they progress through it.  Make it easy for readers to be drawn in, providing insights of value quickly.  If they are interested to understand how things work, they will get deeper into the topic.  If they just want to use the technique (because they may be more interested in later chapters), having them read only the first few examples should be fine for them, too.</p>
<p>Whatever you introduce should be motivated first, and illustrated after.  Motivate the code you'll be writing, and use plenty of examples to show what the code just introduced is doing.  Remember that readers should have fun interacting with your code and your examples.  Show and tell again and again and again.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Coding">Coding<a class="anchor-link" href="#Coding">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Set-up">Set up<a class="anchor-link" href="#Set-up">&#182;</a></h3><p>The first code block in each notebook should be</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This sets up stuff such that notebooks can import each other's code (see below). This import statement is removed in the exported Python code, as the .py files would import each other directly.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Importing <code>fuzzingbook_utils</code> also sets a fixed <em>seed</em> for random number generation.  This way, whenever you execute a notebook from scratch (restarting the kernel), you get the exact same results; these results will also end up in the derived HTML and PDF files.  (If you run a notebook or a cell for the second time, you will get more random results.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Coding-Style-and-Consistency">Coding Style and Consistency<a class="anchor-link" href="#Coding-Style-and-Consistency">&#182;</a></h3><p>We use Python 3 (specifically, Python 3.6) for all code.  If you can, try to write code that can be easily backported to Python 2.</p>
<p>We use standard Python coding conventions according to <a href="https://www.python.org/dev/peps/pep-0008/">PEP 8</a>.</p>
<p>Use one cell for each definition or example.  During importing, this makes it easier to decide which cells to import (see below).</p>
<p>Your code must pass the <code>pycodestyle</code> style checks which you get by invoking <code>make style</code>.  A very easy way to meet this goal is to invoke <code>make reformat</code>, which reformats all code accordingly.  The <code>code prettify</code> notebook extension also allows you to automatically make your code adhere to PEP 8.</p>
<p>In the book, this is how we denote <code>variables</code>, <code>functions()</code>, <code>Classes</code>, <code>Notebooks</code>, <code>variables_and_constants</code>, <code>EXPORTED_CONSTANTS</code>, <code>'characters'</code>, <code>"strings"</code>, and <code>&lt;grammar-elements&gt;</code>.</p>
<p>Beyond simple syntactical things, here's a <a href="https://docs.python-guide.org/writing/style/">very nice guide</a> to get you started writing "pythonic" code.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Importing-Code-from-Notebooks">Importing Code from Notebooks<a class="anchor-link" href="#Importing-Code-from-Notebooks">&#182;</a></h3><p>To import the code of individual notebooks, you can import directly from .ipynb notebook files.</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">Fuzzer</span> <span class="k">import</span> <span class="n">fuzzer</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">fuzzer</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="nb">ord</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_text output_subarea output_execute_result">
<pre>&#39;050199092904721615267546627640773972382632848750065259698551700448752187153&#39;
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Important</strong>: When importing a notebook, the module loader will <strong>only</strong> load cells that start with</p>
<ul>
<li>a function definition (<code>def</code>)</li>
<li>a class definition (<code>class</code>)</li>
<li>a variable definition if all uppercase (<code>ABC = 123</code>)</li>
<li><code>import</code> and <code>from</code> statements</li>
</ul>
<p>All other cells are <em>ignored</em> to avoid recomputation of notebooks and clutter of <code>print()</code> output.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>The exported Python code will import from the respective .py file instead.  (There's no filtering here as with notebooks, so you'll see plenty of output when importing.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Import modules only as you need them, such that you can motivate them well in the text.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Design-and-Architecture">Design and Architecture<a class="anchor-link" href="#Design-and-Architecture">&#182;</a></h3><p>Stick to simple functions and data types.  We want our readers to focus on functionality, not Python.  You are encouraged to write in a "pythonic" style, making use of elegant Python features such as list comprehensions, sets, and more; however, if you do so, be sure to explain the code such that readers familiar with, say, C or Java can still understand things.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Introducing-Classes">Introducing Classes<a class="anchor-link" href="#Introducing-Classes">&#182;</a></h3><p>Defining <em>classes</em> can be a bit tricky, since all of a class must fit into a single cell.  This defeats the incremental style preferred for notebooks.  By defining a class <em>as a subclass of itself</em>, though, you can avoid this problem.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Here's an example.  We introduce a class <code>Foo</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">bar</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Now we could discuss what <code>__init__()</code> and <code>bar()</code> do, or give an example of how to use them:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>We now can introduce a new <code>Foo</code> method by subclassing from <code>Foo</code> into a class which is <em>also</em> called <code>Foo</code>:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">Foo</span><span class="p">(</span><span class="n">Foo</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">baz</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>This is the same as if we had subclassed <code>Foo</code> into <code>Foo_1</code> with <code>Foo</code> then becoming an alias for <code>Foo_1</code>.  The original <code>Foo</code> class is overshadowed by the new one:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">new_f</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">()</span>
<span class="n">new_f</span><span class="o">.</span><span class="n">baz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note, though, that <em>existing</em> objects keep their original class:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="n">f</span><span class="o">.</span><span class="n">baz</span><span class="p">()</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-11-19c0eadbd4d4&gt;&#34;, line 2, in &lt;module&gt;
    f.baz()
AttributeError: &#39;Foo&#39; object has no attribute &#39;baz&#39; (expected)
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Helpers">Helpers<a class="anchor-link" href="#Helpers">&#182;</a></h2><p>There's a couple of notebooks with helpful functions, including <a href="Timer.html">Timer</a>, <a href="ExpectError.html">ExpectError and ExpectTimeout</a>.  Also check out the <a href="Coverage.html">Coverage</a> class.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Quality-Assurance">Quality Assurance<a class="anchor-link" href="#Quality-Assurance">&#182;</a></h3><p>In your code, make use of plenty of assertions that allow to catch errors quickly.  These assertions also help your readers understand the code.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Issue-Tracker">Issue Tracker<a class="anchor-link" href="#Issue-Tracker">&#182;</a></h3><p>The <a href="https://github.com/uds-se/fuzzingbook">Github project page</a> allows to enter and track issues.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Writing-Text">Writing Text<a class="anchor-link" href="#Writing-Text">&#182;</a></h2><p>Text blocks use Markdown syntax.  <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Here is a handy guide</a>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Sections">Sections<a class="anchor-link" href="#Sections">&#182;</a></h3><p>Any chapter notebook must begin with <code># TITLE</code>, and sections and subsections should then follow by <code>## SECTION</code> and <code>### SUBSECTION</code>.</p>
<p>Sections should start with their own block, to facilitate cross-referencing.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Highlighting">Highlighting<a class="anchor-link" href="#Highlighting">&#182;</a></h3><p>Use</p>
<ul>
<li><em>emphasis</em> (<code>_emphasis_</code>) for highlighting,</li>
<li><code>backticks</code> for code and other verbatim elements.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Hyphens-and-Dashes">Hyphens and Dashes<a class="anchor-link" href="#Hyphens-and-Dashes">&#182;</a></h3><p>Use – (<code>–</code>) for em-dashes, - (<code>-</code>) for hyphens, and $-$ (<code>$-$</code>) for minus.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Lists-and-Enumerations">Lists and Enumerations<a class="anchor-link" href="#Lists-and-Enumerations">&#182;</a></h3><p>You can use bulleted lists:</p>
<ul>
<li>Item A</li>
<li>Item B</li>
</ul>
<p>and enumerations:</p>
<ol>
<li>item 1</li>
<li>item 2</li>
</ol>
<p>For description lists, use a combination of bulleted lists and highlights:</p>
<ul>
<li><strong>PDF</strong> is great for reading offline</li>
<li><strong>HTML</strong> is great for reading online</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Math">Math<a class="anchor-link" href="#Math">&#182;</a></h3><p>LaTeX math formatting works, too.</p>
<p><code>$x = \sum_{n = 1}^{\infty}{n}$</code> gets you
$x = \sum_{n = 1}^{\infty}{n}$.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Inline-Code">Inline Code<a class="anchor-link" href="#Inline-Code">&#182;</a></h3><p>Python code normally goes into its own cells, but you can also have it in the text:</p>
<div class="highlight"><pre><span></span><span class="n">s</span> <span class="o">=</span> <span class="s2">&quot;Python syntax highlighting&quot;</span>
<span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Images">Images<a class="anchor-link" href="#Images">&#182;</a></h2><p>To insert images, use Markdown syntax <code>![Word cloud](PICS/wordcloud.png){width=100%}</code> inserts a picture from the <code>PICS</code> folder.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><img src="PICS/wordcloud.png" alt="Word cloud">{width=100%}</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>All pictures go to <code>PICS/</code>, both in source as well as derived formats; both are stored in git, too.  (Not all of us have all tools to recreate diagrams, etc.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Floating-Elements-and-References">Floating Elements and References<a class="anchor-link" href="#Floating-Elements-and-References">&#182;</a></h2><p>To produce floating elements in LaTeX and PDF, edit the metadata of the cell which contains it. (In the Jupyter Notebook Toolbar go to View -&gt; Cell Toolbar -&gt; Edit Metadata and a button will appear above each cell.) This allows you to control placement and create labels.</p>
<h3 id="Floating-Figures">Floating Figures<a class="anchor-link" href="#Floating-Figures">&#182;</a></h3><p>Edit metadata as follows:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;ipub&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="nt">&quot;figure&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;caption&quot;</span><span class="p">:</span> <span class="s2">&quot;Figure caption.&quot;</span><span class="p">,</span>
    <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;fig:flabel&quot;</span><span class="p">,</span>
    <span class="nt">&quot;placement&quot;</span><span class="p">:</span> <span class="s2">&quot;H&quot;</span><span class="p">,</span>
    <span class="nt">&quot;height&quot;</span><span class="p">:</span><span class="mf">0.4</span><span class="p">,</span>
    <span class="nt">&quot;widefigure&quot;</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<ul>
<li>all tags are optional</li>
<li>height/width correspond to the fraction of the page height/width, only one should be used (aspect ratio will be maintained automatically)</li>
<li><code>placement</code> is optional and constitutes using a placement arguments for the figure (e.g. [H]). See <a href="https://www.sharelatex.com/learn/Positioning_images_and_tables">Positioning_images_and_tables</a>.</li>
<li><code>widefigure</code> is optional and constitutes expanding the figure to the page width (i.e. ) (placement arguments will then be ignored)</li>
</ul>
<h3 id="Floating-Tables">Floating Tables<a class="anchor-link" href="#Floating-Tables">&#182;</a></h3><p>For  <strong>tables</strong> (e.g. those output by <code>pandas</code>), enter in cell metadata:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
<span class="nt">&quot;ipub&quot;</span><span class="p">:</span> <span class="p">{</span>
     <span class="nt">&quot;table&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;caption&quot;</span><span class="p">:</span> <span class="s2">&quot;Table caption.&quot;</span><span class="p">,</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;tbl:tlabel&quot;</span><span class="p">,</span>
        <span class="nt">&quot;placement&quot;</span><span class="p">:</span> <span class="s2">&quot;H&quot;</span><span class="p">,</span>
            <span class="nt">&quot;alternate&quot;</span><span class="p">:</span> <span class="s2">&quot;gray!20&quot;</span>
      <span class="p">}</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<ul>
<li><code>caption</code> and <code>label</code> are optional</li>
<li><code>placement</code> is optional and constitutes using a placement arguments for the table (e.g. [H]). See <a href="https://www.sharelatex.com/learn/Positioning_images_and_tables">Positioning_images_and_tables</a>.</li>
<li><code>alternate</code> is optional and constitutes using alternating colors for the table rows (e.g. {gray!25}{white}). See (<a href="https://tex.stackexchange.com/a/5365/107738)[https://tex.stackexchange.com/a/5365/107738">https://tex.stackexchange.com/a/5365/107738)[https://tex.stackexchange.com/a/5365/107738</a>].</li>
<li>if tables exceed the text width, in latex, they will be shrunk to fit </li>
</ul>
<h3 id="Floating-Equations">Floating Equations<a class="anchor-link" href="#Floating-Equations">&#182;</a></h3><p>For  <strong>equations</strong> (e.g. those output by <code>sympy</code>), enter in cell metadata:</p>
<div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;ipub&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;equation&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;environment&quot;</span><span class="p">:</span> <span class="s2">&quot;equation&quot;</span><span class="p">,</span>
        <span class="nt">&quot;label&quot;</span><span class="p">:</span> <span class="s2">&quot;eqn:elabel&quot;</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
<ul>
<li>environment is optional and can be 'none' or any of those available in <a href="https://www.sharelatex.com/learn/Aligning_equations_with_amsmath">amsmath</a>; 'equation', 'align','multline','gather', or their * variants. Additionaly, 'breqn' or 'breqn*' will select the experimental <a href="https://ctan.org/pkg/breqn">breqn</a> environment to <em>smart</em> wrap long equations. </li>
<li>label is optional and will only be used if the equation is in an environment</li>
</ul>
<h3 id="References">References<a class="anchor-link" href="#References">&#182;</a></h3><p>To reference to a floating object, use <code>\cref</code>, e.g. <a href="#eq:texdemo">eq. 1</a></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Cross-Referencing">Cross-Referencing<a class="anchor-link" href="#Cross-Referencing">&#182;</a></h2><h3 id="Section-References">Section References<a class="anchor-link" href="#Section-References">&#182;</a></h3><ul>
<li><p>To refer to sections in the same notebook, use the header name as anchor, e.g. 
<code>[Code](#Code)</code> gives you <a href="#Code">Code</a>.  For multi-word titles, replace spaces by hyphens (<code>-</code>), as in <a href="#Using-Notebooks-as-Modules">Using Notebooks as Modules</a>.</p>
</li>
<li><p>To refer to cells (e.g. equations or figures), you can define a label as cell metadata.  See <a href="#Floating-Elements-and-References">Floating Elements and References</a> for details.</p>
</li>
<li><p>To refer to other notebooks, use a Markdown cross-reference to the notebook file, e.g. <a href="Fuzzer.html">the "Fuzzing" chapter</a>.  A special script will be run to take care of these links.  Reference chapters by name, not by number.</p>
</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Citations">Citations<a class="anchor-link" href="#Citations">&#182;</a></h3><p>To cite papers, cite in LaTeX style.  The text</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\cite</span><span class="si">{purdom1972}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>\cite{purdom1972}
</pre>
</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>is expanded to [<a href="https://doi.org/10.1007/BF01932308">Purdom <em>et al</em>, 1972.</a>], which in HTML and PDF should be a nice reference.
The keys refer to BibTeX entries in <a href="fuzzingbook.bib">fuzzingbook.bib</a>.</p>
<ul>
<li>LaTeX/PDF output will have a "References" section appended.</li>
<li>HTML output will link to the URL field from the BibTeX entry. Be sure it points to the DOI.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Todo's">Todo's<a class="anchor-link" href="#Todo's">&#182;</a></h2><ul>
<li>To mark todo's, use <code>.</code>  </li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Tables">Tables<a class="anchor-link" href="#Tables">&#182;</a></h2><p>Tables with fixed contents can be produced using Markdown syntax:</p>
<table>
<thead><tr>
<th>Tables</th>
<th style="text-align:right">Are</th>
<th style="text-align:right">Cool</th>
</tr>
</thead>
<tbody>
<tr>
<td>Zebra</td>
<td style="text-align:right">2</td>
<td style="text-align:right">30</td>
</tr>
<tr>
<td>Gnu</td>
<td style="text-align:right">20</td>
<td style="text-align:right">400</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you want to produce tables from Python data, the <code>PrettyTable</code> package (included in the book) allows to <a href="http://blog.juliusschulz.de/blog/ultimate-ipython-notebook">produce tables with LaTeX-style formatting.</a></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">fuzzingbook_utils.PrettyTable</span> <span class="k">as</span> <span class="nn">pt</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">400</span><span class="p">]])</span>
<span class="n">pt</span><span class="o">.</span><span class="n">PrettyTable</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="p">[</span><span class="sa">r</span><span class="s2">&quot;$\frac</span><span class="si">{a}{b}</span><span class="s2">$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;$b$&quot;</span><span class="p">,</span>
                      <span class="sa">r</span><span class="s2">&quot;$c$&quot;</span><span class="p">],</span> <span class="n">print_latex_longtable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_html rendered_html output_subarea output_execute_result">

<table><tr><td>$\frac{a}{b}$</td><td>$b$</td><td>$c$</td></tr><tr><td>1</td><td>2</td><td>30</td></tr><tr><td>2</td><td>3</td><td>400</td></tr></table>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Plots-and-Data">Plots and Data<a class="anchor-link" href="#Plots-and-Data">&#182;</a></h2><p>It is possible to include plots in notebooks.  Here is an example of plotting a function:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">**</span> <span class="mi">2</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;A simple chirp&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>And here's an example of plotting data:</p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">36</span><span class="p">,</span> <span class="mi">57</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Increase in data&#39;</span><span class="p">);</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_image output_png output_subarea ">
<img src="data:image/png;base64,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
"
>

</div>

</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Plots are available in all derived versions (HTML, PDF, etc.)  Plots with <code>plotly</code> are even nicer (and interactive, even in HTML),  However, at this point, we cannot export them to PDF, so <code>matplotlib</code> it is.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Slides">Slides<a class="anchor-link" href="#Slides">&#182;</a></h2><p>You can set up the notebooks such that they also can be presented as slides.  In the browser, select View -&gt; Cell Toolbar -&gt; Slideshow.  You can then select a slide type for each cell:</p>
<ul>
<li><code>New slide</code> starts a new slide with the cell (typically, every <code>## SECTION</code> in the chapter)</li>
<li><code>Sub-slide</code> starts a new sub-slide which you navigate "down" to (anything in the section)</li>
<li><code>Fragment</code> is a cell that gets revealed after a click (on the same slide)</li>
<li><code>Skip</code> is skipped during the slide show (e.g. <code>import</code> statements; navigation guides)</li>
<li><code>Notes</code> goes into presenter notes</li>
</ul>
<p>To create slides, do <code>make slides</code>; to view them, change into the <code>slides/</code> folder and open the created HTML files.  (The <code>reveal.js</code> package has to be in the same folder as the slide to be presented.)</p>
<p>The ability to use slide shows is a compelling argument for teachers and instructors in our audience.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>(Hint: In a slide presentation, type <code>s</code> to see presenter notes.)</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Writing-Tools">Writing Tools<a class="anchor-link" href="#Writing-Tools">&#182;</a></h2><p>When you're editing in the browser, you may find these extensions helpful:  <a href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions">Jupyter Notebook Extensions</a> is a collection of productivity-enhancing tools (including spellcheckers).</p>
<p>I found these extensions to be particularly useful:</p>
<ul>
<li><p>Code prettify (to produce "nice" syntax)</p>
</li>
<li><p>Codefolding</p>
</li>
<li><p>Live Markdown Preview (while you're editing)</p>
</li>
<li><p>Spell Checker (while you're editing)</p>
</li>
<li><p>Table of contents (for quick navigation)</p>
</li>
</ul>
<p>Extensions for <em>Jupyter Lab</em> are much less varied and less supported, but things get better.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Interaction">Interaction<a class="anchor-link" href="#Interaction">&#182;</a></h2><p>It is possible to include interactive elements in a notebook, as in the following example:</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">interact</span><span class="p">(</span><span class="n">fuzzer</span><span class="p">,</span> <span class="n">char_start</span><span class="o">=</span><span class="p">(</span><span class="mi">32</span><span class="p">,</span> <span class="mi">128</span><span class="p">),</span> <span class="n">char_range</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">96</span><span class="p">))</span>
<span class="k">except</span> <span class="ne">ImportError</span><span class="p">:</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>Note that such elements will be present in the notebook versions only, but not in the HTML and PDF versions, so use them sparingly (if at all).  To avoid errors during production of derived files, protect against <code>ImportError</code> exceptions as in the above example.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Read-More">Read More<a class="anchor-link" href="#Read-More">&#182;</a></h2><p>Here is some documentation on the tools we use:</p>
<ol>
<li><p><a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a> - general introduction to Markdown</p>
</li>
<li><p><a href="https://github.com/chrisjsewell/ipypublish">iPyPublish</a> - rich set of tools to create documents with citations and references</p>
</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Alternative-Tool-Sets">Alternative Tool Sets<a class="anchor-link" href="#Alternative-Tool-Sets">&#182;</a></h2><p>We don't currently use these, but they are worth learning:</p>
<ol>
<li><p><a href="http://blog.juliusschulz.de/blog/ultimate-ipython-notebook">Making Publication-Ready Python Notebooks</a> - Another tool set on how to produce book chapters from notebooks</p>
</li>
<li><p><a href="https://sylvaindeville.net/2015/07/17/writing-academic-papers-in-plain-text-with-markdown-and-jupyter-notebook/">Writing academic papers in plain text with Markdown and Jupyter notebook</a> - Alternate ways on how to generate citations</p>
</li>
<li><p><a href="https://gist.github.com/goerz/d5019bedacf5956bcf03ca8683dc5217#file-revtex-tplx">A Jupyter LaTeX template</a> - How to define a LaTeX template</p>
</li>
<li><p><a href="https://towardsdatascience.com/jupyter-notebook-hints-1f26b08429ad">Boost Your Jupyter Notebook Productivity</a> - a collection of hints for debugging and profiling Jupyter notebooks</p>
</li>
</ol>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Title"><em>Title</em><a class="anchor-link" href="#Title">&#182;</a></h1><p><em>Brief abstract/introduction/motivation.  State what the chapter is about in 1-2 paragraphs.</em></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><strong>Prerequisites</strong></p>
<ul>
<li><em>Refer to earlier chapters as notebooks here, as here:</em> <a href="Fuzzer.html">Earlier Chapter</a>.</li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Section-1"><em>Section 1</em><a class="anchor-link" href="#Section-1">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Section-2"><em>Section 2</em><a class="anchor-link" href="#Section-2">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Section-3"><em>Section 3</em><a class="anchor-link" href="#Section-3">&#182;</a></h2><p><em>If you want to introduce code, it is helpful to state the most important functions, as in:</em></p>
<ul>
<li><code>random.randrange(start, end)</code> - return a random number [<code>start</code>, <code>end</code>]</li>
<li><code>range(start, end)</code> - create a list with integers from <code>start</code> to <code>end</code>.  Typically used in iterations.</li>
<li><code>for elem in list: body</code> executes <code>body</code> in a loop with <code>elem</code> taking each value from <code>list</code>.</li>
<li><code>for i in range(start, end): body</code> executes <code>body</code> in a loop with <code>i</code> from <code>start</code> to <code>end</code> - 1.</li>
<li><code>chr(n)</code> - return a character with ASCII code <code>n</code></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># More code</span>
<span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Even more code</span>
<span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Section-4"><em>Section 4</em><a class="anchor-link" href="#Section-4">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Lessons-Learned">Lessons Learned<a class="anchor-link" href="#Lessons-Learned">&#182;</a></h2><ul>
<li><em>Lesson one</em></li>
<li><em>Lesson two</em></li>
<li><em>Lesson three</em></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Next-Steps">Next Steps<a class="anchor-link" href="#Next-Steps">&#182;</a></h2><p><em>Link to subsequent chapters (notebooks) here, as in:</em></p>
<ul>
<li><a href="MutationFuzzer.html">use <em>mutations</em> on existing inputs to get more valid inputs</a></li>
<li><a href="Grammars.html">use <em>grammars</em> (i.e., a specification of the input format) to get even more valid inputs</a></li>
<li><a href="Reducing.html">reduce <em>failing inputs</em> for efficient debugging</a></li>
</ul>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Exercises">Exercises<a class="anchor-link" href="#Exercises">&#182;</a></h2><p>Close the chapter with a few exercises such that people have things to do.  To make the solutions hidden (to be revealed by the user), have them start with</p>

<pre><code>markdown
**Solution.**</code></pre>
<p>Your solution can then extend up to the next title (i.e., any markdown cell starting with <code>#</code>).</p>
<p>Running <code>make metadata</code> will automatically add metadata to the cells such that the cells will be hidden by default, and can be uncovered by the user.  The button will be introduced above the solution.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-1:-Title">Exercise 1: <em>Title</em><a class="anchor-link" href="#Exercise-1:-Title">&#182;</a></h3><p><em>Text of the exercise</em></p>
</div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Some code that is part of the exercise</span>
<span class="k">pass</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p><em>Some more text for the exercise</em></p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h3 id="Exercise-2:-Title">Exercise 2: <em>Title</em><a class="anchor-link" href="#Exercise-2:-Title">&#182;</a></h3><p><em>Text of the exercise</em></p>

    
<p><div class="solution_link"><a href="https://mybinder.org/v2/gh/uds-se/fuzzingbook/master?filepath=docs/notebooks/book.ipynb#Exercises" target=_blank>Use the notebook</a> to work on the exercises and see solutions.</div></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h1 id="Oh-no!--We-are-not-ready-yet!">Oh no!  We are not ready yet!<a class="anchor-link" href="#Oh-no!--We-are-not-ready-yet!">&#182;</a></h1><p>We're sorry - this page does not exist (yet).</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Finding-Content">Finding Content<a class="anchor-link" href="#Finding-Content">&#182;</a></h2><p>Most likely, you have been looking for material that is not yet written or not yet published.  Go to the <a href="https://www.fuzzingbook.org">home page</a> or choose from this list of chapters:</p>
<ol>
               <li><a href="https://www.fuzzingbook.org"><i class="fa fa-fw fa-home"></i> About this book</a></li>
<li><a href="Intro_Testing.html">Introduction to Software Testing</a></li>
<li><a href="Fuzzer.html">Fuzzing: Breaking Things with Random Inputs</a></li>

</ol></div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><p>If you think this is an error, please <a href="https://github.com/uds-se/fuzzingbook/issues/">report an issue</a>.</p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Getting-Informed-About-New-Content">Getting Informed About New Content<a class="anchor-link" href="#Getting-Informed-About-New-Content">&#182;</a></h2><p>New chapters are coming out every week.  To get notified when a new chapter (or this one) comes out, <a href="https://twitter.com/FuzzingBook?ref_src=twsrc%5Etfw" data-show-count="false">follow us on Twitter</a>.</p>
<p><a class="twitter-timeline" data-width="500" data-chrome="noheader nofooter noborders transparent" data-link-color="#A93226" data-align="center" href="https://twitter.com/FuzzingBook?ref_src=twsrc%5Etfw">News from @FuzzingBook</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script></p>
</div>
</div>
</div>
</div>

<div class="input_markdown">
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html"><h2 id="Error-Details">Error Details<a class="anchor-link" href="#Error-Details">&#182;</a></h2></div>
</div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">fuzzingbook_utils</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">class</span> <span class="nc">NotFoundError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;404&quot;</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="nb">repr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="input_code">
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
<div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ExpectError</span> <span class="k">import</span> <span class="n">ExpectError</span>

<span class="k">with</span> <span class="n">ExpectError</span><span class="p">():</span>
    <span class="k">raise</span> <span class="n">NotFoundError</span>
</pre></div>

</div>
</div></div>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>Traceback (most recent call last):
  File &#34;&lt;ipython-input-3-f7cd072299fb&gt;&#34;, line 4, in &lt;module&gt;
    raise NotFoundError
NotFoundError: &#39;404&#39; (expected)
</pre>
</div>

</div>

        
<p class="imprint">
<img style="float:right" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" alt="Creative Commons License">
The content of this project is licensed under the
<a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target=_blank>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
The source code that is part of the content, as well as the source code used to format and display that content is licensed under the <a href="https://github.com/github/choosealicense.com/blob/gh-pages/LICENSE.md">MIT License</a>.
<a href="https://github.com/uds-se/fuzzingbook/commits/master/notebooks/book.ipynb" target=_blank)>Last change: 2018-10-02 03:29:18-07:00</a> &bull; 
<a href="#citation" id="cite" onclick="revealCitation()">Cite</a> &bull;
<a href="https://www.uni-saarland.de/en/footer/dialogue/legal-notice.html" target=_blank>Imprint</a>
</p>

<script>
function revealCitation() {
    var c = document.getElementById("citation");
    c.style.display = "block";
}
</script>

<div id="citation" class="citation" style="display: none;">
<a name="citation"></a>
<h2>How to Cite this Work</h2>
<p>
Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler: "<a href="https://www.fuzzingbook.org/html/book.html">About this Book</a>".  In Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler (eds.), "<a href="https://www.fuzzingbook.org/">Generating Software Tests</a>", <a href="https://www.fuzzingbook.org/html/book.html">https://www.fuzzingbook.org/html/book.html</a>.  Retrieved 2018-10-02 03:29:18-07:00.
</p>
<pre>
@incollection{fuzzingbook2018:book,
    author = {Andreas Zeller, Rahul Gopinath, Marcel Böhme, Gordon Fraser, and Christian Holler},
    booktitle = {Generating Software Tests},
    title = {About this Book},
    year = {2018},
    publisher = {Saarland University},
    howpublished = {\url{https://www.fuzzingbook.org/html/book.html}},
    note = {Retrieved 2018-10-02 03:29:18-07:00},
    url = {https://www.fuzzingbook.org/html/book.html},
    urldate = {2018-10-02 03:29:18-07:00}
}
</pre>
</div>

      </div>
    </div>
    </article>

 </body>

</html>